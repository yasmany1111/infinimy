{"version":3,"sources":["node_modules/regenerator-runtime/runtime.js","node_modules/regenerator-runtime/runtime-module.js","node_modules/@babel/runtime/regenerator/index.js","node_modules/@babel/runtime/helpers/asyncToGenerator.js","src/states/preload.js","src/states/update.js","src/ui/keyboard.js","src/data/sectorName.js","src/classes/items/Minerals.js","src/sectors/generator.js","src/api/angle.js","src/api/assistant.js","src/api/overlayInfo.js","src/ui/interactiveSprites.js","src/classes/GameSprite.js","src/sectors/manager.js","src/classes/tools/miningLaser.js","src/classes/tools/navigator.js","src/classes/systems/modules/Inventory.js","src/classes/systems/modules/Engine.js","src/classes/PlayerShip.js","src/ui/debugger.js","src/states/create.js","src/generalVariables.js","src/ui/virtualJoystick.js","src/api/sliderRequest.js","src/ui/managerMenu.js","src/ui/map.js","src/ui/touchMenu.js","src/ui/resizer.js","src/main.js","index.js"],"names":["preload","load","image","i","update10Count","update20Count","updateAt20","name","fn","updateAt10","updateDefault","update","length","pEnd","performance","now","pStart","$","css","html","roundUsing","Math","floor","count","registerUpdate","push","registerUpdate10","registerUpdate20","func","number","prec","tempnumber","pow","KeyboardHandler","registerKeyboardEvents","key_W","input","keyboard","addKey","Phaser","Input","Keyboard","KeyCodes","W","key_S","S","key_A","A","key_D","D","SectorNamesArray","loadSectorNames","Promise","resolve","yy","http","get","then","listTxt","split","getRandomSectorName","seed","random","int","Minerals","mass","rarity","demoSector","x","y","staticAsteroids","generateNewSector","options","sectorObject","generateAsteroids","staticPlanets","generatePlanets","numberOfAttempts","startPos","endPos","resultObjectCont","asteroidDemo","width","height","sceneReference","undefined","posX","posY","aspect","textureNumber","minerals","c","cMineral","chance","mineral","amount","obj","texture","checkCollision","planetDemo","newPlanet","createPlanet","hasStation","currentObject","currentArray","collides","objX","objY","objWidth","objHeight","Geom","Intersects","RectangleToRectangle","Rectangle","newStation","station","angleBetweenSprites","spriteOrigin","spriteDestiny","center","angle","Angle","Between","displayWidth","displayHeight","angleToSprite","assistantSpeak","what","responsiveVoice","speak","overlayCounter","showOverlayOver","remove","append","content","qo","find","click","SelectedSprite","selectionTimer","selectionDesire","setSelectedSprite","onDown","setTimeout","onHold","Sprite","memoryReference","type","resources","pointerUp","playerShip","desiredAngle","clearTimeout","globalPointerUp","getCenter","w","h","getSelectedSprite","GameSprite","Game","physics","add","sprite","setOrigin","classInstance","$this","setInteractive","on","pointer","localX","localY","event","CurrentSector","SectorSize","sectorChangeEvents","SectorsInMemory","registerSectorManager","generateAndLoadSector","destroyCurrentSectorData","cSector","cAsteroid","destroy","cPlanet","loadSectorData","nAsteroid","sAsteroid","setDepth","onPointerDown","onPointerUp","nPlanet","spritePlanet","spriteStation","apply","onSectorChange","newFn","getCurrentSector","MiningLaser","returnLaser","active","selected","laserSprite","laserPhysiscs","body","enable","visible","toolContainer","hitAsteroid","miningInerval","console","log","ship","Inventory","addItem","checkIfAsteroidInRange","asteroid","overlap","a","b","setActive","state","onMove","Navigator","returnNavigator","lastPointer","cameras","main","scrollX","scrollY","rotation","InventoryModule","inventorySystem","items","capacity","getUsed","getCapacityUsed","force","getItem","findItemStack","inventory","capacityUsed","fits","ret","stack","emptyStackClear","inventoryItems","EngineModule","engineModule","EngineModule2","isTouch","PlayerShip","setDrag","setAngularDrag","setMaxVelocity","textureName","replace","wantAccelerate","Speed","rotationSpeed","container","tools","selectedTool","modules","module","Engine","acceleration","maxDrag","maxSpeed","device","indexOrName","moveHandler","move","setPosition","setAngle","velocityFromRotation","accelerate","setTexture","setAcceleration","abs","isDown","generateTopDebugger","debugDisplay","attr","appendTo","window","i_debug","inertiaToggle","toggleInertiaDampeners","logGame","gameReference","logPlayer","playerX","parseInt","playerY","sceneBackground","cursors","create","cuadricula","createCursorKeys","startFollow","info1","info2","uiDimensions","map","MAP_STATE","NOT_VISIBLE","DEFAULT","FULL_SCREEN","generateVirtualJoystick","joystick","yengine","ui","VirtualJoystick","parent","zIndex","evt","data","direction","yRad","onEnd","requestSliderInput","min","max","text","reject","resolveValue","rangeslider","polyfill","rangeClass","disabledClass","horizontalClass","verticalClass","fillClass","handleClass","onInit","val","change","onSlide","position","value","onSlideEnd","selectedTab","selectTab","index","updateInventoryScreen","removeClass","addClass","generateManagerMenu","hideManagerMenu","showManagerMenu","wh","table","Tabulator","layout","responsiveLayout","responsiveLayoutCollapseStartOpen","columns","formatter","minWidth","align","resizable","headerSort","title","field","responsive","sorter","rowClick","e","row","target","hasClass","_row","toLowerCase","showItemInteractions","tabledata","item","nm","capitalize","massPerUnit","collapsed","setData","mapState","mapIsVisible","setMapState","st","aspectW","aspectH","updateStaticMap","hide","show","lastSector","generateMapInterface","writeCSS","updateMapContent","sector","newAsteroid","asteroidInMap","top","left","showMapFullScreen","generateTouchMenu","oncontextmenu","centerZone","hammerTool","Hammer","toolButtonDown","toolButtonUp","touchUI","initiator","styleClass","effectClass","colWidth","threshold","onStart","centerLine","location","reload","selectTool","midScreen","innerWidth","midScreen2","innerHeight","registerResize","timer","executeResizeEvent","resize","renderer","setSize","toggleFullScreen","document","fullscreenElement","documentElement","requestFullscreen","exitFullscreen","config","AUTO","autoResize","default","arcade","debug","gravity","scene","host","gameRef","loadGameData","callback","String","prototype","charAt","toUpperCase","slice","startActualGame","shared","audio","Audio","loop","volume","play","ex","alert","message","info","os","getGameReference","global","infinimy","Error","call","self"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrCA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACpCO,SAASA,OAAT,GAAmB;AACtB,OAAKC,IAAL,CAAUC,KAAV,CAAgB,oBAAhB,EAAsC,+BAAtC;AACA,OAAKD,IAAL,CAAUC,KAAV,CAAgB,oBAAhB,EAAsC,+BAAtC,EAFsB,CAItB;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AACxB,SAAKF,IAAL,CAAUC,KAAV,CAAgB,mBAAmBC,CAAnC,EAAsC,wCAAwCA,CAAxC,GAA4C,MAAlF;AACH,GAPqB,CAQtB;;;AACA,OAAK,IAAIA,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AACxB,SAAKF,IAAL,CAAUC,KAAV,CAAgB,iBAAiBC,CAAjC,EAAoC,4CAA4CA,CAA5C,GAAgD,MAApF;AACH,GAXqB,CAYtB;;;AACA,OAAK,IAAIA,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AACxB,SAAKF,IAAL,CAAUC,KAAV,CAAgB,iBAAiBC,CAAjC,EAAoC,+BAA+BA,CAA/B,GAAmC,MAAvE;AACH;;AAED,OAAKF,IAAL,CAAUC,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","file":"infinimy.game.map","sourceRoot":"..","sourcesContent":["/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  (function() {\n    return this || (typeof self === \"object\" && self);\n  })() || Function(\"return this\")()\n);\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g = (function() {\n  return this || (typeof self === \"object\" && self);\n})() || Function(\"return this\")();\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime &&\n  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = require(\"./runtime\");\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch(e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","export function preload() {\n    this.load.image(\"background_space_1\", \"assets/background/space_1.jpg\");\n    this.load.image(\"background_space_2\", \"assets/background/space_2.jpg\");\n\n    // Asteroid\n    for (var i = 0; i < 7; i++) {\n        this.load.image(\"body_asteroid_\" + i, \"assets/sprite/galaxy_body/asteroid/\" + i + \".png\");\n    }\n    // Planet\n    for (var i = 0; i < 9; i++) {\n        this.load.image(\"body_planet_\" + i, \"assets/sprite/galaxy_body/planet/Planet\" + i + \".png\");\n    }\n    // Station\n    for (var i = 0; i < 1; i++) {\n        this.load.image(\"station_red_\" + i, \"assets/sprite/station/red_\" + i + \".png\");\n    }\n\n    this.load.image(\"tool_laser_1\", \"assets/sprite/tools/laser_beam_red.png\");\n\n\n    this.load.image(\"ship_1_normal\", \"assets/sprite/ship/built/ship_1_normal.png\");\n    this.load.image(\"ship_1_accelerate\", \"assets/sprite/ship/built/ship_1_accelerate.png\");\n}","import { sceneBackground, playerShip } from \"./create\";\n\nvar update10Count = 0;\nvar update20Count = 0;\n\nvar updateAt20 = [{\n    name: \"aslab\",\n    fn: function () {\n\n    }\n}];\nvar updateAt10 = [];\nvar updateDefault = [];\n\nexport function update() {\n    //var pStart = performance.now();\n    update10Count++;\n    update20Count++;\n    for (var i = 0; i < updateDefault.length; i++) {\n        updateDefault[i].fn(this);\n    }\n\n    if (update10Count === 10) {\n        update10Count = 0;\n        for (var i = 0; i < updateAt10.length; i++) {\n            updateAt10[i].fn(this);\n        }\n    }\n    if (update20Count === 20) {\n        update20Count = 0;\n        for (var i = 0; i < updateAt20.length; i++) {\n            updateAt20[i].fn(this);\n        }\n    }\n    return;\n    var pEnd = performance.now() - pStart;\n    if (pEnd > 0.4) {\n        $(\"#debug_free1\").css(\"color\", \"red\");\n    } else {\n        $(\"#debug_free1\").css(\"color\", \"lime\");\n    }\n    $(\"#debug_free1\").html(roundUsing(Math.floor, pEnd, 3));\n}\n\nvar count = 0;\nexport function registerUpdate(fn) {\n    updateDefault.push({\n        name: count++,\n        fn: fn\n    });\n}\nexport function registerUpdate10(fn) {\n    updateAt10.push({\n        name: count++,\n        fn: fn\n    });\n}\nexport function registerUpdate20(fn) {\n    updateAt20.push({\n        name: count++,\n        fn: fn\n    });\n}\n\nfunction roundUsing(func, number, prec) {\n    var tempnumber = number * Math.pow(10, prec);\n    tempnumber = func(tempnumber);\n    return tempnumber / Math.pow(10, prec);\n}","export var KeyboardHandler;\n\nexport function registerKeyboardEvents() {\n    var key_W = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.W);\n    var key_S = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.S);\n    var key_A = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.A);\n    var key_D = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.D);\n\n    KeyboardHandler = {\n        W: key_W,\n        S: key_S,\n        A: key_A,\n        D: key_D\n    };\n}\n\n","export var SectorNamesArray = [];\n\nexport function loadSectorNames() {\n    return new Promise(function (resolve) {\n        yy.http.get(\"assets/db/list_sector_names.txt\").then(listTxt => {\n            SectorNamesArray = listTxt.split(\"\\n\");\n            resolve();\n        });\n    });\n}\n\nexport function getRandomSectorName(seed) {\n    return SectorNamesArray[yy.random.int(0, SectorNamesArray.length - 1)]\n}","export var Minerals = [\n    { \n        name: \"iron\",\n        mass: 3,\n        rarity: 1000\n    },\n    {\n        name: \"copper\",\n        mass: 3,\n        rarity: 1000\n    },\n    {\n        name: \"uranium\",\n        mass: 10,\n        rarity: 50\n    },\n    {\n        name: \"gold\",\n        mass: 8,\n        rarity:50\n    },\n    {\n        name: \"silver\",\n        mass: 6,\n        rarity: 50\n    },\n    {\n        name: \"platinum\",\n        mass: 14,\n        rarity:50\n    }\n];","import { getRandomSectorName } from \"../data/sectorName\";\nimport { Minerals } from \"../classes/items/Minerals\";\n\nvar demoSector = { // stored in [x][y]\n    x: 0,\n    y: 0,\n    name: \"pandora 1 xxxxxxxxx\",\n    staticAsteroids: []\n};\n\n\nexport function generateNewSector(options) {\n\n    var sectorObject = {\n        name: options.name || getRandomSectorName(),\n        x: options.x,\n        y: options.y\n    };\n    sectorObject.staticAsteroids = generateAsteroids(sectorObject);\n    sectorObject.staticPlanets = generatePlanets(sectorObject);\n\n    return sectorObject;\n}\n\nfunction generateAsteroids(sectorObject) {\n    var numberOfAttempts = yy.random.int(0, 100);\n    var startPos = 0;\n    var endPos = 1024 * 6 - 700;\n\n    var resultObjectCont = [];\n    var asteroidDemo = {\n        x: 0,\n        y: 0,\n        width: 500,\n        height: 700,\n        sceneReference: undefined\n    }\n    for (var i = 0; i < numberOfAttempts; i++) {\n        var posX = yy.random.int(startPos, endPos);\n        var posY = yy.random.int(startPos, endPos);\n        var aspect = yy.random.int(1, 10) / 10;\n        var width = 500 * (aspect);\n        var height = 700 * (aspect);\n        var textureNumber = yy.random.int(0, 7);\n\n        var minerals = [];\n\n        for (var c = 0; c < Minerals.length; c++) {\n            var cMineral = Minerals[c];\n            if (yy.random.chance(cMineral.rarity, 1000)) {\n                minerals.push({\n                    mineral: cMineral,\n                    amount: yy.random.int(1, 500)\n                });\n            }\n        }\n\n        var obj = {\n            x: posX,\n            y: posY,\n            width: width,\n            height: height,\n            texture: \"body_asteroid_\" + textureNumber,\n            \"type\": \"asteroid\",\n            \"minerals\": minerals\n        };\n        if (checkCollision(obj, resultObjectCont) === false) {\n            resultObjectCont.push(obj);\n        }\n    }\n\n    return resultObjectCont;\n}\n\nfunction generatePlanets(sectorObject) {\n    var numberOfAttempts = yy.random.int(0, 5);\n    var startPos = 0;\n    var endPos = 1024 * 6 - 300;\n\n    //\n\n    var resultObjectCont = [];\n    var planetDemo = {\n        x: 0,\n        y: 0,\n        width: 150,\n        height: 150,\n        sceneReference: undefined\n    }\n    for (var i = 0; i < numberOfAttempts; i++) {\n\n        var newPlanet = createPlanet({\n            x: yy.random.int(startPos, endPos),\n            y: yy.random.int(startPos, endPos),\n            aspect: yy.random.int(5, 20) / 10,\n            width: 150,\n            height: 150,\n            texture: \"body_planet_\" + yy.random.int(0, 9),\n            hasStation: yy.random.chance(100)\n        });\n\n        if (checkCollision(newPlanet, resultObjectCont) === false) {\n            if (checkCollision(newPlanet, sectorObject.staticAsteroids) === false) {\n                resultObjectCont.push(newPlanet);\n            }\n        }\n    }\n\n    return resultObjectCont;\n}\nfunction checkCollision(currentObject, currentArray) {\n    var collides = false;\n\n    var objX = currentObject.x;\n    var objY = currentObject.y;\n\n    var objWidth = currentObject.width;\n    var objHeight = currentObject.height;\n\n\n\n\n\n    for (var i = 0; i < currentArray.length; i++) {\n        if (Phaser.Geom.Intersects.RectangleToRectangle(\n            new Phaser.Geom.Rectangle(objX, objY, objWidth, objHeight),\n            new Phaser.Geom.Rectangle(currentArray[i].x, currentArray[i].y, currentArray[i].width, currentArray[i].height)\n        )) {\n            collides = true;\n        }\n    }\n\n    return collides;\n}\n\n\nfunction createPlanet(options) {\n    var obj = {\n        \"type\": \"planet\",\n        hasStation: options.hasStation,\n        //\n        x: options.x || 0,\n        y: options.y || 0,\n        width: options.width * options.aspect || 150,\n        height: options.height * options.aspect || 150,\n        texture: options.texture || \"body_planet_0\"\n    };\n\n    if (options.hasStation) {\n        var newStation = {\n            x: obj.x,\n            y: obj.y - 230,\n            texture: \"station_red_0\"\n        };\n        obj.station = newStation;\n    }\n\n    return obj;\n}","export function angleBetweenSprites(spriteOrigin, spriteDestiny, center) {\n    if (center === true) {\n        var angle = Phaser.Math.Angle.Between(spriteOrigin.x, spriteOrigin.y,\n            spriteDestiny.x + (spriteDestiny.displayWidth/2), spriteDestiny.y + (spriteDestiny.displayHeight/2));\n        return angle;\n    } else {\n        var angle = Phaser.Math.Angle.Between(spriteOrigin.x, spriteOrigin.y,\n            spriteDestiny.x, spriteDestiny.y);\n        return angle;\n    }\n}\n\nexport function angleToSprite(spriteOrigin, spriteDestiny, center) {\n    center = center || true;\n    if (center === true) {\n        var angle = Phaser.Math.Angle.Between(spriteOrigin.x, spriteOrigin.y,\n            spriteDestiny.x + (spriteDestiny.displayWidth/2), spriteDestiny.y + (spriteDestiny.displayHeight/2));\n        return angle;\n    } else {\n        var angle = Phaser.Math.Angle.Between(spriteOrigin.x, spriteOrigin.y,\n            spriteDestiny.x, spriteDestiny.y);\n        return angle;\n    }\n}","export function assistantSpeak(what){\n    responsiveVoice.speak(what);\n\n}","var overlayCounter = 0;\n\nexport function showOverlayOver(options) {\n    overlayCounter += 1;\n    options = options || {};\n    options.remove = true;\n    if (options.remove) {\n        $(\".quickOverlay\").remove();\n    }\n\n    $(\"#root\").append(`\n        <div class=\"quickOverlay\" id=\"quickOverlay${overlayCounter}\">\n            <div class=\"quickOverlayCloseContainer\">X</div>\n            <div class=\"quickOverlayData\">\n                ${options.content}\n            </div>\n            \n        </div>\n    `);\n    var qo = $(\"#quickOverlay\" + overlayCounter);\n\n    qo.find(\".quickOverlayCloseContainer\").click(function () {\n        qo.remove();\n    });\n\n\n\n}","import { playerShip, gameReference } from \"../states/create\";\nimport { angleBetweenSprites } from \"../api/angle\";\nimport { assistantSpeak } from \"../api/assistant\";\nimport { showOverlayOver } from \"../api/overlayInfo\";\n\nvar SelectedSprite = null;\nvar selectionTimer = undefined;\nvar selectionDesire = 0;\nexport function setSelectedSprite(obj) {\n    // on down\n\n    SelectedSprite = obj;\n    onDown(SelectedSprite);\n\n    selectionDesire = 0;\n    selectionTimer = setTimeout(function () {\n        // on hold 500ms\n        selectionDesire = 1;\n    }, 500);\n    // SelectedSprite.Sprite.destroy();\n    // SelectedSprite.Sprite.memoryReference.destroy = true;\n}\n\nfunction onDown() {\n\n}\n\nfunction onHold() {\n    switch (SelectedSprite.Sprite.memoryReference.type) {\n        case \"asteroid\":\n            var resources = \"\";\n            for (var i = 0; i < SelectedSprite.Sprite.memoryReference.minerals.length; i++) {\n                var cMineral = SelectedSprite.Sprite.memoryReference.minerals[i];\n                resources += `\n                    <div style=\"margin-left: 5px;\">${cMineral.mineral.name}</div>\n                    <div style=\"margin-left: 5px;\">${cMineral.amount}</div>\n                    <br>\n                `;\n            }\n            showOverlayOver({\n                content: `\n                    <div>Asteroid</div>\n                    <div>Resources: </div>\n                    <div>${resources}</div>\n                `\n            });\n            break;\n    }\n    assistantSpeak(SelectedSprite.Sprite.memoryReference.type);\n}\n\n\nexport function pointerUp(obj) {\n    switch (selectionDesire) {\n        case 0:\n            playerShip.desiredAngle = angleBetweenSprites(playerShip.Sprite, SelectedSprite.Sprite, true);\n            break;\n        case 1:\n            onHold();\n            break;\n    }\n    clearTimeout(selectionTimer);\n    selectionDesire = 0;\n}\n\nexport function globalPointerUp() {\n}\n\n\nfunction getCenter(x, y, w, h) {\n    return {\n        x: x + w / 2,\n        y: y + h / 2\n    }\n}\n\nexport function getSelectedSprite() {\n    return SelectedSprite;\n}","export class GameSprite {\n    constructor(Game, x = 0, y = 0, texture = \"\") {\n        this.Sprite = Game.physics.add.sprite(x, y, texture);\n\n        this.Sprite.setOrigin(0);\n        this.Sprite.classInstance = this;\n\n        return this;\n    }\n    onPointerDown(fn){\n        var $this = this;\n        this.Sprite.setInteractive().on('pointerdown', function (pointer, localX, localY, event) {\n            fn($this)\n            // setSelectedSprite($this.sprite);\n        });\n    }\n    onPointerUp(fn){\n        var $this = this;\n        this.Sprite.setInteractive().on('pointerup', function (pointer, localX, localY, event) {\n            fn($this)\n            // setSelectedSprite($this.sprite);\n        });\n    }\n}","import { registerUpdate20 } from \"../states/update\";\nimport { playerShip } from \"../states/create\";\nimport { generateNewSector } from \"./generator\";\nimport { setSelectedSprite, pointerUp } from \"../ui/interactiveSprites\";\nimport { GameSprite } from \"../classes/GameSprite\";\n\nexport /* READONLY */ var CurrentSector = {\n    x: 0,\n    y: 0 // 6000x6000\n};\n\nexport var SectorSize = 1024 * 6;\n\nvar sectorChangeEvents = [];\n\nvar SectorsInMemory = {}; // SectorsInMemory[x][y]\n\nexport function registerSectorManager(Game) {\n    registerUpdate20(function () {\n        var posX = playerShip.Sprite.x;\n        var posY = playerShip.Sprite.y;\n\n        // LEFT\n        if (posX < 0) {\n            // go left, -1\n\n            generateAndLoadSector(CurrentSector.x - 1, CurrentSector.y, Game);\n            playerShip.Sprite.x = SectorSize - 100;\n        }\n        // RIGHT\n        if (posX > SectorSize) {\n            // go right, +1\n\n            generateAndLoadSector(CurrentSector.x + 1, CurrentSector.y, Game);\n            playerShip.Sprite.x = 100;\n        }\n        // TOP\n        if (posY < 0) {\n            // go top, +1\n\n            generateAndLoadSector(CurrentSector.x, CurrentSector.y - 1, Game);\n            playerShip.Sprite.y = SectorSize - 100;\n        }\n        // Down\n        if (posY > SectorSize) {\n            // go bot, -1\n\n            generateAndLoadSector(CurrentSector.x, CurrentSector.y + 1, Game);\n            playerShip.Sprite.y = 100;\n        }\n    });\n}\n\nfunction destroyCurrentSectorData() {\n    var cSector = SectorsInMemory[CurrentSector.x][CurrentSector.y];\n\n    for (var i = 0; i < cSector.staticAsteroids.length; i++) {\n        var cAsteroid = cSector.staticAsteroids[i];\n        if (cAsteroid.sceneReference !== undefined)\n            cAsteroid.sceneReference.Sprite.destroy();\n    }\n    for (var i = 0; i < cSector.staticPlanets.length; i++) {\n        var cPlanet = cSector.staticPlanets[i];\n        if (cPlanet.sceneReference !== undefined)\n            cPlanet.sceneReference.Sprite.destroy();\n        if (cPlanet.station !== undefined)\n            if (cPlanet.station.sceneReference !== undefined)\n                cPlanet.station.sceneReference.Sprite.destroy();\n    }\n}\n\nfunction loadSectorData(x, y) {\n    destroyCurrentSectorData();\n\n    for (var i = 0; i < SectorsInMemory[x][y].staticAsteroids.length; i++) {\n        var nAsteroid = SectorsInMemory[x][y].staticAsteroids[i];\n        if (nAsteroid.destroy !== true) {\n            var sAsteroid = new GameSprite(this, nAsteroid.x, nAsteroid.y, nAsteroid.texture);\n            sAsteroid.Sprite.displayWidth = nAsteroid.width;\n            sAsteroid.Sprite.displayHeight = nAsteroid.height;\n            sAsteroid.Sprite.setDepth(3);\n            sAsteroid.Sprite.setOrigin(0);\n            sAsteroid.Sprite.memoryReference = nAsteroid;\n            nAsteroid.sceneReference = sAsteroid;\n\n            sAsteroid.onPointerDown(function (Sprite) {\n                setSelectedSprite(Sprite);\n            });\n            sAsteroid.onPointerUp(function (Sprite) {\n                pointerUp(Sprite);\n            });\n        }\n        //this.physics.add.overlap(playerShip.Sprite, sAsteroid.Sprite, function () {\n        // console.log(\"touching bitches\");\n        //});\n    }\n    for (var i = 0; i < SectorsInMemory[x][y].staticPlanets.length; i++) {\n        var nPlanet = SectorsInMemory[x][y].staticPlanets[i];\n        if (nPlanet.destroy !== true) {\n            var spritePlanet = new GameSprite(this, nPlanet.x, nPlanet.y, nPlanet.texture);\n            spritePlanet.Sprite.displayWidth = nPlanet.width;\n            spritePlanet.Sprite.displayHeight = nPlanet.height;\n            spritePlanet.Sprite.setDepth(3);\n            spritePlanet.Sprite.setOrigin(0);\n            spritePlanet.Sprite.memoryReference = nPlanet;\n            nPlanet.sceneReference = spritePlanet;\n\n            spritePlanet.onPointerDown(function (Sprite) {\n                setSelectedSprite(Sprite);\n            });\n            spritePlanet.onPointerUp(function (Sprite) {\n                pointerUp(Sprite);\n            });\n\n            if (nPlanet.hasStation) {\n                var spriteStation = new GameSprite(this, nPlanet.station.x, nPlanet.station.y, nPlanet.station.texture);\n                spriteStation.Sprite.displayWidth = nPlanet.width / 2;\n                spriteStation.Sprite.displayHeight = nPlanet.height / 2;\n                spriteStation.Sprite.setDepth(3);\n                spriteStation.Sprite.setOrigin(0);\n                spriteStation.Sprite.x = nPlanet.x + (nPlanet.width / 2 / 2);\n                spriteStation.Sprite.y = nPlanet.y - (nPlanet.height / 2);\n                nPlanet.station.sceneReference = spriteStation;\n            }\n        }\n        //this.physics.add.overlap(playerShip.Sprite, sAsteroid.Sprite, function () {\n        // console.log(\"touching bitches\");\n        //});\n    }\n}\n\nexport function generateAndLoadSector(x, y, Game) {\n    if (SectorsInMemory[x] === undefined) {\n        SectorsInMemory[x] = {};\n    }\n    if (SectorsInMemory[x][y] === undefined) {\n        SectorsInMemory[x][y] = generateNewSector({\n            x: x,\n            y: y\n        });\n    }\n\n    loadSectorData.apply(Game, [x, y]);\n    CurrentSector = SectorsInMemory[x][y];\n    for (var i = 0; i < sectorChangeEvents.length; i++) {\n        sectorChangeEvents[i].apply(Game, [CurrentSector]);\n    }\n}\n\nexport function onSectorChange(newFn) {\n    sectorChangeEvents.push(newFn);\n}\n\nexport function getCurrentSector() {\n    return SectorsInMemory[CurrentSector.x][CurrentSector.y];\n}","import { onSectorChange, getCurrentSector } from \"../../sectors/manager\";\n\nexport function MiningLaser(Game, options) {\n    var returnLaser = {\n        active: false,\n        selected: false\n    };\n    var laserSprite = Game.physics.add.sprite(40, 0, \"tool_laser_1\");\n    var laserPhysiscs = Game.physics.add.sprite(40, 0, \"\");\n    laserSprite.displayWidth = 100;\n    laserSprite.displayHeight = 20;\n    laserSprite.body.enable = false;\n    laserSprite.visible = false;\n    laserPhysiscs.visible = false;\n    options.toolContainer.add(laserSprite);\n    options.toolContainer.add(laserPhysiscs);\n    returnLaser.sprite = laserSprite;\n\n    var hitAsteroid = false;\n\n    var miningInerval = 0;\n    returnLaser.update = function () {\n        if (returnLaser.active) {\n            if (hitAsteroid === false) {\n                laserPhysiscs.x += 5;\n                if (laserPhysiscs.x > 40 + 40) {\n                    laserPhysiscs.x = 40;\n                }\n            } else {\n                // active and hitting asteroid...\n                miningInerval++;\n                if (miningInerval > 30) {\n                    console.log(hitAsteroid.classInstance);\n                    if (yy.random.chance(50)) {\n                        options.ship.Inventory.addItem(\"iron\", 1);\n                    }\n                    miningInerval = 0;\n                }\n            }\n        }\n    }\n\n    function checkIfAsteroidInRange() {\n\n    }\n\n    // real mining should be only por player\n    // ai should go to a position where minng is always true (laft top bopt etc)\n    // and simulated by timing events\n    onSectorChange(function (Game) {\n        var cSector = getCurrentSector();\n        for (var i = 0; i < cSector.staticAsteroids.length; i++) {\n            var asteroid = cSector.staticAsteroids[i];\n            this.physics.add.overlap(laserPhysiscs, asteroid.sceneReference.Sprite, function (a, b) {\n                hitAsteroid = b;\n            });\n        }\n    });\n\n    returnLaser.setActive = function (state) {\n        laserSprite.visible = state;\n        returnLaser.active = state;\n        if (state) {\n\n        }\n    }\n    returnLaser.onMove = function () {\n        hitAsteroid = false;\n    }\n    return returnLaser;\n}","export function Navigator(Game, options) {\n    var returnNavigator = {\n        active: false\n    };\n    var lastPointer = { x: 0, y: 0 };\n    var playerShip = options.playerShip;\n    Game.input.on('pointermove', function (pointer) {\n        lastPointer = pointer;\n    }, this);\n\n    returnNavigator.update = function () {\n        var angle = Phaser.Math.Angle.Between(playerShip.Sprite.x, playerShip.Sprite.y,\n            lastPointer.x + Game.cameras.main.scrollX, lastPointer.y + Game.cameras.main.scrollY);\n        playerShip.desiredAngle = angle;\n        if (playerShip.desiredAngle === playerShip.Sprite.rotation) {\n            playerShip.desiredAngle = false;\n        }\n\n    }\n\n\n    returnNavigator.setActive = function (state) {\n        returnNavigator.active = state;\n    }\n    returnNavigator.onMove = function () { };\n    return returnNavigator;\n}","export function InventoryModule(options) {\n    options = options || {};\n\n    var inventorySystem = {\n        items: [],\n        capacity: options.capacity || 500,\n        getUsed: function () {\n            return getCapacityUsed(inventorySystem)\n        }\n    };\n    inventorySystem.addItem = function (name, amount, mass, force) {\n        addItem(inventorySystem, name, amount, mass, force);\n    }\n    inventorySystem.getItem = function (name) {\n        return findItemStack(inventorySystem, name);\n    }\n    return inventorySystem;\n}\n\nfunction getCapacityUsed(inventory) {\n    var capacityUsed = 0;\n\n\n    for (var i = 0; i < inventory.items.length; i++) {\n        capacityUsed += inventory.items[i].mass * inventory.items[i].amount;\n    }\n    return capacityUsed;\n}\n\nfunction fits(inventory, amount, mass) {\n    var capacityUsed = 0;\n\n\n    for (var i = 0; i < inventory.items.length; i++) {\n        capacityUsed += inventory.items[i].mass * inventory.items[i].amount;\n    }\n\n    if (capacityUsed + (amount * mass) <= inventory.capacity) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\nfunction findItemStack(inventory, name) {\n    var ret = undefined;\n    for (var i = 0; i < inventory.items.length; i++) {\n        if (inventory.items[i].name === name) {\n            ret = inventory.items[i];\n        }\n    }\n\n    return ret;\n}\n\nfunction addItem(inventory, name, amount, mass, force) {\n    mass = mass || 1;\n    amount = amount || 1;\n    force = force || false;\n    if (amount > 0) {\n        // add\n        var stack = findItemStack(inventory, name);\n        if (stack === undefined) {\n            stack = {\n                name: name,\n                amount: 0,\n                mass: mass || 1\n            };\n            inventory.items.push(stack);\n\n        }\n        if (fits(inventory, amount, mass)) {\n            stack.amount += amount;\n        } else {\n            if (force) {\n                stack.amount += amount;\n            }\n        }\n\n    } else if (amount < 0) {\n        // subsrtract\n        var stack = findItemStack(inventory, name);\n\n        if (stack === undefined) {\n            return false;\n        }\n        if (stack.amount >= amount) {\n            stack.amount += amount;\n        } else {\n            if (force) {\n                stack.amount += amount;\n            }\n        }\n    }\n\n    emptyStackClear(inventory);\n}\n\nfunction emptyStackClear(inventory) {\n    var inventoryItems = [];\n    for (var i = 0; i < inventory.items.length; i++) {\n        if (inventory.items[i].amount > 0) {\n            inventoryItems.push(inventory.items[i]);\n        }\n    }\n\n    inventory.items = inventoryItems;\n}","export function EngineModule(options) {\n    options = options || {};\n\n    var engineModule = {\n        \"acceleration\": 500,\n        \"rotation\": 0.06,\n        \"maxSpeed\": 1000,\n        \"maxDrag\": 10000,\n        getUsed: function () {\n            return getCapacityUsed(inventorySystem)\n        }\n    };\n\n\n    return engineModule;\n}\n\nexport function EngineModule2(options) {\n    options = options || {};\n\n    var engineModule = {\n        \"acceleration\": 200,\n        \"rotation\": 0.008,\n        \"maxSpeed\": 300,\n        \"maxDrag\": 100,\n        getUsed: function () {\n            return getCapacityUsed(inventorySystem)\n        }\n    };\n\n\n    return engineModule;\n}","\nimport { registerUpdate } from \"../states/update\";\nimport { playerShip } from \"../states/create\";\nimport { KeyboardHandler } from \"../ui/keyboard\";\nimport { MiningLaser } from \"./tools/miningLaser\";\nimport { Navigator } from \"./tools/navigator\";\nimport { InventoryModule } from \"./systems/modules/Inventory\";\nimport { EngineModule } from \"./systems/modules/Engine\";\n\nvar isTouch = false;\n\nexport class PlayerShip {\n    constructor(Game, x = 0, y = 0, texture = \"\") {\n        this.Sprite = Game.physics.add.sprite(x, y, texture);\n        this.Sprite.classInstance = this;\n        this.Sprite.setOrigin(0.5);\n        this.Sprite.setDrag(300);\n        this.Sprite.setAngularDrag(400);\n        this.Sprite.setMaxVelocity(200);\n\n        var $this = this;\n\n        this.textureName = texture.replace(\"_normal\", \"\");\n        this.wantAccelerate = false;\n        this.desiredAngle = false// -1 left 0 none 1 right\n        this.Speed = 100;\n        this.rotationSpeed = 0.005;\n\n        this.toolContainer = Game.add.container(0, 0);\n        this.toolContainer.setDepth(9);\n\n        this.tools = [];\n        this.tools.push(new MiningLaser(Game, {\n            toolContainer: this.toolContainer,\n            ship: this\n        }));\n        this.tools.push(new Navigator(Game, {\n            toolContainer: this.toolContainer,\n            playerShip: this\n        }));\n\n        this.selectedTool = this.tools[0];\n        this.selectedTool.selected = true;\n\n        // Modules\n        this.modules = [];\n\n        this.Inventory = InventoryModule();\n        this.modules.push({\n            \"type\": \"inventory\",\n            module: this.Inventory\n        });\n\n        this.Engine = new EngineModule();\n        this.modules.push({\n            \"type\": \"engine\",\n            module: this.Engine\n        });\n        this.Speed = this.Engine.acceleration;\n        this.Sprite.setDrag(this.Engine.maxDrag);\n        this.Sprite.setAngularDrag(400);\n        this.Sprite.setMaxVelocity(this.Engine.maxSpeed);\n        this.rotationSpeed = this.Engine.rotation;\n\n        // Update\n        registerUpdate(function () {\n            $this.update.apply($this, [Game]);\n        });\n\n        isTouch = yy.device.isTouch();\n        return this;\n    }\n\n    toolButtonDown() {\n        this.selectedTool.setActive(true);\n    }\n    toolButtonUp() {\n        this.selectedTool.setActive(false);\n    }\n    selectTool(indexOrName) {\n        this.selectedTool.selected = false;\n        this.selectedTool = this.tools[indexOrName];\n        this.selectedTool.selected = true;\n    }\n\n    update(Game) {\n        moveHandler.apply(this, [Game]);\n        this.move.apply(this, [Game]);\n        this.toolContainer.setPosition(this.Sprite.x, this.Sprite.y);\n        this.toolContainer.setAngle(this.Sprite.body.rotation);\n        this.selectedTool.update();\n    }\n\n    accelerate(Game) {\n        Game.physics.velocityFromRotation(\n            this.Sprite.rotation, this.Speed, this.Sprite.body.acceleration\n        );\n    }\n    move(Game) {\n        // acc\n        if (this.wantAccelerate === true) {\n            this.accelerate.apply(this, [Game]);\n            this.Sprite.setTexture(this.textureName + \"_accelerate\");\n\n            this.selectedTool.onMove();\n\n        } else {\n            this.Sprite.setAcceleration(0);\n            this.Sprite.setTexture(this.textureName + \"_normal\")\n        }\n        // only for ai and joystick\n        if (this.desiredAngle !== false) {\n            this.selectedTool.onMove();\n            if (this.Sprite.rotation < this.desiredAngle) {\n                if (Math.abs(this.Sprite.rotation - this.desiredAngle) > 3) {\n                    this.Sprite.rotation -= this.rotationSpeed;\n                } else {\n                    this.Sprite.rotation += this.rotationSpeed;\n                    if (this.Sprite.rotation > this.desiredAngle) {\n                        // rotation success\n                        this.Sprite.rotation = this.desiredAngle;\n                        this.desiredAngle = false;\n                    }\n                }\n\n            } else if (this.Sprite.rotation > this.desiredAngle) {\n                if (Math.abs(this.Sprite.rotation - this.desiredAngle) > 3) {\n                    this.Sprite.rotation += this.rotationSpeed;\n                } else {\n                    this.Sprite.rotation -= this.rotationSpeed;\n                    if (this.Sprite.rotation < this.desiredAngle) {\n\n                        this.Sprite.rotation = this.desiredAngle;\n                        this.desiredAngle = false;\n                    }\n                }\n\n            }\n        } else {\n\n        }\n    }\n}\n\nfunction moveHandler(Game) { // PLayer\n\n\n    if (KeyboardHandler.A.isDown) {\n        this.desiredAngle = false;\n        this.Sprite.rotation -= this.rotationSpeed;\n        this.selectedTool.onMove();\n    }\n    else if (KeyboardHandler.D.isDown) {\n        this.desiredAngle = false;\n        this.Sprite.rotation += this.rotationSpeed;\n        this.selectedTool.onMove();\n    }\n\n    if (KeyboardHandler.W.isDown) {\n        this.wantAccelerate = true;\n    } else if (KeyboardHandler.S.isDown) {\n        this.wantAccelerate = false;\n    }\n\n    // this.desiredAngle = false; // since player controlled by keys, no need\n\n\n}","import { registerUpdate20 } from \"../states/update\";\nimport { playerShip, gameReference } from \"../states/create\";\nimport { CurrentSector } from \"../sectors/manager\";\nimport { getGameReference, Game } from \"../main\";\n\nexport function generateTopDebugger() {\n    var debugDisplay = $(\"<div></div>\")\n        .attr(\"id\", \"debugDisplay\")\n        .appendTo($(\"#root\"))\n        .css({\n            \"display\":\"none\",\n            \"z-index\": 5,\n            \"color\": \"white\",\n            \"position\": \"absolute\",\n            \"top\": \"0px\",\n            \"right\": \"0px\",\n            \"background\": \" rgba(0, 0, 0, 0.5)\",\n            \"padding\": \"5px\"\n        }).html(`\n            <span style=\"color: lime\" id=\"debug_PlayerX\"></span>x, <span style=\"color: lime\" id=\"debug_PlayerY\"></span>y\n            <br>\n            <span style=\"color: purple\" id=\"debug_PlayerSectorX\"></span>x, <span style=\"color: purple\" id=\"debug_PlayerSectorY\"></span>y\n            &nbsp;&nbsp;<span style=\"color: #de26de\" id=\"debug_PlayerSectorName\"></span>\n            <br>\n            <span style=\"color: lime\" id=\"debug_PointerX\"></span>x, <span style=\"color: lime\" id=\"debug_PointerY\"></span>y\n            <br>\n            <span style=\"color: lime\" id=\"debug_free1\"></span><span id=\"debug_free1_type\"></span>\n            <br>\n            <span style=\"color: lime\" id=\"debug_free2\"></span><span id=\"debug_free2_type\"></span>\n        `);;\n    window.i_debug = {};\n    window.i_debug.inertiaToggle = function () {\n        playerShip.toggleInertiaDampeners();\n    }\n    window.i_debug.logGame = function () {\n        console.log(getGameReference());\n        console.log(gameReference);\n    }\n    window.i_debug.logPlayer = function () {\n        console.log(playerShip);\n    }\n\n    registerUpdate20(function (Game) {\n        return;\n        var playerX = parseInt(playerShip.Sprite.x);\n        var playerY = parseInt(playerShip.Sprite.y);\n        $(\"#debug_PlayerX\").html(playerX);\n        $(\"#debug_PlayerY\").html(playerY);\n\n\n        $(\"#debug_PlayerSectorX\").html(CurrentSector.x);\n        $(\"#debug_PlayerSectorY\").html(CurrentSector.y);\n        $(\"#debug_PlayerSectorName\").html(CurrentSector.name);\n    });\n    gameReference.input.on('pointermove', function (pointer) {\n        return;\n        var x = pointer.x;\n        var y = pointer.y;\n\n        $(\"#debug_PointerX\").html(x);\n        $(\"#debug_PointerY\").html(y);\n    }, this);\n}","import { PlayerShip } from \"../classes/PlayerShip\";\nimport { registerSectorManager, generateAndLoadSector } from \"../sectors/manager\";\nimport { registerKeyboardEvents } from \"../ui/keyboard\";\nimport { generateTopDebugger } from \"../ui/debugger\";\nimport { showOverlayOver } from \"../api/overlayInfo\";\n\nexport var playerShip, sceneBackground;\nexport var cursors;\nexport var gameReference;\n\n\n\nexport function create() {\n    gameReference = this;\n    //SceneBackground = this.add.tileSprite(0, 0, 4000, 4000, 'background_space_2')//.setScrollFactor(0);\n    // SceneBackground = this.add.image(0, 0, 'background_space_2').setScrollFactor(0);\n\n    var cuadricula = 6;\n\n    for (var x = -1; x < cuadricula + 1; x++) {\n        for (var y = -1; y < cuadricula + 1; y++) {\n            this.add.image(x * 1024, y * 1024, 'background_space_2').setOrigin(0);\n        }\n    }\n    /**\n     * 0 0 : 1024 0\n     * 1024 0 : \n     */\n    cursors = this.input.keyboard.createCursorKeys();\n\n    playerShip = new PlayerShip(this, 10, 10, \"ship_1_normal\");\n    playerShip.Sprite.displayWidth = 128 / 3.3;\n    playerShip.Sprite.displayHeight = 117 / 3.3;\n    playerShip.Sprite.setDepth(10);\n\n    this.cameras.main.startFollow(playerShip.Sprite);\n\n    generateAndLoadSector(0, 0, this);\n    registerSectorManager(this);\n    registerKeyboardEvents.apply(this);\n\n\n\n\n\n\n    generateTopDebugger();\n\n    playerShip.Inventory.addItem(\"combustible nuclear\", 1, 10, true);\n\n    showOverlayOver({\n        info1: \"Asteroid\",\n        info2: \"Resources: <br> iron: 10\"\n    });\n}","export var uiDimensions = {\n    map: {\n        width: 150,\n        height: 150,\n        type: \"px\"\n    }\n};\n\n\nexport var MAP_STATE = {\n    NOT_VISIBLE: 0,\n    DEFAULT: 1,\n    FULL_SCREEN: 2\n};","import { playerShip } from \"../states/create\";\nimport { uiDimensions } from \"../generalVariables\";\n\nexport function generateVirtualJoystick() {\n\n    var joystick = yy.yengine.ui.VirtualJoystick({\n        parent: $(\"body\"),\n        zIndex: 15,\n        height: uiDimensions.map.height + 3,\n        width: uiDimensions.map.width + 3,\n        onMove: function (evt, data) {\n            if (data.direction !== undefined) {\n                playerShip.desiredAngle = data.yRad;\n\n                if (Math.abs(playerShip.desiredAngle - playerShip.Sprite.rotation) <= 0.5) {\n                    playerShip.wantAccelerate = true;\n                } else {\n                    playerShip.wantAccelerate = false;\n                }\n            }\n        },\n        onEnd: function () {\n            playerShip.wantAccelerate = false;\n            playerShip.desiredAngle = false;\n        }\n    });\n}","export function requestSliderInput(options) {\n    options = options || {};\n    var min = options.min || 0;\n    var max = options.max || 10;\n    var text = options.text || \"Value\";\n\n    return new Promise(function (resolve, reject) {\n        var resolveValue = 0;\n        $(\".sliderInputScreen\").remove();\n        $(\"#root\").append(`\n            <div class=\"interactionBlackScreen sliderInputScreen\" style=\"background: black;z-index:25;\">\n                <div class=\"cancelSliderRequest\">X</div>\n                <div class=\"sliderRequestText\">${text}</div>\n                <div style=\"clear:both;padding-top:30px\">\n                    <input type=\"range\" min=\"${min}\" max=\"${max}\" value=\"0\">\n                    <br>\n                    <span class=\"sliderRequestText\" style=\"color:white;\" id=\"requestRangeValue\">0</span>\n                    <br>\n                    <button id=\"acceptValueRequest\">Accept</button>\n                </div>\n            </div>\n        `);\n        $('input[type=\"range\"]').rangeslider({\n            polyfill: false,\n            // Default CSS classes\n            rangeClass: 'rangeslider',\n            disabledClass: 'rangeslider--disabled',\n            horizontalClass: 'rangeslider--horizontal',\n            verticalClass: 'rangeslider--vertical',\n            fillClass: 'rangeslider__fill',\n            handleClass: 'rangeslider__handle',\n            // Callback function\n            onInit: function () { \n\n                $('input[type=\"range\"]').val(0).change();\n                $(\"#requestRangeValue\").html(\"0\");\n                resolveValue = 0;\n            },\n\n            // Callback function\n            onSlide: function (position, value) {\n                $(\"#requestRangeValue\").html(value);\n                resolveValue = value;\n\n            },\n\n            // Callback function\n            onSlideEnd: function (position, value) { }\n        });\n\n        $(\".cancelSliderRequest\").click(function () {\n            reject();\n            $(\".sliderInputScreen\").remove();\n        });\n        $(\"#acceptValueRequest\").click(function () {\n            resolve(resolveValue);\n            $(\".sliderInputScreen\").remove();\n        });\n    });\n} ","import { setMapState } from \"./map\";\nimport { playerShip } from \"../states/create\";\nimport { requestSliderInput } from \"../api/sliderRequest\";\n\nexport var selectedTab = 0;\n\nexport function selectTab(index) {\n    $(\".managerMenuContentTab\").css({\n        \"display\": \"none\"\n    });\n\n    $($(\".managerMenuContentTab\")[index]).css({\n        \"display\": \"block\"\n    });\n\n    switch (index) {\n        case 0:\n            setMapState(2);\n            break;\n        case 1:\n            updateInventoryScreen();\n            break;\n    }\n    $(\".scrollmenu > a\").removeClass(\"selected\");\n    $($(\".scrollmenu > a\")[index + 1]).addClass(\"selected\");\n}\n\nexport function generateManagerMenu() {\n    $(\"#root\").append(`\n    \n        <div class=\"managerMenuContainer\">\n            <div class=\"managerMenuTopBar\">\n                <div class=\"scrollmenu\">\n                    <a id=\"closeManagerMenu\">X</a>\n                    <a id=\"selectMapTab\">Map</a>\n                    <a id=\"selectInventoryTab\">Inventory</a>\n                    <a id=\"selectModulesTab\">Modules</a>\n                    <a>Universe</a>\n                    <a>Market</a>\n                    <a>Ship</a>\n                    <a>Economy</a>\n                </div>\n            </div>\n            <div class=\"managerMenuContent\">\n                <div class=\"managerMenuContentTab mapTab\"></div>\n                <div class=\"managerMenuContentTab inventoryTab\"></div>\n                <div class=\"managerMenuContentTab modulesTab\"></div>\n            </div>\n        </div>\n\n    `);\n\n    $(\"#closeManagerMenu\").click(function () {\n        hideManagerMenu();\n    });\n    $(\"#selectMapTab\").click(function () {\n        selectTab(0);\n    });\n    $(\"#selectInventoryTab\").click(function () {\n        selectTab(1);\n    });\n\n    hideManagerMenu();\n}\n\n\nexport function showManagerMenu(wh) {\n    $(\".managerMenuContainer\").css({\n        \"display\": \"block\"\n    });\n    $(\".gameMapContainer\").appendTo($(\".mapTab\"));\n}\n\nexport function hideManagerMenu() {\n    $(\".managerMenuContainer\").css({\n        \"display\": \"none\"\n    });\n    $(\".gameMapContainer\").appendTo($(\"#root\"));\n    setMapState(1)\n\n}\n\nexport function updateInventoryScreen() {\n    $(\".inventoryTab\").html(`\n        <div style=\"color:white;height:40px;line-height:40px;\">${playerShip.Inventory.getUsed()}/${playerShip.Inventory.capacity}</div>\n        <div id=\"inventoryTableContainer\"></div>\n    `);\n\n    var table = new Tabulator(\"#inventoryTableContainer\", {\n        height: \"calc(100% - 40px)\",\n        layout: \"fitDataFill\",\n        responsiveLayout: \"collapse\",\n        responsiveLayoutCollapseStartOpen: false,\n        columns: [\n            { formatter: \"responsiveCollapse\", width: 30, minWidth: 30, align: \"center\", resizable: false, headerSort: false },\n            { title: \"Item\", field: \"name\", responsive: 0 },\n            { title: \"Amount\", field: \"amount\", sorter: \"number\", align: \"right\" },\n            { title: \"Mass\", field: \"mass\", sorter: \"number\" },\n            //\n            { title: \"Mass per unit\", field: \"massPerUnit\", sorter: \"number\" }\n        ],\n        rowClick: function (e, row) {\n            if (!$(e.target).hasClass(\"tabulator-responsive-collapse-toggle-close\")) {\n                if (!$(e.target).hasClass(\"tabulator-responsive-collapse-toggle-open\")) {\n                    if (!$(e.target).hasClass(\"tabulator-responsive-collapse-toggle\")) {\n                        console.log(row._row.data.name.toLowerCase());\n                        showItemInteractions(row._row.data.name.toLowerCase(), playerShip.Inventory);\n                    }\n                }\n            }\n\n        }\n    });\n\n    var tabledata = [];\n    for (var i = 0; i < playerShip.Inventory.items.length; i++) {\n        var item = playerShip.Inventory.items[i];\n        var nm = item.name;\n        tabledata.push({\n            name: nm.capitalize(),\n            amount: item.amount,\n            mass: item.mass * item.amount,\n            massPerUnit: item.mass,\n            collapsed: true\n        });\n    }\n    table.setData(tabledata);\n}\n\n\nfunction showItemInteractions(item, inventorySystem) {\n\n    $(\"#root\").append(`\n        <div id=\"itemInteractionScreen\" class=\"interactionBlackScreen\">\n            <div>\n                <div class=\"closeInteractionAction\">X</div>\n                <span class=\"itemInteractionName\">XXXX</span>\n            </div>\n            <div>\n                <div class=\"itemInteractionAction\">Drop</div>\n                <div class=\"itemInteractionAction\">Sniff</div>\n            </div>\n        </div>\n    `);\n\n    $(\".itemInteractionName\").html(item.capitalize());\n\n    $(\".closeInteractionAction\").click(function () {\n        $(\"#itemInteractionScreen\").remove();\n    });\n    $(\".itemInteractionAction:eq(0)\").click(function () {\n        // Drop option\n        requestSliderInput({\n            text:\"Dropping algo muy largo probando 1 2 3 largfo largo\" + item,\n            min: 0,\n            max: inventorySystem.getItem(item).amount\n        }).then(function (amount) {\n            if (amount !== 0) {\n                inventorySystem.addItem(item, -amount);\n            }\n            updateInventoryScreen();\n            $(\"#itemInteractionScreen\").remove();\n        });\n    });\n}","import { SectorSize, onSectorChange, CurrentSector } from \"../sectors/manager\";\nimport { registerUpdate20 } from \"../states/update\";\nimport { playerShip } from \"../states/create\";\nimport { showManagerMenu, selectTab } from \"./managerMenu\";\nimport { uiDimensions } from \"../generalVariables\";\n\nexport var mapState = 1; // 0 not visible, 1 miniTop, 2: full\n\nexport function mapIsVisible() {\n    return true;\n}\n\nexport function setMapState(st) {\n    mapState = st;\n    if (st === 0) {\n        $(\".gameMapContainer\").css({\n            \"display\": \"none\"\n        });\n    } else {\n        $(\".gameMapContainer\").css({\n            \"display\": \"block\"\n        });\n    }\n    if (st === 1) {\n        $(\".gameMapContainer\").css({\n            width: \"150px\",\n            \"height\": \"150px\"\n        });\n        aspectW = $(\".gameMapContainer\").width() / SectorSize;\n        aspectH = $(\".gameMapContainer\").height() / SectorSize;\n        updateStaticMap();\n        $(\".mapInfo\").hide();\n    } else if (st === 2) {\n        $(\".mapInfo\").show();\n        $(\".gameMapContainer\").css({\n            width: \"100%\",\n            \"height\": \"100%\"\n        });\n        aspectW = $(\".gameMapContainer\").width() / SectorSize;\n        aspectH = $(\".gameMapContainer\").height() / SectorSize;\n        updateStaticMap();\n    }\n}\n\nvar aspectW, aspectH, lastSector;\n\n\nexport function generateMapInterface() {\n    $(\"#root\").append(`\n        <div class=\"gameMapContainer isLeft\">\n            <div class=\"mapObject mapPlayer\"></div>\n            <div class=\"mapInfo\"></div>\n        </div>\n    `);\n\n\n    yy.writeCSS(`\n        .gameMapContainer {\n            width: ${uiDimensions.map.width}px;\n            height: ${uiDimensions.map.height}px;\n            background: rgba(0, 0, 0, 0.5);\n            z-index: 10;\n            position: absolute;\n            bottom: 3px;\n            display: block;\n        }\n        .gameMapContainer.isLeft {\n            left: 3px;\n        }\n        .gameMapContainer.isRight {\n            right: 3px;\n        }\n\n        .mapObject {\n            position: absolute;\n            width: 5px;\n            height: 5px;\n        }\n        .staticMapObject {\n            background: gray;\n        }\n        .mapPlayer {\n            background: red;\n            z-index: 10;\n        }\n        .mapInfo {\n            position: absolute;\n            top: 5px;\n            left: 5px;\n            color: white;\n            z-index: 11;\n        }\n        .mapInfoPos {\n            color: lime;\n        }\n        .sectorNumberInfo {\n            color: pink;\n        }\n        .staticMapObjectPlanet {\n            background: blue;\n        }\n    `);\n\n    $(\".gameMapContainer\").click(function () {\n        \n    });\n    aspectW = $(\".gameMapContainer\").width() / SectorSize;\n    aspectH = $(\".gameMapContainer\").height() / SectorSize;\n\n    updateMapContent();\n}\n\nfunction updateStaticMap(sector) {\n    sector = sector || lastSector;\n\n    if(sector===undefined){\n        return;\n    }\n\n    $(\".staticMapObject\").remove();\n    for (var i = 0; i < sector.staticAsteroids.length; i++) {\n        var newAsteroid = sector.staticAsteroids[i];\n        var asteroidInMap = $(\"<div></div>\");\n        asteroidInMap.addClass(\"mapObject\").addClass(\"staticMapObject\");\n        asteroidInMap.css({\n            top: newAsteroid.y * aspectH,\n            left: newAsteroid.x * aspectW,\n            width: newAsteroid.width * aspectW,\n            height: newAsteroid.height * aspectH,\n        });\n        $(\".gameMapContainer\").append(asteroidInMap);\n    }\n\n    for (var i = 0; i < sector.staticPlanets.length; i++) {\n        var newAsteroid = sector.staticPlanets[i];\n        var asteroidInMap = $(\"<div></div>\");\n        asteroidInMap.addClass(\"mapObject\").addClass(\"staticMapObject\").addClass(\"staticMapObjectPlanet\");\n        asteroidInMap.css({\n            top: newAsteroid.y * aspectH,\n            left: newAsteroid.x * aspectW,\n            width: newAsteroid.width * aspectW,\n            height: newAsteroid.height * aspectH,\n        });\n        $(\".gameMapContainer\").append(asteroidInMap);\n    }\n    lastSector = sector;\n\n\n}\n\nexport function updateMapContent() {\n    registerUpdate20(function () {\n        if (mapState !== 0) {\n            $(\".mapPlayer\").css({\n                width: playerShip.Sprite.width * aspectW,\n                height: playerShip.Sprite.height * aspectH\n            });\n            $(\".mapPlayer\").css({\n                left: playerShip.Sprite.x * aspectW,\n                top: playerShip.Sprite.y * aspectH\n            });\n\n            if (mapState === 2) {\n                $(\".mapInfo\").html(`\n                x: <span class=\"mapInfoPos\">${parseInt(playerShip.Sprite.x)}</span>, y: <span class=\"mapInfoPos\">${parseInt(playerShip.Sprite.y)}</span>\n                <br>\n                <span class=\"sectorNumberInfo\">${CurrentSector.x}</span>, <span class=\"sectorNumberInfo\">${CurrentSector.y}</span>\n                `);\n            }\n\n        }\n    });\n    onSectorChange(function (sector) {\n        updateStaticMap(sector);\n    });\n}\n\nexport function showMapFullScreen(){\n    showManagerMenu(); \n    selectTab(0);\n}","import { playerShip } from \"../states/create\";\nimport { toggleFullScreen, executeResizeEvent } from \"./resizer\";\nimport { setMapState, mapState, showMapFullScreen } from \"./map\";\nimport { showManagerMenu, selectTab } from \"./managerMenu\";\nimport { MAP_STATE } from \"../generalVariables\";\n\nexport function generateTouchMenu() {\n    $(\"#toolsCogs\").remove();\n\n    window.oncontextmenu = function () { return false; }\n    var left = $(\"<div></div>\")\n        .attr(\"id\", \"toolsCogs\")\n        .appendTo($(\"#root\"))\n        .css({\n            \"z-index\": \"5\",\n            \"color\": \"white\",\n            \"position\": \"absolute\",\n            \"bottom\": \"0px\",\n            \"right\": \"0px\",\n            \"width\": \"80px\",\n            \"height\": \"60px\",\n            \"text-algin\": \"center\",\n            \"line-height\": \"60px\"\n        }).html(`\n        <i style=\"font-size: 40px;text-algin: center;line-height:60px;height:60px;padding-left: 10px;\" class=\"fas fa-cogs\"></i>\n\n        `);\n    var centerZone = $(\"<div><i style='width:100%;height:100%' class='fas fa-anchor'></i></div>\")\n        .appendTo($(\"#root\"))\n        .css({\n            \"z-index\": \"5\",\n            \"color\": \"white\",\n            \"position\": \"absolute\",\n            \"bottom\": \"5px\",\n            \"left\": \"160px\",\n            \"width\": \"calc(100% - 280px)\",\n            \"height\": \"60px\",\n            \"background\": \"rgba(0, 0, 255, 0)\"\n        });\n\n    var hammerTool = new Hammer(centerZone[0]);\n    hammerTool.on(\"press\", function (e) {\n        playerShip.toolButtonDown.apply(playerShip);\n    });\n    hammerTool.on(\"pressup panend\", function (e) {\n        playerShip.toolButtonUp.apply(playerShip);\n    });\n\n    yy.ui.touchUI({\n        container: \"body\",\n        initiator: \"#toolsCogs\",\n        styleClass: \"touchUI_style\",\n        effectClass: \"touchUI_active\",\n        colWidth: 50,\n        threshold: 50,\n        direction: \"right\",\n        onStart: function () {\n            $(\"#toolsCogs\").hide();\n        },\n        onEnd: function () {\n            $(\"#toolsCogs\").show();\n        },\n        centerLine: true,\n        items: [\n            {\n                content: `<i class=\"fas fa-bug\"></i>`,\n                click: function () {\n                   // $(\"#debugDisplay\").toggle();\n                },\n                items: [{\n                    content: '<i class=\"fas fa-redo\"></i>',\n                    click: function () {\n                        window.location.reload();\n                    }\n                }, {\n                    content: '<i class=\"fas fa-desktop\"></i>',\n                    click: function () {\n                        toggleFullScreen();\n                        setTimeout(function () {\n                            executeResizeEvent();\n                        }, 1000);\n                    }\n                }]\n            },\n            {\n                content: '<i class=\"fas fa-suitcase\"></i>',\n                click: function () {\n                    showManagerMenu();\n                    selectTab(1);\n                }\n            },\n            {\n                content: '<i class=\"fas fa-map\"></i>',\n                click: function () {\n                    showMapFullScreen();\n\n                }\n            },\n            {\n                content: `<i class=\"fas fa-wrench\"></i>`,\n                items: [{\n                    content: '<i class=\"fas fa-long-arrow-alt-up\"></i>',\n                    click: function () {\n                        playerShip.selectTool.apply(playerShip, [0]);\n                    }\n                },\n                {\n                    content: '<i class=\"fas fa-map-pin\"></i>',\n                    click: function () {\n                        playerShip.selectTool.apply(playerShip, [1]);\n                    },\n                    items: [{\n                        content: '<i class=\"fas fa-long-arrow-alt-up\"></i>',\n                        click: function () {\n                            playerShip.Sprite.setMaxVelocity(20000);\n                        }\n                    }],\n                },\n                {\n                    content: '<i class=\"fas fa-arrows-alt\"></i>',\n                    click: function () {\n                        playerShip.toggleInertiaDampeners();\n                    }\n                }]\n            }\n        ]\n    });\n\n    var midScreen = window.innerWidth / 2 - 50;\n    var midScreen2 = window.innerHeight / 2 - 50;\n    yy.writeCSS(`\n        .touchUI_style {\n            color: white;\n            font-size: 35px;\n        }\n        .touchUI_active {\n            transform: translateX(-25px)\n        }\n        .touchUI_active_ {\n            left: ${midScreen}px !important;\n        }\n    `);\n    setTimeout(function () {\n        // $(\"#debugDisplay\").toggle();\n    }, 500);\n}","import { Game } from \"../main\";\nimport { gameReference } from \"../states/create\";\nimport { generateTouchMenu } from \"./touchMenu\";\n\nexport function registerResize() {\n    var timer = {};\n    $(window).on(\"resize\", function () {\n        clearTimeout(timer);\n        timer = setTimeout(function () {\n            executeResizeEvent();\n        }, 500);\n\n    });\n}\n\n\nexport function executeResizeEvent() {\n    Game.resize(window.innerWidth, window.innerHeight);\n    Game.renderer.resize(window.innerWidth, window.innerHeight);\n    gameReference.cameras.main.setSize(window.innerWidth, window.innerHeight);\n    generateTouchMenu();\n}\n\n\nexport function toggleFullScreen() {\n    if (!document.fullscreenElement) {\n        document.documentElement.requestFullscreen();\n    } else {\n        if (document.exitFullscreen) {\n            document.exitFullscreen();\n        }\n    }\n}","import { preload } from \"./states/preload\";\nimport { create } from \"./states/create\";\nimport { update } from \"./states/update\";\nimport { generateVirtualJoystick } from \"./ui/virtualJoystick\";\nimport { loadSectorNames } from \"./data/sectorName\";\nimport { registerResize } from \"./ui/resizer\";\nimport { generateMapInterface } from \"./ui/map\";\nimport { generateManagerMenu } from \"./ui/managerMenu\";\nimport { globalPointerUp } from \"./ui/interactiveSprites\";\nimport { generateTouchMenu } from \"./ui/touchMenu\";\n\n\nexport var Game;\nvar config = {\n    type: Phaser.AUTO,\n    width: window.innerWidth,\n    parent: \"root\",\n    autoResize: true,\n    height: window.innerHeight,\n    physics: {\n        default: \"arcade\",\n        arcade: {\n            debug: true,\n            gravity: { y: 0 }\n        }\n    },\n    scene: {\n        preload: preload,\n        create: create,\n        update: update\n    }\n};\nif (window.location.host === \"yasmany1111.github.io\") {\n\n    config.physics.arcade.debug = false;\n}\n\n\nvar gameRef;\n\nasync function loadGameData(callback) {\n    await loadSectorNames();\n\n    return \"\";\n}\nString.prototype.capitalize = function () {\n    return this.charAt(0).toUpperCase() + this.slice(1);\n}\nexport async function main() {\n\n    $(\"#root\").css(\"overflow\", \"hidden\");\n    $(\"#root\").addClass(\"no-select\");\n    $(\"body\").css(\"overflow\", \"hidden\");\n    $(\"html\").css(\"overflow\", \"hidden\");\n\n    $(\"body\").append(`\n        <div id=\"gameMenuInitiatorContainer\" style=\"z-index:10000;\">\n            <button id=\"gameStartButton\">Start</button>\n        </div>\n    `);\n\n    async function startActualGame() {\n        Game = new Phaser.Game(config);\n        Game.shared = {};\n        gameRef = Game;\n        // UI\n        await loadGameData();\n        generateVirtualJoystick();\n        generateTouchMenu();\n        generateMapInterface();\n        generateManagerMenu();\n        registerResize();\n\n    }\n    $(\"#gameMenuInitiatorContainer\").click(function () {\n        try {\n            $(\"#gameMenuInitiatorContainer\").remove();\n            var audio = new Audio('assets/audio/star_wars.mp3');\n            audio.loop = true;\n            audio.volume = 0.2;\n            audio.play();\n            responsiveVoice.speak(\"The republic has been torn to pieces, whatever is left of it's remains is under a heavy martial law. You, captain hook, as a former colony survey pilot for the governor of Aquilea, has been left out with the Esmerald IV ship. Your task is to find a proper planet for colonization, and aid it so it can grow into a new civilization\");\n\n            startActualGame();\n        } catch (ex) { alert(ex.message); }\n\n    });\n\n\n\n\n    $(\"#root\").on(\"mouseup touchend\", function () {\n        globalPointerUp();\n    });\n\n\n    yy.writeCSS(`\n        #gameMenuInitiatorContainer {\n            width: 100%;\n            height: 100%;\n            background: blue;\n            position: absolute;\n            top: 0;\n            left: 0;\n        }\n    `);\n    if (window.location.host !== \"yasmany1111.github.io\" && yy.device.info().os !== \"iOS\") {\n\n        startActualGame();\n        $(\"#gameMenuInitiatorContainer\").remove();\n    }\n}\n\nexport function getGameReference() {\n    return gameRef;\n}\n\n\n","import { main } from \"./src/main.js\";\n\n\n\n(function (global) {\n    if (global.infinimy !== undefined) {\n        throw Error(\"myBundle variable already defined\");\n    }\n    global.infinimy = main;\n}).call(this, typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : typeof window !== 'undefined' ? window : {}) "]}