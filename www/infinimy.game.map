{"version":3,"sources":["node_modules/regenerator-runtime/runtime.js","node_modules/regenerator-runtime/runtime-module.js","node_modules/@babel/runtime/regenerator/index.js","node_modules/@babel/runtime/helpers/asyncToGenerator.js","src/states/preload.js","node_modules/@babel/runtime/helpers/classCallCheck.js","node_modules/@babel/runtime/helpers/createClass.js","src/states/update.js","src/ui/keyboard.js","src/data/sectorName.js","src/classes/items/Minerals.js","src/sectors/generator.js","src/api/angle.js","src/api/assistant.js","src/api/overlayInfo.js","src/ui/interactiveSprites.js","src/classes/GameSprite.js","src/sectors/manager.js","src/classes/tools/miningLaser.js","src/classes/tools/navigator.js","src/classes/systems/modules/Inventory.js","src/classes/systems/modules/Engine.js","src/classes/PlayerShip.js","src/ui/debugger.js","src/states/create.js","src/generalVariables.js","src/ui/virtualJoystick.js","src/api/sliderRequest.js","src/ui/managerMenu.js","src/ui/map.js","src/ui/touchMenu.js","src/ui/resizer.js","src/main.js","index.js"],"names":["preload","load","image","i","update10Count","update20Count","updateAt20","name","fn","updateAt10","updateDefault","update","length","pEnd","performance","now","pStart","$","css","html","roundUsing","Math","floor","count","registerUpdate","push","registerUpdate10","registerUpdate20","func","number","prec","tempnumber","pow","KeyboardHandler","registerKeyboardEvents","key_W","input","keyboard","addKey","Phaser","Input","Keyboard","KeyCodes","W","key_S","S","key_A","A","key_D","D","SectorNamesArray","loadSectorNames","Promise","resolve","yy","http","get","then","listTxt","split","getRandomSectorName","seed","random","int","Minerals","mass","rarity","demoSector","x","y","staticAsteroids","generateNewSector","options","sectorObject","generateAsteroids","staticPlanets","generatePlanets","numberOfAttempts","startPos","endPos","resultObjectCont","asteroidDemo","width","height","sceneReference","undefined","posX","posY","aspect","textureNumber","minerals","c","cMineral","chance","mineral","amount","obj","texture","checkCollision","planetDemo","newPlanet","createPlanet","hasStation","currentObject","currentArray","collides","objX","objY","objWidth","objHeight","Geom","Intersects","RectangleToRectangle","Rectangle","newStation","station","angleBetweenSprites","spriteOrigin","spriteDestiny","center","angle","Angle","Between","displayWidth","displayHeight","angleToSprite","assistantSpeak","what","responsiveVoice","speak","overlayCounter","showOverlayOver","remove","append","content","qo","find","click","SelectedSprite","selectionTimer","selectionDesire","setSelectedSprite","onDown","setTimeout","onHold","Sprite","memoryReference","type","resources","pointerUp","playerShip","desiredAngle","clearTimeout","globalPointerUp","getCenter","w","h","getSelectedSprite","GameSprite","Game","physics","add","sprite","setOrigin","classInstance","$this","setInteractive","on","pointer","localX","localY","event","CurrentSector","SectorSize","sectorChangeEvents","SectorsInMemory","registerSectorManager","generateAndLoadSector","destroyCurrentSectorData","cSector","cAsteroid","destroy","cPlanet","loadSectorData","nAsteroid","sAsteroid","setDepth","onPointerDown","onPointerUp","nPlanet","spritePlanet","spriteStation","apply","onSectorChange","newFn","getCurrentSector","MiningLaser","returnLaser","active","selected","laserSprite","laserPhysiscs","body","enable","visible","toolContainer","hitAsteroid","miningInerval","console","log","ship","Inventory","addItem","checkIfAsteroidInRange","asteroid","overlap","a","b","setActive","state","onMove","Navigator","returnNavigator","lastPointer","cameras","main","scrollX","scrollY","rotation","InventoryModule","inventorySystem","items","capacity","getUsed","getCapacityUsed","force","getItem","findItemStack","inventory","capacityUsed","fits","ret","stack","emptyStackClear","inventoryItems","EngineModule","engineModule","EngineModule2","isTouch","PlayerShip","setDrag","setAngularDrag","setMaxVelocity","textureName","replace","wantAccelerate","Speed","rotationSpeed","container","tools","selectedTool","modules","module","Engine","acceleration","maxDrag","maxSpeed","device","indexOrName","moveHandler","move","setPosition","setAngle","velocityFromRotation","accelerate","setTexture","setAcceleration","abs","isDown","generateTopDebugger","debugDisplay","attr","appendTo","window","i_debug","inertiaToggle","toggleInertiaDampeners","logGame","gameReference","logPlayer","playerX","parseInt","playerY","sceneBackground","cursors","create","cuadricula","createCursorKeys","startFollow","info1","info2","uiDimensions","map","MAP_STATE","NOT_VISIBLE","DEFAULT","FULL_SCREEN","generateVirtualJoystick","joystick","yengine","ui","VirtualJoystick","zIndex","evt","data","direction","yRad","onEnd","requestSliderInput","min","max","text","reject","resolveValue","rangeslider","polyfill","rangeClass","disabledClass","horizontalClass","verticalClass","fillClass","handleClass","onInit","val","change","onSlide","position","value","onSlideEnd","selectedTab","selectTab","index","updateInventoryScreen","removeClass","addClass","generateManagerMenu","hideManagerMenu","showManagerMenu","wh","table","Tabulator","layout","responsiveLayout","responsiveLayoutCollapseStartOpen","columns","formatter","minWidth","align","resizable","headerSort","title","field","responsive","sorter","rowClick","e","row","target","hasClass","_row","toLowerCase","showItemInteractions","tabledata","item","nm","capitalize","massPerUnit","collapsed","setData","mapState","mapIsVisible","setMapState","st","aspectW","aspectH","updateStaticMap","hide","show","lastSector","generateMapInterface","writeCSS","updateMapContent","sector","newAsteroid","asteroidInMap","top","left","showMapFullScreen","generateTouchMenu","oncontextmenu","centerZone","hammerTool","Hammer","toolButtonDown","toolButtonUp","touchUI","initiator","styleClass","effectClass","colWidth","threshold","onStart","centerLine","location","reload","selectTool","midScreen","innerWidth","midScreen2","innerHeight","registerResize","timer","executeResizeEvent","resize","renderer","setSize","toggleFullScreen","document","fullscreenElement","documentElement","requestFullscreen","exitFullscreen","config","AUTO","parent","autoResize","default","arcade","debug","gravity","scene","host","gameRef","loadGameData","callback","String","prototype","charAt","toUpperCase","slice","startActualGame","shared","audio","Audio","loop","volume","play","ex","alert","message","info","os","getGameReference","global","infinimy","Error","call","self"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrCA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACpCO,SAASA,OAAT,GAAmB;AACtB,OAAKC,IAAL,CAAUC,KAAV,CAAgB,oBAAhB,EAAsC,+BAAtC;AACA,OAAKD,IAAL,CAAUC,KAAV,CAAgB,oBAAhB,EAAsC,+BAAtC,EAFsB,CAItB;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AACxB,SAAKF,IAAL,CAAUC,KAAV,CAAgB,mBAAmBC,CAAnC,EAAsC,wCAAwCA,CAAxC,GAA4C,MAAlF;AACH,GAPqB,CAQtB;;;AACA,OAAK,IAAIA,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AACxB,SAAKF,IAAL,CAAUC,KAAV,CAAgB,iBAAiBC,CAAjC,EAAoC,4CAA4CA,CAA5C,GAAgD,MAApF;AACH,GAXqB,CAYtB;;;AACA,OAAK,IAAIA,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AACxB,SAAKF,IAAL,CAAUC,KAAV,CAAgB,iBAAiBC,CAAjC,EAAoC,+BAA+BA,CAA/B,GAAmC,MAAvE;AACH;;AAED,OAAKF,IAAL,CAAUC,KAAV,CAAgB,cAAhB,EAAgC,wCAAhC;AAGA,OAAKD,IAAL,CAAUC,KAAV,CAAgB,eAAhB,EAAiC,4CAAjC;AACA,OAAKD,IAAL,CAAUC,KAAV,CAAgB,mBAAhB,EAAqC,gDAArC;AACH;;ACtBD;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChBA;;AAEA,IAAIE,aAAa,GAAG,CAApB;AACA,IAAIC,aAAa,GAAG,CAApB;AAEA,IAAIC,UAAU,GAAG,CAAC;AACdC,EAAAA,IAAI,EAAE,OADQ;AAEdC,EAAAA,EAAE,EAAE,cAAY,CAEf;AAJa,CAAD,CAAjB;AAMA,IAAIC,UAAU,GAAG,EAAjB;AACA,IAAIC,aAAa,GAAG,EAApB;;AAEO,SAASC,MAAT,GAAkB;AACrB;AACAP,EAAAA,aAAa;AACbC,EAAAA,aAAa;;AACb,OAAK,IAAIF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGO,aAAa,CAACE,MAAlC,EAA0CT,CAAC,EAA3C,EAA+C;AAC3CO,IAAAA,aAAa,CAACP,CAAD,CAAb,CAAiBK,EAAjB,CAAoB,IAApB;AACH;;AAED,MAAIJ,aAAa,KAAK,EAAtB,EAA0B;AACtBA,IAAAA,aAAa,GAAG,CAAhB;;AACA,SAAK,IAAID,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGM,UAAU,CAACG,MAA/B,EAAuCT,CAAC,EAAxC,EAA4C;AACxCM,MAAAA,UAAU,CAACN,CAAD,CAAV,CAAcK,EAAd,CAAiB,IAAjB;AACH;AACJ;;AACD,MAAIH,aAAa,KAAK,EAAtB,EAA0B;AACtBA,IAAAA,aAAa,GAAG,CAAhB;;AACA,SAAK,IAAIF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGG,UAAU,CAACM,MAA/B,EAAuCT,CAAC,EAAxC,EAA4C;AACxCG,MAAAA,UAAU,CAACH,CAAD,CAAV,CAAcK,EAAd,CAAiB,IAAjB;AACH;AACJ;;AACD;AACA,MAAIK,IAAI,GAAGC,WAAW,CAACC,GAAZ,KAAoBC,MAA/B;;AACA,MAAIH,IAAI,GAAG,GAAX,EAAgB;AACZI,IAAAA,CAAC,CAAC,cAAD,CAAD,CAAkBC,GAAlB,CAAsB,OAAtB,EAA+B,KAA/B;AACH,GAFD,MAEO;AACHD,IAAAA,CAAC,CAAC,cAAD,CAAD,CAAkBC,GAAlB,CAAsB,OAAtB,EAA+B,MAA/B;AACH;;AACDD,EAAAA,CAAC,CAAC,cAAD,CAAD,CAAkBE,IAAlB,CAAuBC,UAAU,CAACC,IAAI,CAACC,KAAN,EAAaT,IAAb,EAAmB,CAAnB,CAAjC;AACH;;AAED,IAAIU,KAAK,GAAG,CAAZ;;AACO,SAASC,cAAT,CAAwBhB,EAAxB,EAA4B;AAC/BE,EAAAA,aAAa,CAACe,IAAd,CAAmB;AACflB,IAAAA,IAAI,EAAEgB,KAAK,EADI;AAEff,IAAAA,EAAE,EAAEA;AAFW,GAAnB;AAIH;;AACM,SAASkB,gBAAT,CAA0BlB,EAA1B,EAA8B;AACjCC,EAAAA,UAAU,CAACgB,IAAX,CAAgB;AACZlB,IAAAA,IAAI,EAAEgB,KAAK,EADC;AAEZf,IAAAA,EAAE,EAAEA;AAFQ,GAAhB;AAIH;;AACM,SAASmB,gBAAT,CAA0BnB,EAA1B,EAA8B;AACjCF,EAAAA,UAAU,CAACmB,IAAX,CAAgB;AACZlB,IAAAA,IAAI,EAAEgB,KAAK,EADC;AAEZf,IAAAA,EAAE,EAAEA;AAFQ,GAAhB;AAIH;;AAED,SAASY,UAAT,CAAoBQ,IAApB,EAA0BC,MAA1B,EAAkCC,IAAlC,EAAwC;AACpC,MAAIC,UAAU,GAAGF,MAAM,GAAGR,IAAI,CAACW,GAAL,CAAS,EAAT,EAAaF,IAAb,CAA1B;AACAC,EAAAA,UAAU,GAAGH,IAAI,CAACG,UAAD,CAAjB;AACA,SAAOA,UAAU,GAAGV,IAAI,CAACW,GAAL,CAAS,EAAT,EAAaF,IAAb,CAApB;AACH;;;;;;;;;ACpEM,IAAIG,eAAJ;;;AAEA,SAASC,sBAAT,GAAkC;AACrC,MAAIC,KAAK,GAAG,KAAKC,KAAL,CAAWC,QAAX,CAAoBC,MAApB,CAA2BC,MAAM,CAACC,KAAP,CAAaC,QAAb,CAAsBC,QAAtB,CAA+BC,CAA1D,CAAZ;AACA,MAAIC,KAAK,GAAG,KAAKR,KAAL,CAAWC,QAAX,CAAoBC,MAApB,CAA2BC,MAAM,CAACC,KAAP,CAAaC,QAAb,CAAsBC,QAAtB,CAA+BG,CAA1D,CAAZ;AACA,MAAIC,KAAK,GAAG,KAAKV,KAAL,CAAWC,QAAX,CAAoBC,MAApB,CAA2BC,MAAM,CAACC,KAAP,CAAaC,QAAb,CAAsBC,QAAtB,CAA+BK,CAA1D,CAAZ;AACA,MAAIC,KAAK,GAAG,KAAKZ,KAAL,CAAWC,QAAX,CAAoBC,MAApB,CAA2BC,MAAM,CAACC,KAAP,CAAaC,QAAb,CAAsBC,QAAtB,CAA+BO,CAA1D,CAAZ;AAEA,4BAAAhB,eAAe,GAAG;AACdU,IAAAA,CAAC,EAAER,KADW;AAEdU,IAAAA,CAAC,EAAED,KAFW;AAGdG,IAAAA,CAAC,EAAED,KAHW;AAIdG,IAAAA,CAAC,EAAED;AAJW,GAAlB;AAMH;;;;;;;;;;ACdM,IAAIE,gBAAgB,GAAG,EAAvB;;;AAEA,SAASC,eAAT,GAA2B;AAC9B,SAAO,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmB;AAClCC,IAAAA,EAAE,CAACC,IAAH,CAAQC,GAAR,CAAY,iCAAZ,EAA+CC,IAA/C,CAAoD,UAAAC,OAAO,EAAI;AAC3D,iCAAAR,gBAAgB,GAAGQ,OAAO,CAACC,KAAR,CAAc,IAAd,CAAnB;AACAN,MAAAA,OAAO;AACV,KAHD;AAIH,GALM,CAAP;AAMH;;AAEM,SAASO,mBAAT,CAA6BC,IAA7B,EAAmC;AACtC,SAAOX,gBAAgB,CAACI,EAAE,CAACQ,MAAH,CAAUC,GAAV,CAAc,CAAd,EAAiBb,gBAAgB,CAACtC,MAAjB,GAA0B,CAA3C,CAAD,CAAvB;AACH;;;;;;;;ACbM,IAAIoD,QAAQ,GAAG,CAClB;AACIzD,EAAAA,IAAI,EAAE,MADV;AAEI0D,EAAAA,IAAI,EAAE,CAFV;AAGIC,EAAAA,MAAM,EAAE;AAHZ,CADkB,EAMlB;AACI3D,EAAAA,IAAI,EAAE,QADV;AAEI0D,EAAAA,IAAI,EAAE,CAFV;AAGIC,EAAAA,MAAM,EAAE;AAHZ,CANkB,EAWlB;AACI3D,EAAAA,IAAI,EAAE,SADV;AAEI0D,EAAAA,IAAI,EAAE,EAFV;AAGIC,EAAAA,MAAM,EAAE;AAHZ,CAXkB,EAgBlB;AACI3D,EAAAA,IAAI,EAAE,MADV;AAEI0D,EAAAA,IAAI,EAAE,CAFV;AAGIC,EAAAA,MAAM,EAAC;AAHX,CAhBkB,EAqBlB;AACI3D,EAAAA,IAAI,EAAE,QADV;AAEI0D,EAAAA,IAAI,EAAE,CAFV;AAGIC,EAAAA,MAAM,EAAE;AAHZ,CArBkB,EA0BlB;AACI3D,EAAAA,IAAI,EAAE,UADV;AAEI0D,EAAAA,IAAI,EAAE,EAFV;AAGIC,EAAAA,MAAM,EAAC;AAHX,CA1BkB,CAAf;;;;;;;;;;ACAP;;AACA;;AAEA,IAAIC,UAAU,GAAG;AAAE;AACfC,EAAAA,CAAC,EAAE,CADU;AAEbC,EAAAA,CAAC,EAAE,CAFU;AAGb9D,EAAAA,IAAI,EAAE,qBAHO;AAIb+D,EAAAA,eAAe,EAAE;AAJJ,CAAjB;;AAQO,SAASC,iBAAT,CAA2BC,OAA3B,EAAoC;AAEvC,MAAIC,YAAY,GAAG;AACflE,IAAAA,IAAI,EAAEiE,OAAO,CAACjE,IAAR,IAAgB,sCADP;AAEf6D,IAAAA,CAAC,EAAEI,OAAO,CAACJ,CAFI;AAGfC,IAAAA,CAAC,EAAEG,OAAO,CAACH;AAHI,GAAnB;AAKAI,EAAAA,YAAY,CAACH,eAAb,GAA+BI,iBAAiB,CAACD,YAAD,CAAhD;AACAA,EAAAA,YAAY,CAACE,aAAb,GAA6BC,eAAe,CAACH,YAAD,CAA5C;AAEA,SAAOA,YAAP;AACH;;AAED,SAASC,iBAAT,CAA2BD,YAA3B,EAAyC;AACrC,MAAII,gBAAgB,GAAGvB,EAAE,CAACQ,MAAH,CAAUC,GAAV,CAAc,CAAd,EAAiB,GAAjB,CAAvB;AACA,MAAIe,QAAQ,GAAG,CAAf;AACA,MAAIC,MAAM,GAAG,OAAO,CAAP,GAAW,GAAxB;AAEA,MAAIC,gBAAgB,GAAG,EAAvB;AACA,MAAIC,YAAY,GAAG;AACfb,IAAAA,CAAC,EAAE,CADY;AAEfC,IAAAA,CAAC,EAAE,CAFY;AAGfa,IAAAA,KAAK,EAAE,GAHQ;AAIfC,IAAAA,MAAM,EAAE,GAJO;AAKfC,IAAAA,cAAc,EAAEC;AALD,GAAnB;;AAOA,OAAK,IAAIlF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0E,gBAApB,EAAsC1E,CAAC,EAAvC,EAA2C;AACvC,QAAImF,IAAI,GAAGhC,EAAE,CAACQ,MAAH,CAAUC,GAAV,CAAce,QAAd,EAAwBC,MAAxB,CAAX;AACA,QAAIQ,IAAI,GAAGjC,EAAE,CAACQ,MAAH,CAAUC,GAAV,CAAce,QAAd,EAAwBC,MAAxB,CAAX;AACA,QAAIS,MAAM,GAAGlC,EAAE,CAACQ,MAAH,CAAUC,GAAV,CAAc,CAAd,EAAiB,EAAjB,IAAuB,EAApC;AACA,QAAImB,KAAK,GAAG,MAAOM,MAAnB;AACA,QAAIL,MAAM,GAAG,MAAOK,MAApB;AACA,QAAIC,aAAa,GAAGnC,EAAE,CAACQ,MAAH,CAAUC,GAAV,CAAc,CAAd,EAAiB,CAAjB,CAApB;AAEA,QAAI2B,QAAQ,GAAG,EAAf;;AAEA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG3B,mBAASpD,MAA7B,EAAqC+E,CAAC,EAAtC,EAA0C;AACtC,UAAIC,QAAQ,GAAG5B,mBAAS2B,CAAT,CAAf;;AACA,UAAIrC,EAAE,CAACQ,MAAH,CAAU+B,MAAV,CAAiBD,QAAQ,CAAC1B,MAA1B,EAAkC,IAAlC,CAAJ,EAA6C;AACzCwB,QAAAA,QAAQ,CAACjE,IAAT,CAAc;AACVqE,UAAAA,OAAO,EAAEF,QADC;AAEVG,UAAAA,MAAM,EAAEzC,EAAE,CAACQ,MAAH,CAAUC,GAAV,CAAc,CAAd,EAAiB,GAAjB;AAFE,SAAd;AAIH;AACJ;;AAED,QAAIiC,GAAG,GAAG;AACN5B,MAAAA,CAAC,EAAEkB,IADG;AAENjB,MAAAA,CAAC,EAAEkB,IAFG;AAGNL,MAAAA,KAAK,EAAEA,KAHD;AAINC,MAAAA,MAAM,EAAEA,MAJF;AAKNc,MAAAA,OAAO,EAAE,mBAAmBR,aALtB;AAMN,cAAQ,UANF;AAON,kBAAYC;AAPN,KAAV;;AASA,QAAIQ,cAAc,CAACF,GAAD,EAAMhB,gBAAN,CAAd,KAA0C,KAA9C,EAAqD;AACjDA,MAAAA,gBAAgB,CAACvD,IAAjB,CAAsBuE,GAAtB;AACH;AACJ;;AAED,SAAOhB,gBAAP;AACH;;AAED,SAASJ,eAAT,CAAyBH,YAAzB,EAAuC;AACnC,MAAII,gBAAgB,GAAGvB,EAAE,CAACQ,MAAH,CAAUC,GAAV,CAAc,CAAd,EAAiB,CAAjB,CAAvB;AACA,MAAIe,QAAQ,GAAG,CAAf;AACA,MAAIC,MAAM,GAAG,OAAO,CAAP,GAAW,GAAxB,CAHmC,CAKnC;;AAEA,MAAIC,gBAAgB,GAAG,EAAvB;AACA,MAAImB,UAAU,GAAG;AACb/B,IAAAA,CAAC,EAAE,CADU;AAEbC,IAAAA,CAAC,EAAE,CAFU;AAGba,IAAAA,KAAK,EAAE,GAHM;AAIbC,IAAAA,MAAM,EAAE,GAJK;AAKbC,IAAAA,cAAc,EAAEC;AALH,GAAjB;;AAOA,OAAK,IAAIlF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0E,gBAApB,EAAsC1E,CAAC,EAAvC,EAA2C;AAEvC,QAAIiG,SAAS,GAAGC,YAAY,CAAC;AACzBjC,MAAAA,CAAC,EAAEd,EAAE,CAACQ,MAAH,CAAUC,GAAV,CAAce,QAAd,EAAwBC,MAAxB,CADsB;AAEzBV,MAAAA,CAAC,EAAEf,EAAE,CAACQ,MAAH,CAAUC,GAAV,CAAce,QAAd,EAAwBC,MAAxB,CAFsB;AAGzBS,MAAAA,MAAM,EAAElC,EAAE,CAACQ,MAAH,CAAUC,GAAV,CAAc,CAAd,EAAiB,EAAjB,IAAuB,EAHN;AAIzBmB,MAAAA,KAAK,EAAE,GAJkB;AAKzBC,MAAAA,MAAM,EAAE,GALiB;AAMzBc,MAAAA,OAAO,EAAE,iBAAiB3C,EAAE,CAACQ,MAAH,CAAUC,GAAV,CAAc,CAAd,EAAiB,CAAjB,CAND;AAOzBuC,MAAAA,UAAU,EAAEhD,EAAE,CAACQ,MAAH,CAAU+B,MAAV,CAAiB,GAAjB;AAPa,KAAD,CAA5B;;AAUA,QAAIK,cAAc,CAACE,SAAD,EAAYpB,gBAAZ,CAAd,KAAgD,KAApD,EAA2D;AACvD,UAAIkB,cAAc,CAACE,SAAD,EAAY3B,YAAY,CAACH,eAAzB,CAAd,KAA4D,KAAhE,EAAuE;AACnEU,QAAAA,gBAAgB,CAACvD,IAAjB,CAAsB2E,SAAtB;AACH;AACJ;AACJ;;AAED,SAAOpB,gBAAP;AACH;;AACD,SAASkB,cAAT,CAAwBK,aAAxB,EAAuCC,YAAvC,EAAqD;AACjD,MAAIC,QAAQ,GAAG,KAAf;AAEA,MAAIC,IAAI,GAAGH,aAAa,CAACnC,CAAzB;AACA,MAAIuC,IAAI,GAAGJ,aAAa,CAAClC,CAAzB;AAEA,MAAIuC,QAAQ,GAAGL,aAAa,CAACrB,KAA7B;AACA,MAAI2B,SAAS,GAAGN,aAAa,CAACpB,MAA9B;;AAMA,OAAK,IAAIhF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqG,YAAY,CAAC5F,MAAjC,EAAyCT,CAAC,EAA1C,EAA8C;AAC1C,QAAIoC,MAAM,CAACuE,IAAP,CAAYC,UAAZ,CAAuBC,oBAAvB,CACA,IAAIzE,MAAM,CAACuE,IAAP,CAAYG,SAAhB,CAA0BP,IAA1B,EAAgCC,IAAhC,EAAsCC,QAAtC,EAAgDC,SAAhD,CADA,EAEA,IAAItE,MAAM,CAACuE,IAAP,CAAYG,SAAhB,CAA0BT,YAAY,CAACrG,CAAD,CAAZ,CAAgBiE,CAA1C,EAA6CoC,YAAY,CAACrG,CAAD,CAAZ,CAAgBkE,CAA7D,EAAgEmC,YAAY,CAACrG,CAAD,CAAZ,CAAgB+E,KAAhF,EAAuFsB,YAAY,CAACrG,CAAD,CAAZ,CAAgBgF,MAAvG,CAFA,CAAJ,EAGG;AACCsB,MAAAA,QAAQ,GAAG,IAAX;AACH;AACJ;;AAED,SAAOA,QAAP;AACH;;AAGD,SAASJ,YAAT,CAAsB7B,OAAtB,EAA+B;AAC3B,MAAIwB,GAAG,GAAG;AACN,YAAQ,QADF;AAENM,IAAAA,UAAU,EAAE9B,OAAO,CAAC8B,UAFd;AAGN;AACAlC,IAAAA,CAAC,EAAEI,OAAO,CAACJ,CAAR,IAAa,CAJV;AAKNC,IAAAA,CAAC,EAAEG,OAAO,CAACH,CAAR,IAAa,CALV;AAMNa,IAAAA,KAAK,EAAEV,OAAO,CAACU,KAAR,GAAgBV,OAAO,CAACgB,MAAxB,IAAkC,GANnC;AAONL,IAAAA,MAAM,EAAEX,OAAO,CAACW,MAAR,GAAiBX,OAAO,CAACgB,MAAzB,IAAmC,GAPrC;AAQNS,IAAAA,OAAO,EAAEzB,OAAO,CAACyB,OAAR,IAAmB;AARtB,GAAV;;AAWA,MAAIzB,OAAO,CAAC8B,UAAZ,EAAwB;AACpB,QAAIY,UAAU,GAAG;AACb9C,MAAAA,CAAC,EAAE4B,GAAG,CAAC5B,CADM;AAEbC,MAAAA,CAAC,EAAE2B,GAAG,CAAC3B,CAAJ,GAAQ,GAFE;AAGb4B,MAAAA,OAAO,EAAE;AAHI,KAAjB;AAKAD,IAAAA,GAAG,CAACmB,OAAJ,GAAcD,UAAd;AACH;;AAED,SAAOlB,GAAP;AACH;;;;;;;;;;AC9JM,SAASoB,mBAAT,CAA6BC,YAA7B,EAA2CC,aAA3C,EAA0DC,MAA1D,EAAkE;AACrE,MAAIA,MAAM,KAAK,IAAf,EAAqB;AACjB,QAAIC,KAAK,GAAGjF,MAAM,CAAClB,IAAP,CAAYoG,KAAZ,CAAkBC,OAAlB,CAA0BL,YAAY,CAACjD,CAAvC,EAA0CiD,YAAY,CAAChD,CAAvD,EACRiD,aAAa,CAAClD,CAAd,GAAmBkD,aAAa,CAACK,YAAd,GAA2B,CADtC,EAC0CL,aAAa,CAACjD,CAAd,GAAmBiD,aAAa,CAACM,aAAd,GAA4B,CADzF,CAAZ;AAEA,WAAOJ,KAAP;AACH,GAJD,MAIO;AACH,QAAIA,KAAK,GAAGjF,MAAM,CAAClB,IAAP,CAAYoG,KAAZ,CAAkBC,OAAlB,CAA0BL,YAAY,CAACjD,CAAvC,EAA0CiD,YAAY,CAAChD,CAAvD,EACRiD,aAAa,CAAClD,CADN,EACSkD,aAAa,CAACjD,CADvB,CAAZ;AAEA,WAAOmD,KAAP;AACH;AACJ;;AAEM,SAASK,aAAT,CAAuBR,YAAvB,EAAqCC,aAArC,EAAoDC,MAApD,EAA4D;AAC/DA,EAAAA,MAAM,GAAGA,MAAM,IAAI,IAAnB;;AACA,MAAIA,MAAM,KAAK,IAAf,EAAqB;AACjB,QAAIC,KAAK,GAAGjF,MAAM,CAAClB,IAAP,CAAYoG,KAAZ,CAAkBC,OAAlB,CAA0BL,YAAY,CAACjD,CAAvC,EAA0CiD,YAAY,CAAChD,CAAvD,EACRiD,aAAa,CAAClD,CAAd,GAAmBkD,aAAa,CAACK,YAAd,GAA2B,CADtC,EAC0CL,aAAa,CAACjD,CAAd,GAAmBiD,aAAa,CAACM,aAAd,GAA4B,CADzF,CAAZ;AAEA,WAAOJ,KAAP;AACH,GAJD,MAIO;AACH,QAAIA,KAAK,GAAGjF,MAAM,CAAClB,IAAP,CAAYoG,KAAZ,CAAkBC,OAAlB,CAA0BL,YAAY,CAACjD,CAAvC,EAA0CiD,YAAY,CAAChD,CAAvD,EACRiD,aAAa,CAAClD,CADN,EACSkD,aAAa,CAACjD,CADvB,CAAZ;AAEA,WAAOmD,KAAP;AACH;AACJ;;;;;;;;;ACvBM,SAASM,cAAT,CAAwBC,IAAxB,EAA6B;AAChCC,EAAAA,eAAe,CAACC,KAAhB,CAAsBF,IAAtB;AAEH;;;;;;;;ACHD,IAAIG,cAAc,GAAG,CAArB;;AAEO,SAASC,eAAT,CAAyB3D,OAAzB,EAAkC;AACrC0D,EAAAA,cAAc,IAAI,CAAlB;AACA1D,EAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;AACAA,EAAAA,OAAO,CAAC4D,MAAR,GAAiB,IAAjB;;AACA,MAAI5D,OAAO,CAAC4D,MAAZ,EAAoB;AAChBnH,IAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBmH,MAAnB;AACH;;AAEDnH,EAAAA,CAAC,CAAC,OAAD,CAAD,CAAWoH,MAAX,kEACgDH,cADhD,+IAIc1D,OAAO,CAAC8D,OAJtB;AASA,MAAIC,EAAE,GAAGtH,CAAC,CAAC,kBAAkBiH,cAAnB,CAAV;AAEAK,EAAAA,EAAE,CAACC,IAAH,CAAQ,6BAAR,EAAuCC,KAAvC,CAA6C,YAAY;AACrDF,IAAAA,EAAE,CAACH,MAAH;AACH,GAFD;AAMH;;;;;;;;;;;;AC3BD;;AACA;;AACA;;AACA;;AAEA,IAAIM,cAAc,GAAG,IAArB;AACA,IAAIC,cAAc,GAAGtD,SAArB;AACA,IAAIuD,eAAe,GAAG,CAAtB;;AACO,SAASC,iBAAT,CAA2B7C,GAA3B,EAAgC;AACnC;AAEA0C,EAAAA,cAAc,GAAG1C,GAAjB;AACA8C,EAAAA,MAAM,CAACJ,cAAD,CAAN;AAEAE,EAAAA,eAAe,GAAG,CAAlB;AACAD,EAAAA,cAAc,GAAGI,UAAU,CAAC,YAAY;AACpC;AACAH,IAAAA,eAAe,GAAG,CAAlB;AACH,GAH0B,EAGxB,GAHwB,CAA3B,CAPmC,CAWnC;AACA;AACH;;AAED,SAASE,MAAT,GAAkB,CAEjB;;AAED,SAASE,MAAT,GAAkB;AACd,UAAQN,cAAc,CAACO,MAAf,CAAsBC,eAAtB,CAAsCC,IAA9C;AACI,SAAK,UAAL;AACI,UAAIC,SAAS,GAAG,EAAhB;;AACA,WAAK,IAAIjJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGuI,cAAc,CAACO,MAAf,CAAsBC,eAAtB,CAAsCxD,QAAtC,CAA+C9E,MAAnE,EAA2ET,CAAC,EAA5E,EAAgF;AAC5E,YAAIyF,QAAQ,GAAG8C,cAAc,CAACO,MAAf,CAAsBC,eAAtB,CAAsCxD,QAAtC,CAA+CvF,CAA/C,CAAf;AACAiJ,QAAAA,SAAS,qEAC4BxD,QAAQ,CAACE,OAAT,CAAiBvF,IAD7C,0EAE4BqF,QAAQ,CAACG,MAFrC,uDAAT;AAKH;;AACD,wCAAgB;AACZuC,QAAAA,OAAO,4HAGIc,SAHJ;AADK,OAAhB;AAOA;AAlBR;;AAoBA,iCAAeV,cAAc,CAACO,MAAf,CAAsBC,eAAtB,CAAsCC,IAArD;AACH;;AAGM,SAASE,SAAT,CAAmBrD,GAAnB,EAAwB;AAC3B,UAAQ4C,eAAR;AACI,SAAK,CAAL;AACIU,yBAAWC,YAAX,GAA0B,gCAAoBD,mBAAWL,MAA/B,EAAuCP,cAAc,CAACO,MAAtD,EAA8D,IAA9D,CAA1B;AACA;;AACJ,SAAK,CAAL;AACID,MAAAA,MAAM;AACN;AANR;;AAQAQ,EAAAA,YAAY,CAACb,cAAD,CAAZ;AACAC,EAAAA,eAAe,GAAG,CAAlB;AACH;;AAEM,SAASa,eAAT,GAA2B,CACjC;;AAGD,SAASC,SAAT,CAAmBtF,CAAnB,EAAsBC,CAAtB,EAAyBsF,CAAzB,EAA4BC,CAA5B,EAA+B;AAC3B,SAAO;AACHxF,IAAAA,CAAC,EAAEA,CAAC,GAAGuF,CAAC,GAAG,CADR;AAEHtF,IAAAA,CAAC,EAAEA,CAAC,GAAGuF,CAAC,GAAG;AAFR,GAAP;AAIH;;AAEM,SAASC,iBAAT,GAA6B;AAChC,SAAOnB,cAAP;AACH;;;;;;;;;;;;;;;IC9EYoB;;;AACT,sBAAYC,IAAZ,EAA8C;AAAA,QAA5B3F,CAA4B,uEAAxB,CAAwB;AAAA,QAArBC,CAAqB,uEAAjB,CAAiB;AAAA,QAAd4B,OAAc,uEAAJ,EAAI;AAAA;AAC1C,SAAKgD,MAAL,GAAcc,IAAI,CAACC,OAAL,CAAaC,GAAb,CAAiBC,MAAjB,CAAwB9F,CAAxB,EAA2BC,CAA3B,EAA8B4B,OAA9B,CAAd;AAEA,SAAKgD,MAAL,CAAYkB,SAAZ,CAAsB,CAAtB;AACA,SAAKlB,MAAL,CAAYmB,aAAZ,GAA4B,IAA5B;AAEA,WAAO,IAAP;AACH;;;;kCACa5J,IAAG;AACb,UAAI6J,KAAK,GAAG,IAAZ;AACA,WAAKpB,MAAL,CAAYqB,cAAZ,GAA6BC,EAA7B,CAAgC,aAAhC,EAA+C,UAAUC,OAAV,EAAmBC,MAAnB,EAA2BC,MAA3B,EAAmCC,KAAnC,EAA0C;AACrFnK,QAAAA,EAAE,CAAC6J,KAAD,CAAF,CADqF,CAErF;AACH,OAHD;AAIH;;;gCACW7J,IAAG;AACX,UAAI6J,KAAK,GAAG,IAAZ;AACA,WAAKpB,MAAL,CAAYqB,cAAZ,GAA6BC,EAA7B,CAAgC,WAAhC,EAA6C,UAAUC,OAAV,EAAmBC,MAAnB,EAA2BC,MAA3B,EAAmCC,KAAnC,EAA0C;AACnFnK,QAAAA,EAAE,CAAC6J,KAAD,CAAF,CADmF,CAEnF;AACH,OAHD;AAIH;;;;;;;;;;;;;;;;;;ACtBL;;AACA;;AACA;;AACA;;AACA;;AAEO;AAAe,IAAIO,aAAa,GAAG;AACtCxG,EAAAA,CAAC,EAAE,CADmC;AAEtCC,EAAAA,CAAC,EAAE,CAFmC,CAEjC;;AAFiC,CAApB;;AAKf,IAAIwG,UAAU,GAAG,OAAO,CAAxB;;AAEP,IAAIC,kBAAkB,GAAG,EAAzB;AAEA,IAAIC,eAAe,GAAG,EAAtB,EAA0B;;AAEnB,SAASC,qBAAT,CAA+BjB,IAA/B,EAAqC;AACxC,gCAAiB,YAAY;AACzB,QAAIzE,IAAI,GAAGgE,mBAAWL,MAAX,CAAkB7E,CAA7B;AACA,QAAImB,IAAI,GAAG+D,mBAAWL,MAAX,CAAkB5E,CAA7B,CAFyB,CAIzB;;AACA,QAAIiB,IAAI,GAAG,CAAX,EAAc;AACV;AAEA2F,MAAAA,qBAAqB,CAACL,aAAa,CAACxG,CAAd,GAAkB,CAAnB,EAAsBwG,aAAa,CAACvG,CAApC,EAAuC0F,IAAvC,CAArB;AACAT,yBAAWL,MAAX,CAAkB7E,CAAlB,GAAsByG,UAAU,GAAG,GAAnC;AACH,KAVwB,CAWzB;;;AACA,QAAIvF,IAAI,GAAGuF,UAAX,EAAuB;AACnB;AAEAI,MAAAA,qBAAqB,CAACL,aAAa,CAACxG,CAAd,GAAkB,CAAnB,EAAsBwG,aAAa,CAACvG,CAApC,EAAuC0F,IAAvC,CAArB;AACAT,yBAAWL,MAAX,CAAkB7E,CAAlB,GAAsB,GAAtB;AACH,KAjBwB,CAkBzB;;;AACA,QAAImB,IAAI,GAAG,CAAX,EAAc;AACV;AAEA0F,MAAAA,qBAAqB,CAACL,aAAa,CAACxG,CAAf,EAAkBwG,aAAa,CAACvG,CAAd,GAAkB,CAApC,EAAuC0F,IAAvC,CAArB;AACAT,yBAAWL,MAAX,CAAkB5E,CAAlB,GAAsBwG,UAAU,GAAG,GAAnC;AACH,KAxBwB,CAyBzB;;;AACA,QAAItF,IAAI,GAAGsF,UAAX,EAAuB;AACnB;AAEAI,MAAAA,qBAAqB,CAACL,aAAa,CAACxG,CAAf,EAAkBwG,aAAa,CAACvG,CAAd,GAAkB,CAApC,EAAuC0F,IAAvC,CAArB;AACAT,yBAAWL,MAAX,CAAkB5E,CAAlB,GAAsB,GAAtB;AACH;AACJ,GAhCD;AAiCH;;AAED,SAAS6G,wBAAT,GAAoC;AAChC,MAAIC,OAAO,GAAGJ,eAAe,CAACH,aAAa,CAACxG,CAAf,CAAf,CAAiCwG,aAAa,CAACvG,CAA/C,CAAd;;AAEA,OAAK,IAAIlE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgL,OAAO,CAAC7G,eAAR,CAAwB1D,MAA5C,EAAoDT,CAAC,EAArD,EAAyD;AACrD,QAAIiL,SAAS,GAAGD,OAAO,CAAC7G,eAAR,CAAwBnE,CAAxB,CAAhB;AACA,QAAIiL,SAAS,CAAChG,cAAV,KAA6BC,SAAjC,EACI+F,SAAS,CAAChG,cAAV,CAAyB6D,MAAzB,CAAgCoC,OAAhC;AACP;;AACD,OAAK,IAAIlL,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgL,OAAO,CAACxG,aAAR,CAAsB/D,MAA1C,EAAkDT,CAAC,EAAnD,EAAuD;AACnD,QAAImL,OAAO,GAAGH,OAAO,CAACxG,aAAR,CAAsBxE,CAAtB,CAAd;AACA,QAAImL,OAAO,CAAClG,cAAR,KAA2BC,SAA/B,EACIiG,OAAO,CAAClG,cAAR,CAAuB6D,MAAvB,CAA8BoC,OAA9B;AACJ,QAAIC,OAAO,CAACnE,OAAR,KAAoB9B,SAAxB,EACI,IAAIiG,OAAO,CAACnE,OAAR,CAAgB/B,cAAhB,KAAmCC,SAAvC,EACIiG,OAAO,CAACnE,OAAR,CAAgB/B,cAAhB,CAA+B6D,MAA/B,CAAsCoC,OAAtC;AACX;AACJ;;AAED,SAASE,cAAT,CAAwBnH,CAAxB,EAA2BC,CAA3B,EAA8B;AAC1B6G,EAAAA,wBAAwB;;AAExB,OAAK,IAAI/K,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4K,eAAe,CAAC3G,CAAD,CAAf,CAAmBC,CAAnB,EAAsBC,eAAtB,CAAsC1D,MAA1D,EAAkET,CAAC,EAAnE,EAAuE;AACnE,QAAIqL,SAAS,GAAGT,eAAe,CAAC3G,CAAD,CAAf,CAAmBC,CAAnB,EAAsBC,eAAtB,CAAsCnE,CAAtC,CAAhB;;AACA,QAAIqL,SAAS,CAACH,OAAV,KAAsB,IAA1B,EAAgC;AAC5B,UAAII,SAAS,GAAG,IAAI3B,sBAAJ,CAAe,IAAf,EAAqB0B,SAAS,CAACpH,CAA/B,EAAkCoH,SAAS,CAACnH,CAA5C,EAA+CmH,SAAS,CAACvF,OAAzD,CAAhB;AACAwF,MAAAA,SAAS,CAACxC,MAAV,CAAiBtB,YAAjB,GAAgC6D,SAAS,CAACtG,KAA1C;AACAuG,MAAAA,SAAS,CAACxC,MAAV,CAAiBrB,aAAjB,GAAiC4D,SAAS,CAACrG,MAA3C;AACAsG,MAAAA,SAAS,CAACxC,MAAV,CAAiByC,QAAjB,CAA0B,CAA1B;AACAD,MAAAA,SAAS,CAACxC,MAAV,CAAiBkB,SAAjB,CAA2B,CAA3B;AACAsB,MAAAA,SAAS,CAACxC,MAAV,CAAiBC,eAAjB,GAAmCsC,SAAnC;AACAA,MAAAA,SAAS,CAACpG,cAAV,GAA2BqG,SAA3B;AAEAA,MAAAA,SAAS,CAACE,aAAV,CAAwB,UAAU1C,MAAV,EAAkB;AACtC,mDAAkBA,MAAlB;AACH,OAFD;AAGAwC,MAAAA,SAAS,CAACG,WAAV,CAAsB,UAAU3C,MAAV,EAAkB;AACpC,2CAAUA,MAAV;AACH,OAFD;AAGH,KAjBkE,CAkBnE;AACA;AACA;;AACH;;AACD,OAAK,IAAI9I,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4K,eAAe,CAAC3G,CAAD,CAAf,CAAmBC,CAAnB,EAAsBM,aAAtB,CAAoC/D,MAAxD,EAAgET,CAAC,EAAjE,EAAqE;AACjE,QAAI0L,OAAO,GAAGd,eAAe,CAAC3G,CAAD,CAAf,CAAmBC,CAAnB,EAAsBM,aAAtB,CAAoCxE,CAApC,CAAd;;AACA,QAAI0L,OAAO,CAACR,OAAR,KAAoB,IAAxB,EAA8B;AAC1B,UAAIS,YAAY,GAAG,IAAIhC,sBAAJ,CAAe,IAAf,EAAqB+B,OAAO,CAACzH,CAA7B,EAAgCyH,OAAO,CAACxH,CAAxC,EAA2CwH,OAAO,CAAC5F,OAAnD,CAAnB;AACA6F,MAAAA,YAAY,CAAC7C,MAAb,CAAoBtB,YAApB,GAAmCkE,OAAO,CAAC3G,KAA3C;AACA4G,MAAAA,YAAY,CAAC7C,MAAb,CAAoBrB,aAApB,GAAoCiE,OAAO,CAAC1G,MAA5C;AACA2G,MAAAA,YAAY,CAAC7C,MAAb,CAAoByC,QAApB,CAA6B,CAA7B;AACAI,MAAAA,YAAY,CAAC7C,MAAb,CAAoBkB,SAApB,CAA8B,CAA9B;AACA2B,MAAAA,YAAY,CAAC7C,MAAb,CAAoBC,eAApB,GAAsC2C,OAAtC;AACAA,MAAAA,OAAO,CAACzG,cAAR,GAAyB0G,YAAzB;AAEAA,MAAAA,YAAY,CAACH,aAAb,CAA2B,UAAU1C,MAAV,EAAkB;AACzC,mDAAkBA,MAAlB;AACH,OAFD;AAGA6C,MAAAA,YAAY,CAACF,WAAb,CAAyB,UAAU3C,MAAV,EAAkB;AACvC,2CAAUA,MAAV;AACH,OAFD;;AAIA,UAAI4C,OAAO,CAACvF,UAAZ,EAAwB;AACpB,YAAIyF,aAAa,GAAG,IAAIjC,sBAAJ,CAAe,IAAf,EAAqB+B,OAAO,CAAC1E,OAAR,CAAgB/C,CAArC,EAAwCyH,OAAO,CAAC1E,OAAR,CAAgB9C,CAAxD,EAA2DwH,OAAO,CAAC1E,OAAR,CAAgBlB,OAA3E,CAApB;AACA8F,QAAAA,aAAa,CAAC9C,MAAd,CAAqBtB,YAArB,GAAoCkE,OAAO,CAAC3G,KAAR,GAAgB,CAApD;AACA6G,QAAAA,aAAa,CAAC9C,MAAd,CAAqBrB,aAArB,GAAqCiE,OAAO,CAAC1G,MAAR,GAAiB,CAAtD;AACA4G,QAAAA,aAAa,CAAC9C,MAAd,CAAqByC,QAArB,CAA8B,CAA9B;AACAK,QAAAA,aAAa,CAAC9C,MAAd,CAAqBkB,SAArB,CAA+B,CAA/B;AACA4B,QAAAA,aAAa,CAAC9C,MAAd,CAAqB7E,CAArB,GAAyByH,OAAO,CAACzH,CAAR,GAAayH,OAAO,CAAC3G,KAAR,GAAgB,CAAhB,GAAoB,CAA1D;AACA6G,QAAAA,aAAa,CAAC9C,MAAd,CAAqB5E,CAArB,GAAyBwH,OAAO,CAACxH,CAAR,GAAawH,OAAO,CAAC1G,MAAR,GAAiB,CAAvD;AACA0G,QAAAA,OAAO,CAAC1E,OAAR,CAAgB/B,cAAhB,GAAiC2G,aAAjC;AACH;AACJ,KA5BgE,CA6BjE;AACA;AACA;;AACH;AACJ;;AAEM,SAASd,qBAAT,CAA+B7G,CAA/B,EAAkCC,CAAlC,EAAqC0F,IAArC,EAA2C;AAC9C,MAAIgB,eAAe,CAAC3G,CAAD,CAAf,KAAuBiB,SAA3B,EAAsC;AAClC0F,IAAAA,eAAe,CAAC3G,CAAD,CAAf,GAAqB,EAArB;AACH;;AACD,MAAI2G,eAAe,CAAC3G,CAAD,CAAf,CAAmBC,CAAnB,MAA0BgB,SAA9B,EAAyC;AACrC0F,IAAAA,eAAe,CAAC3G,CAAD,CAAf,CAAmBC,CAAnB,IAAwB,kCAAkB;AACtCD,MAAAA,CAAC,EAAEA,CADmC;AAEtCC,MAAAA,CAAC,EAAEA;AAFmC,KAAlB,CAAxB;AAIH;;AAEDkH,EAAAA,cAAc,CAACS,KAAf,CAAqBjC,IAArB,EAA2B,CAAC3F,CAAD,EAAIC,CAAJ,CAA3B;AACA,0BAAAuG,aAAa,GAAGG,eAAe,CAAC3G,CAAD,CAAf,CAAmBC,CAAnB,CAAhB;;AACA,OAAK,IAAIlE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2K,kBAAkB,CAAClK,MAAvC,EAA+CT,CAAC,EAAhD,EAAoD;AAChD2K,IAAAA,kBAAkB,CAAC3K,CAAD,CAAlB,CAAsB6L,KAAtB,CAA4BjC,IAA5B,EAAkC,CAACa,aAAD,CAAlC;AACH;AACJ;;AAEM,SAASqB,cAAT,CAAwBC,KAAxB,EAA+B;AAClCpB,EAAAA,kBAAkB,CAACrJ,IAAnB,CAAwByK,KAAxB;AACH;;AAEM,SAASC,gBAAT,GAA4B;AAC/B,SAAOpB,eAAe,CAACH,aAAa,CAACxG,CAAf,CAAf,CAAiCwG,aAAa,CAACvG,CAA/C,CAAP;AACH;;;;;;;;;AC3JD;;AAEO,SAAS+H,WAAT,CAAqBrC,IAArB,EAA2BvF,OAA3B,EAAoC;AACvC,MAAI6H,WAAW,GAAG;AACdC,IAAAA,MAAM,EAAE,KADM;AAEdC,IAAAA,QAAQ,EAAE;AAFI,GAAlB;AAIA,MAAIC,WAAW,GAAGzC,IAAI,CAACC,OAAL,CAAaC,GAAb,CAAiBC,MAAjB,CAAwB,EAAxB,EAA4B,CAA5B,EAA+B,cAA/B,CAAlB;AACA,MAAIuC,aAAa,GAAG1C,IAAI,CAACC,OAAL,CAAaC,GAAb,CAAiBC,MAAjB,CAAwB,EAAxB,EAA4B,CAA5B,EAA+B,EAA/B,CAApB;AACAsC,EAAAA,WAAW,CAAC7E,YAAZ,GAA2B,GAA3B;AACA6E,EAAAA,WAAW,CAAC5E,aAAZ,GAA4B,EAA5B;AACA4E,EAAAA,WAAW,CAACE,IAAZ,CAAiBC,MAAjB,GAA0B,KAA1B;AACAH,EAAAA,WAAW,CAACI,OAAZ,GAAsB,KAAtB;AACAH,EAAAA,aAAa,CAACG,OAAd,GAAwB,KAAxB;AACApI,EAAAA,OAAO,CAACqI,aAAR,CAAsB5C,GAAtB,CAA0BuC,WAA1B;AACAhI,EAAAA,OAAO,CAACqI,aAAR,CAAsB5C,GAAtB,CAA0BwC,aAA1B;AACAJ,EAAAA,WAAW,CAACnC,MAAZ,GAAqBsC,WAArB;AAEA,MAAIM,WAAW,GAAG,KAAlB;AAEA,MAAIC,aAAa,GAAG,CAApB;;AACAV,EAAAA,WAAW,CAAC1L,MAAZ,GAAqB,YAAY;AAC7B,QAAI0L,WAAW,CAACC,MAAhB,EAAwB;AACpB,UAAIQ,WAAW,KAAK,KAApB,EAA2B;AACvBL,QAAAA,aAAa,CAACrI,CAAd,IAAmB,CAAnB;;AACA,YAAIqI,aAAa,CAACrI,CAAd,GAAkB,KAAK,EAA3B,EAA+B;AAC3BqI,UAAAA,aAAa,CAACrI,CAAd,GAAkB,EAAlB;AACH;AACJ,OALD,MAKO;AACH;AACA2I,QAAAA,aAAa;;AACb,YAAIA,aAAa,GAAG,EAApB,EAAwB;AACpBC,UAAAA,OAAO,CAACC,GAAR,CAAYH,WAAW,CAAC1C,aAAxB;;AACA,cAAI9G,EAAE,CAACQ,MAAH,CAAU+B,MAAV,CAAiB,EAAjB,CAAJ,EAA0B;AACtBrB,YAAAA,OAAO,CAAC0I,IAAR,CAAaC,SAAb,CAAuBC,OAAvB,CAA+B,MAA/B,EAAuC,CAAvC;AACH;;AACDL,UAAAA,aAAa,GAAG,CAAhB;AACH;AACJ;AACJ;AACJ,GAnBD;;AAqBA,WAASM,sBAAT,GAAkC,CAEjC,CA1CsC,CA4CvC;AACA;AACA;;;AACA,+BAAe,UAAUtD,IAAV,EAAgB;AAC3B,QAAIoB,OAAO,GAAG,gCAAd;;AACA,SAAK,IAAIhL,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgL,OAAO,CAAC7G,eAAR,CAAwB1D,MAA5C,EAAoDT,CAAC,EAArD,EAAyD;AACrD,UAAImN,QAAQ,GAAGnC,OAAO,CAAC7G,eAAR,CAAwBnE,CAAxB,CAAf;AACA,WAAK6J,OAAL,CAAaC,GAAb,CAAiBsD,OAAjB,CAAyBd,aAAzB,EAAwCa,QAAQ,CAAClI,cAAT,CAAwB6D,MAAhE,EAAwE,UAAUuE,CAAV,EAAaC,CAAb,EAAgB;AACpFX,QAAAA,WAAW,GAAGW,CAAd;AACH,OAFD;AAGH;AACJ,GARD;;AAUApB,EAAAA,WAAW,CAACqB,SAAZ,GAAwB,UAAUC,KAAV,EAAiB;AACrCnB,IAAAA,WAAW,CAACI,OAAZ,GAAsBe,KAAtB;AACAtB,IAAAA,WAAW,CAACC,MAAZ,GAAqBqB,KAArB;;AACA,QAAIA,KAAJ,EAAW,CAEV;AACJ,GAND;;AAOAtB,EAAAA,WAAW,CAACuB,MAAZ,GAAqB,YAAY;AAC7Bd,IAAAA,WAAW,GAAG,KAAd;AACH,GAFD;;AAGA,SAAOT,WAAP;AACH;;;;;;;;;ACtEM,SAASwB,SAAT,CAAmB9D,IAAnB,EAAyBvF,OAAzB,EAAkC;AACrC,MAAIsJ,eAAe,GAAG;AAClBxB,IAAAA,MAAM,EAAE;AADU,GAAtB;AAGA,MAAIyB,WAAW,GAAG;AAAE3J,IAAAA,CAAC,EAAE,CAAL;AAAQC,IAAAA,CAAC,EAAE;AAAX,GAAlB;AACA,MAAIiF,UAAU,GAAG9E,OAAO,CAAC8E,UAAzB;AACAS,EAAAA,IAAI,CAAC3H,KAAL,CAAWmI,EAAX,CAAc,aAAd,EAA6B,UAAUC,OAAV,EAAmB;AAC5CuD,IAAAA,WAAW,GAAGvD,OAAd;AACH,GAFD,EAEG,IAFH;;AAIAsD,EAAAA,eAAe,CAACnN,MAAhB,GAAyB,YAAY;AACjC,QAAI6G,KAAK,GAAGjF,MAAM,CAAClB,IAAP,CAAYoG,KAAZ,CAAkBC,OAAlB,CAA0B4B,UAAU,CAACL,MAAX,CAAkB7E,CAA5C,EAA+CkF,UAAU,CAACL,MAAX,CAAkB5E,CAAjE,EACR0J,WAAW,CAAC3J,CAAZ,GAAgB2F,IAAI,CAACiE,OAAL,CAAaC,IAAb,CAAkBC,OAD1B,EACmCH,WAAW,CAAC1J,CAAZ,GAAgB0F,IAAI,CAACiE,OAAL,CAAaC,IAAb,CAAkBE,OADrE,CAAZ;AAEA7E,IAAAA,UAAU,CAACC,YAAX,GAA0B/B,KAA1B;;AACA,QAAI8B,UAAU,CAACC,YAAX,KAA4BD,UAAU,CAACL,MAAX,CAAkBmF,QAAlD,EAA4D;AACxD9E,MAAAA,UAAU,CAACC,YAAX,GAA0B,KAA1B;AACH;AAEJ,GARD;;AAWAuE,EAAAA,eAAe,CAACJ,SAAhB,GAA4B,UAAUC,KAAV,EAAiB;AACzCG,IAAAA,eAAe,CAACxB,MAAhB,GAAyBqB,KAAzB;AACH,GAFD;;AAGAG,EAAAA,eAAe,CAACF,MAAhB,GAAyB,YAAY,CAAG,CAAxC;;AACA,SAAOE,eAAP;AACH;;;;;;;;;AC1BM,SAASO,eAAT,CAAyB7J,OAAzB,EAAkC;AACrCA,EAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;AAEA,MAAI8J,eAAe,GAAG;AAClBC,IAAAA,KAAK,EAAE,EADW;AAElBC,IAAAA,QAAQ,EAAEhK,OAAO,CAACgK,QAAR,IAAoB,GAFZ;AAGlBC,IAAAA,OAAO,EAAE,mBAAY;AACjB,aAAOC,eAAe,CAACJ,eAAD,CAAtB;AACH;AALiB,GAAtB;;AAOAA,EAAAA,eAAe,CAAClB,OAAhB,GAA0B,UAAU7M,IAAV,EAAgBwF,MAAhB,EAAwB9B,IAAxB,EAA8B0K,KAA9B,EAAqC;AAC3DvB,IAAAA,OAAO,CAACkB,eAAD,EAAkB/N,IAAlB,EAAwBwF,MAAxB,EAAgC9B,IAAhC,EAAsC0K,KAAtC,CAAP;AACH,GAFD;;AAGAL,EAAAA,eAAe,CAACM,OAAhB,GAA0B,UAAUrO,IAAV,EAAgB;AACtC,WAAOsO,aAAa,CAACP,eAAD,EAAkB/N,IAAlB,CAApB;AACH,GAFD;;AAGA,SAAO+N,eAAP;AACH;;AAED,SAASI,eAAT,CAAyBI,SAAzB,EAAoC;AAChC,MAAIC,YAAY,GAAG,CAAnB;;AAGA,OAAK,IAAI5O,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2O,SAAS,CAACP,KAAV,CAAgB3N,MAApC,EAA4CT,CAAC,EAA7C,EAAiD;AAC7C4O,IAAAA,YAAY,IAAID,SAAS,CAACP,KAAV,CAAgBpO,CAAhB,EAAmB8D,IAAnB,GAA0B6K,SAAS,CAACP,KAAV,CAAgBpO,CAAhB,EAAmB4F,MAA7D;AACH;;AACD,SAAOgJ,YAAP;AACH;;AAED,SAASC,IAAT,CAAcF,SAAd,EAAyB/I,MAAzB,EAAiC9B,IAAjC,EAAuC;AACnC,MAAI8K,YAAY,GAAG,CAAnB;;AAGA,OAAK,IAAI5O,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2O,SAAS,CAACP,KAAV,CAAgB3N,MAApC,EAA4CT,CAAC,EAA7C,EAAiD;AAC7C4O,IAAAA,YAAY,IAAID,SAAS,CAACP,KAAV,CAAgBpO,CAAhB,EAAmB8D,IAAnB,GAA0B6K,SAAS,CAACP,KAAV,CAAgBpO,CAAhB,EAAmB4F,MAA7D;AACH;;AAED,MAAIgJ,YAAY,GAAIhJ,MAAM,GAAG9B,IAAzB,IAAkC6K,SAAS,CAACN,QAAhD,EAA0D;AACtD,WAAO,IAAP;AACH,GAFD,MAEO;AACH,WAAO,KAAP;AACH;AACJ;;AAED,SAASK,aAAT,CAAuBC,SAAvB,EAAkCvO,IAAlC,EAAwC;AACpC,MAAI0O,GAAG,GAAG5J,SAAV;;AACA,OAAK,IAAIlF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2O,SAAS,CAACP,KAAV,CAAgB3N,MAApC,EAA4CT,CAAC,EAA7C,EAAiD;AAC7C,QAAI2O,SAAS,CAACP,KAAV,CAAgBpO,CAAhB,EAAmBI,IAAnB,KAA4BA,IAAhC,EAAsC;AAClC0O,MAAAA,GAAG,GAAGH,SAAS,CAACP,KAAV,CAAgBpO,CAAhB,CAAN;AACH;AACJ;;AAED,SAAO8O,GAAP;AACH;;AAED,SAAS7B,OAAT,CAAiB0B,SAAjB,EAA4BvO,IAA5B,EAAkCwF,MAAlC,EAA0C9B,IAA1C,EAAgD0K,KAAhD,EAAuD;AACnD1K,EAAAA,IAAI,GAAGA,IAAI,IAAI,CAAf;AACA8B,EAAAA,MAAM,GAAGA,MAAM,IAAI,CAAnB;AACA4I,EAAAA,KAAK,GAAGA,KAAK,IAAI,KAAjB;;AACA,MAAI5I,MAAM,GAAG,CAAb,EAAgB;AACZ;AACA,QAAImJ,KAAK,GAAGL,aAAa,CAACC,SAAD,EAAYvO,IAAZ,CAAzB;;AACA,QAAI2O,KAAK,KAAK7J,SAAd,EAAyB;AACrB6J,MAAAA,KAAK,GAAG;AACJ3O,QAAAA,IAAI,EAAEA,IADF;AAEJwF,QAAAA,MAAM,EAAE,CAFJ;AAGJ9B,QAAAA,IAAI,EAAEA,IAAI,IAAI;AAHV,OAAR;AAKA6K,MAAAA,SAAS,CAACP,KAAV,CAAgB9M,IAAhB,CAAqByN,KAArB;AAEH;;AACD,QAAIF,IAAI,CAACF,SAAD,EAAY/I,MAAZ,EAAoB9B,IAApB,CAAR,EAAmC;AAC/BiL,MAAAA,KAAK,CAACnJ,MAAN,IAAgBA,MAAhB;AACH,KAFD,MAEO;AACH,UAAI4I,KAAJ,EAAW;AACPO,QAAAA,KAAK,CAACnJ,MAAN,IAAgBA,MAAhB;AACH;AACJ;AAEJ,GApBD,MAoBO,IAAIA,MAAM,GAAG,CAAb,EAAgB;AACnB;AACA,QAAImJ,KAAK,GAAGL,aAAa,CAACC,SAAD,EAAYvO,IAAZ,CAAzB;;AAEA,QAAI2O,KAAK,KAAK7J,SAAd,EAAyB;AACrB,aAAO,KAAP;AACH;;AACD,QAAI6J,KAAK,CAACnJ,MAAN,IAAgBA,MAApB,EAA4B;AACxBmJ,MAAAA,KAAK,CAACnJ,MAAN,IAAgBA,MAAhB;AACH,KAFD,MAEO;AACH,UAAI4I,KAAJ,EAAW;AACPO,QAAAA,KAAK,CAACnJ,MAAN,IAAgBA,MAAhB;AACH;AACJ;AACJ;;AAEDoJ,EAAAA,eAAe,CAACL,SAAD,CAAf;AACH;;AAED,SAASK,eAAT,CAAyBL,SAAzB,EAAoC;AAChC,MAAIM,cAAc,GAAG,EAArB;;AACA,OAAK,IAAIjP,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2O,SAAS,CAACP,KAAV,CAAgB3N,MAApC,EAA4CT,CAAC,EAA7C,EAAiD;AAC7C,QAAI2O,SAAS,CAACP,KAAV,CAAgBpO,CAAhB,EAAmB4F,MAAnB,GAA4B,CAAhC,EAAmC;AAC/BqJ,MAAAA,cAAc,CAAC3N,IAAf,CAAoBqN,SAAS,CAACP,KAAV,CAAgBpO,CAAhB,CAApB;AACH;AACJ;;AAED2O,EAAAA,SAAS,CAACP,KAAV,GAAkBa,cAAlB;AACH;;;;;;;;;;AC3GM,SAASC,YAAT,CAAsB7K,OAAtB,EAA+B;AAClCA,EAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;AAEA,MAAI8K,YAAY,GAAG;AACf,oBAAgB,GADD;AAEf,gBAAY,IAFG;AAGf,gBAAY,IAHG;AAIf,eAAW,KAJI;AAKfb,IAAAA,OAAO,EAAE,mBAAY;AACjB,aAAOC,eAAe,CAACJ,eAAD,CAAtB;AACH;AAPc,GAAnB;AAWA,SAAOgB,YAAP;AACH;;AAEM,SAASC,aAAT,CAAuB/K,OAAvB,EAAgC;AACnCA,EAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;AAEA,MAAI8K,YAAY,GAAG;AACf,oBAAgB,GADD;AAEf,gBAAY,KAFG;AAGf,gBAAY,GAHG;AAIf,eAAW,GAJI;AAKfb,IAAAA,OAAO,EAAE,mBAAY;AACjB,aAAOC,eAAe,CAACJ,eAAD,CAAtB;AACH;AAPc,GAAnB;AAWA,SAAOgB,YAAP;AACH;;;;;;;;;;;;;AC/BD;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,IAAIE,OAAO,GAAG,KAAd;;IAEaC;;;AACT,sBAAY1F,IAAZ,EAA8C;AAAA,QAA5B3F,CAA4B,uEAAxB,CAAwB;AAAA,QAArBC,CAAqB,uEAAjB,CAAiB;AAAA,QAAd4B,OAAc,uEAAJ,EAAI;AAAA;AAC1C,SAAKgD,MAAL,GAAcc,IAAI,CAACC,OAAL,CAAaC,GAAb,CAAiBC,MAAjB,CAAwB9F,CAAxB,EAA2BC,CAA3B,EAA8B4B,OAA9B,CAAd;AACA,SAAKgD,MAAL,CAAYmB,aAAZ,GAA4B,IAA5B;AACA,SAAKnB,MAAL,CAAYkB,SAAZ,CAAsB,GAAtB;AACA,SAAKlB,MAAL,CAAYyG,OAAZ,CAAoB,GAApB;AACA,SAAKzG,MAAL,CAAY0G,cAAZ,CAA2B,GAA3B;AACA,SAAK1G,MAAL,CAAY2G,cAAZ,CAA2B,GAA3B;AAEA,QAAIvF,KAAK,GAAG,IAAZ;AAEA,SAAKwF,WAAL,GAAmB5J,OAAO,CAAC6J,OAAR,CAAgB,SAAhB,EAA2B,EAA3B,CAAnB;AACA,SAAKC,cAAL,GAAsB,KAAtB;AACA,SAAKxG,YAAL,GAAoB,KAApB,CAZ0C,CAYjB;;AACzB,SAAKyG,KAAL,GAAa,GAAb;AACA,SAAKC,aAAL,GAAqB,KAArB;AAEA,SAAKpD,aAAL,GAAqB9C,IAAI,CAACE,GAAL,CAASiG,SAAT,CAAmB,CAAnB,EAAsB,CAAtB,CAArB;AACA,SAAKrD,aAAL,CAAmBnB,QAAnB,CAA4B,CAA5B;AAEA,SAAKyE,KAAL,GAAa,EAAb;AACA,SAAKA,KAAL,CAAW1O,IAAX,CAAgB,IAAI2K,wBAAJ,CAAgBrC,IAAhB,EAAsB;AAClC8C,MAAAA,aAAa,EAAE,KAAKA,aADc;AAElCK,MAAAA,IAAI,EAAE;AAF4B,KAAtB,CAAhB;AAIA,SAAKiD,KAAL,CAAW1O,IAAX,CAAgB,IAAIoM,oBAAJ,CAAc9D,IAAd,EAAoB;AAChC8C,MAAAA,aAAa,EAAE,KAAKA,aADY;AAEhCvD,MAAAA,UAAU,EAAE;AAFoB,KAApB,CAAhB;AAKA,SAAK8G,YAAL,GAAoB,KAAKD,KAAL,CAAW,CAAX,CAApB;AACA,SAAKC,YAAL,CAAkB7D,QAAlB,GAA6B,IAA7B,CA9B0C,CAgC1C;;AACA,SAAK8D,OAAL,GAAe,EAAf;AAEA,SAAKlD,SAAL,GAAiB,iCAAjB;AACA,SAAKkD,OAAL,CAAa5O,IAAb,CAAkB;AACd,cAAQ,WADM;AAEd6O,MAAAA,MAAM,EAAE,KAAKnD;AAFC,KAAlB;AAKA,SAAKoD,MAAL,GAAc,IAAIlB,oBAAJ,EAAd;AACA,SAAKgB,OAAL,CAAa5O,IAAb,CAAkB;AACd,cAAQ,QADM;AAEd6O,MAAAA,MAAM,EAAE,KAAKC;AAFC,KAAlB;AAIA,SAAKP,KAAL,GAAa,KAAKO,MAAL,CAAYC,YAAzB;AACA,SAAKvH,MAAL,CAAYyG,OAAZ,CAAoB,KAAKa,MAAL,CAAYE,OAAhC;AACA,SAAKxH,MAAL,CAAY0G,cAAZ,CAA2B,GAA3B;AACA,SAAK1G,MAAL,CAAY2G,cAAZ,CAA2B,KAAKW,MAAL,CAAYG,QAAvC;AACA,SAAKT,aAAL,GAAqB,KAAKM,MAAL,CAAYnC,QAAjC,CAlD0C,CAoD1C;;AACA,gCAAe,YAAY;AACvB/D,MAAAA,KAAK,CAAC1J,MAAN,CAAaqL,KAAb,CAAmB3B,KAAnB,EAA0B,CAACN,IAAD,CAA1B;AACH,KAFD;AAIAyF,IAAAA,OAAO,GAAGlM,EAAE,CAACqN,MAAH,CAAUnB,OAAV,EAAV;AACA,WAAO,IAAP;AACH;;;;qCAEgB;AACb,WAAKY,YAAL,CAAkB1C,SAAlB,CAA4B,IAA5B;AACH;;;mCACc;AACX,WAAK0C,YAAL,CAAkB1C,SAAlB,CAA4B,KAA5B;AACH;;;+BACUkD,aAAa;AACpB,WAAKR,YAAL,CAAkB7D,QAAlB,GAA6B,KAA7B;AACA,WAAK6D,YAAL,GAAoB,KAAKD,KAAL,CAAWS,WAAX,CAApB;AACA,WAAKR,YAAL,CAAkB7D,QAAlB,GAA6B,IAA7B;AACH;;;2BAEMxC,MAAM;AACT8G,MAAAA,WAAW,CAAC7E,KAAZ,CAAkB,IAAlB,EAAwB,CAACjC,IAAD,CAAxB;AACA,WAAK+G,IAAL,CAAU9E,KAAV,CAAgB,IAAhB,EAAsB,CAACjC,IAAD,CAAtB;AACA,WAAK8C,aAAL,CAAmBkE,WAAnB,CAA+B,KAAK9H,MAAL,CAAY7E,CAA3C,EAA8C,KAAK6E,MAAL,CAAY5E,CAA1D;AACA,WAAKwI,aAAL,CAAmBmE,QAAnB,CAA4B,KAAK/H,MAAL,CAAYyD,IAAZ,CAAiB0B,QAA7C;AACA,WAAKgC,YAAL,CAAkBzP,MAAlB;AACH;;;+BAEUoJ,MAAM;AACbA,MAAAA,IAAI,CAACC,OAAL,CAAaiH,oBAAb,CACI,KAAKhI,MAAL,CAAYmF,QADhB,EAC0B,KAAK4B,KAD/B,EACsC,KAAK/G,MAAL,CAAYyD,IAAZ,CAAiB8D,YADvD;AAGH;;;yBACIzG,MAAM;AACP;AACA,UAAI,KAAKgG,cAAL,KAAwB,IAA5B,EAAkC;AAC9B,aAAKmB,UAAL,CAAgBlF,KAAhB,CAAsB,IAAtB,EAA4B,CAACjC,IAAD,CAA5B;AACA,aAAKd,MAAL,CAAYkI,UAAZ,CAAuB,KAAKtB,WAAL,GAAmB,aAA1C;AAEA,aAAKO,YAAL,CAAkBxC,MAAlB;AAEH,OAND,MAMO;AACH,aAAK3E,MAAL,CAAYmI,eAAZ,CAA4B,CAA5B;AACA,aAAKnI,MAAL,CAAYkI,UAAZ,CAAuB,KAAKtB,WAAL,GAAmB,SAA1C;AACH,OAXM,CAYP;;;AACA,UAAI,KAAKtG,YAAL,KAAsB,KAA1B,EAAiC;AAC7B,aAAK6G,YAAL,CAAkBxC,MAAlB;;AACA,YAAI,KAAK3E,MAAL,CAAYmF,QAAZ,GAAuB,KAAK7E,YAAhC,EAA8C;AAC1C,cAAIlI,IAAI,CAACgQ,GAAL,CAAS,KAAKpI,MAAL,CAAYmF,QAAZ,GAAuB,KAAK7E,YAArC,IAAqD,CAAzD,EAA4D;AACxD,iBAAKN,MAAL,CAAYmF,QAAZ,IAAwB,KAAK6B,aAA7B;AACH,WAFD,MAEO;AACH,iBAAKhH,MAAL,CAAYmF,QAAZ,IAAwB,KAAK6B,aAA7B;;AACA,gBAAI,KAAKhH,MAAL,CAAYmF,QAAZ,GAAuB,KAAK7E,YAAhC,EAA8C;AAC1C;AACA,mBAAKN,MAAL,CAAYmF,QAAZ,GAAuB,KAAK7E,YAA5B;AACA,mBAAKA,YAAL,GAAoB,KAApB;AACH;AACJ;AAEJ,SAZD,MAYO,IAAI,KAAKN,MAAL,CAAYmF,QAAZ,GAAuB,KAAK7E,YAAhC,EAA8C;AACjD,cAAIlI,IAAI,CAACgQ,GAAL,CAAS,KAAKpI,MAAL,CAAYmF,QAAZ,GAAuB,KAAK7E,YAArC,IAAqD,CAAzD,EAA4D;AACxD,iBAAKN,MAAL,CAAYmF,QAAZ,IAAwB,KAAK6B,aAA7B;AACH,WAFD,MAEO;AACH,iBAAKhH,MAAL,CAAYmF,QAAZ,IAAwB,KAAK6B,aAA7B;;AACA,gBAAI,KAAKhH,MAAL,CAAYmF,QAAZ,GAAuB,KAAK7E,YAAhC,EAA8C;AAE1C,mBAAKN,MAAL,CAAYmF,QAAZ,GAAuB,KAAK7E,YAA5B;AACA,mBAAKA,YAAL,GAAoB,KAApB;AACH;AACJ;AAEJ;AACJ,OA3BD,MA2BO,CAEN;AACJ;;;;;;;AAGL,SAASsH,WAAT,CAAqB9G,IAArB,EAA2B;AAAE;AAGzB,MAAI9H,0BAAgBc,CAAhB,CAAkBuO,MAAtB,EAA8B;AAC1B,SAAK/H,YAAL,GAAoB,KAApB;AACA,SAAKN,MAAL,CAAYmF,QAAZ,IAAwB,KAAK6B,aAA7B;AACA,SAAKG,YAAL,CAAkBxC,MAAlB;AACH,GAJD,MAKK,IAAI3L,0BAAgBgB,CAAhB,CAAkBqO,MAAtB,EAA8B;AAC/B,SAAK/H,YAAL,GAAoB,KAApB;AACA,SAAKN,MAAL,CAAYmF,QAAZ,IAAwB,KAAK6B,aAA7B;AACA,SAAKG,YAAL,CAAkBxC,MAAlB;AACH;;AAED,MAAI3L,0BAAgBU,CAAhB,CAAkB2O,MAAtB,EAA8B;AAC1B,SAAKvB,cAAL,GAAsB,IAAtB;AACH,GAFD,MAEO,IAAI9N,0BAAgBY,CAAhB,CAAkByO,MAAtB,EAA8B;AACjC,SAAKvB,cAAL,GAAsB,KAAtB;AACH,GAlBsB,CAoBvB;;AAGH;;;;;;;;;ACvKD;;AACA;;AACA;;AACA;;AAEO,SAASwB,mBAAT,GAA+B;AAClC,MAAIC,YAAY,GAAGvQ,CAAC,CAAC,aAAD,CAAD,CACdwQ,IADc,CACT,IADS,EACH,cADG,EAEdC,QAFc,CAELzQ,CAAC,CAAC,OAAD,CAFI,EAGdC,GAHc,CAGV;AACD,eAAU,MADT;AAED,eAAW,CAFV;AAGD,aAAS,OAHR;AAID,gBAAY,UAJX;AAKD,WAAO,KALN;AAMD,aAAS,KANR;AAOD,kBAAc,qBAPb;AAQD,eAAW;AARV,GAHU,EAYZC,IAZY,8xBAAnB;AAuBO;AACPwQ,EAAAA,MAAM,CAACC,OAAP,GAAiB,EAAjB;;AACAD,EAAAA,MAAM,CAACC,OAAP,CAAeC,aAAf,GAA+B,YAAY;AACvCvI,uBAAWwI,sBAAX;AACH,GAFD;;AAGAH,EAAAA,MAAM,CAACC,OAAP,CAAeG,OAAf,GAAyB,YAAY;AACjC/E,IAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAY+E,qBAAZ;AACH,GAHD;;AAIAL,EAAAA,MAAM,CAACC,OAAP,CAAeK,SAAf,GAA2B,YAAY;AACnCjF,IAAAA,OAAO,CAACC,GAAR,CAAY3D,kBAAZ;AACH,GAFD;;AAIA,gCAAiB,UAAUS,IAAV,EAAgB;AAC7B;AACA,QAAImI,OAAO,GAAGC,QAAQ,CAAC7I,mBAAWL,MAAX,CAAkB7E,CAAnB,CAAtB;AACA,QAAIgO,OAAO,GAAGD,QAAQ,CAAC7I,mBAAWL,MAAX,CAAkB5E,CAAnB,CAAtB;AACApD,IAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoBE,IAApB,CAAyB+Q,OAAzB;AACAjR,IAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoBE,IAApB,CAAyBiR,OAAzB;AAGAnR,IAAAA,CAAC,CAAC,sBAAD,CAAD,CAA0BE,IAA1B,CAA+ByJ,uBAAcxG,CAA7C;AACAnD,IAAAA,CAAC,CAAC,sBAAD,CAAD,CAA0BE,IAA1B,CAA+ByJ,uBAAcvG,CAA7C;AACApD,IAAAA,CAAC,CAAC,yBAAD,CAAD,CAA6BE,IAA7B,CAAkCyJ,uBAAcrK,IAAhD;AACH,GAXD;;AAYAyR,wBAAc5P,KAAd,CAAoBmI,EAApB,CAAuB,aAAvB,EAAsC,UAAUC,OAAV,EAAmB;AACrD;AACA,QAAIpG,CAAC,GAAGoG,OAAO,CAACpG,CAAhB;AACA,QAAIC,CAAC,GAAGmG,OAAO,CAACnG,CAAhB;AAEApD,IAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqBE,IAArB,CAA0BiD,CAA1B;AACAnD,IAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqBE,IAArB,CAA0BkD,CAA1B;AACH,GAPD,EAOG,IAPH;AAQH;;;;;;;;;;AC9DD;;AACA;;AACA;;AACA;;AACA;;AAEO,IAAIiF,UAAJ,EAAgB+I,eAAhB;;;AACA,IAAIC,OAAJ;;AACA,IAAIN,aAAJ;;;AAIA,SAASO,MAAT,GAAkB;AACrB,0BAAAP,aAAa,GAAG,IAAhB,CADqB,CAErB;AACA;;AAEA,MAAIQ,UAAU,GAAG,CAAjB;;AAEA,OAAK,IAAIpO,CAAC,GAAG,CAAC,CAAd,EAAiBA,CAAC,GAAGoO,UAAU,GAAG,CAAlC,EAAqCpO,CAAC,EAAtC,EAA0C;AACtC,SAAK,IAAIC,CAAC,GAAG,CAAC,CAAd,EAAiBA,CAAC,GAAGmO,UAAU,GAAG,CAAlC,EAAqCnO,CAAC,EAAtC,EAA0C;AACtC,WAAK4F,GAAL,CAAS/J,KAAT,CAAekE,CAAC,GAAG,IAAnB,EAAyBC,CAAC,GAAG,IAA7B,EAAmC,oBAAnC,EAAyD8F,SAAzD,CAAmE,CAAnE;AACH;AACJ;AACD;;;;;;AAIA,oBAAAmI,OAAO,GAAG,KAAKlQ,KAAL,CAAWC,QAAX,CAAoBoQ,gBAApB,EAAV;AAEA,uBAAAnJ,UAAU,GAAG,IAAImG,sBAAJ,CAAe,IAAf,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,eAA7B,CAAb;AACAnG,EAAAA,UAAU,CAACL,MAAX,CAAkBtB,YAAlB,GAAiC,MAAM,GAAvC;AACA2B,EAAAA,UAAU,CAACL,MAAX,CAAkBrB,aAAlB,GAAkC,MAAM,GAAxC;AACA0B,EAAAA,UAAU,CAACL,MAAX,CAAkByC,QAAlB,CAA2B,EAA3B;AAEA,OAAKsC,OAAL,CAAaC,IAAb,CAAkByE,WAAlB,CAA8BpJ,UAAU,CAACL,MAAzC;AAEA,sCAAsB,CAAtB,EAAyB,CAAzB,EAA4B,IAA5B;AACA,sCAAsB,IAAtB;;AACA/G,mCAAuB8J,KAAvB,CAA6B,IAA7B;;AAOA;AAEA1C,EAAAA,UAAU,CAAC6D,SAAX,CAAqBC,OAArB,CAA6B,qBAA7B,EAAoD,CAApD,EAAuD,EAAvD,EAA2D,IAA3D;AAEA,oCAAgB;AACZuF,IAAAA,KAAK,EAAE,UADK;AAEZC,IAAAA,KAAK,EAAE;AAFK,GAAhB;AAIH;;;;;;;;ACtDM,IAAIC,YAAY,GAAG;AACtBC,EAAAA,GAAG,EAAE;AACD5N,IAAAA,KAAK,EAAE,GADN;AAEDC,IAAAA,MAAM,EAAE,GAFP;AAGDgE,IAAAA,IAAI,EAAE;AAHL;AADiB,CAAnB;;AASA,IAAI4J,SAAS,GAAG;AACnBC,EAAAA,WAAW,EAAE,CADM;AAEnBC,EAAAA,OAAO,EAAE,CAFU;AAGnBC,EAAAA,WAAW,EAAE;AAHM,CAAhB;;;;;;;;;;ACTP;;AACA;;AAEO,SAASC,uBAAT,GAAmC;AAEtC,MAAIC,QAAQ,GAAG9P,EAAE,CAAC+P,OAAH,CAAWC,EAAX,CAAcC,eAAd,CAA8B;AACzCC,IAAAA,MAAM,EAAE,EADiC;AAEzCrO,IAAAA,MAAM,EAAE0N,+BAAaC,GAAb,CAAiB3N,MAAjB,GAA0B,CAFO;AAGzCD,IAAAA,KAAK,EAAE2N,+BAAaC,GAAb,CAAiB5N,KAAjB,GAAyB,CAHS;AAIzC0I,IAAAA,MAAM,EAAE,gBAAU6F,GAAV,EAAeC,IAAf,EAAqB;AACzB,UAAIA,IAAI,CAACC,SAAL,KAAmBtO,SAAvB,EAAkC;AAC9BiE,2BAAWC,YAAX,GAA0BmK,IAAI,CAACE,IAA/B;;AAEA,YAAIvS,IAAI,CAACgQ,GAAL,CAAS/H,mBAAWC,YAAX,GAA0BD,mBAAWL,MAAX,CAAkBmF,QAArD,KAAkE,GAAtE,EAA2E;AACvE9E,6BAAWyG,cAAX,GAA4B,IAA5B;AACH,SAFD,MAEO;AACHzG,6BAAWyG,cAAX,GAA4B,KAA5B;AACH;AACJ;AACJ,KAdwC;AAezC8D,IAAAA,KAAK,EAAE,iBAAY;AACfvK,yBAAWyG,cAAX,GAA4B,KAA5B;AACAzG,yBAAWC,YAAX,GAA0B,KAA1B;AACH;AAlBwC,GAA9B,CAAf;AAoBH;;;;;;;;;ACzBM,SAASuK,kBAAT,CAA4BtP,OAA5B,EAAqC;AACxCA,EAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;AACA,MAAIuP,GAAG,GAAGvP,OAAO,CAACuP,GAAR,IAAe,CAAzB;AACA,MAAIC,GAAG,GAAGxP,OAAO,CAACwP,GAAR,IAAe,EAAzB;AACA,MAAIC,IAAI,GAAGzP,OAAO,CAACyP,IAAR,IAAgB,OAA3B;AAEA,SAAO,IAAI7Q,OAAJ,CAAY,UAAUC,OAAV,EAAmB6Q,MAAnB,EAA2B;AAC1C,QAAIC,YAAY,GAAG,CAAnB;AACAlT,IAAAA,CAAC,CAAC,oBAAD,CAAD,CAAwBmH,MAAxB;AACAnH,IAAAA,CAAC,CAAC,OAAD,CAAD,CAAWoH,MAAX,wOAGyC4L,IAHzC,kIAKuCF,GALvC,sBAKoDC,GALpD;AAaA/S,IAAAA,CAAC,CAAC,qBAAD,CAAD,CAAyBmT,WAAzB,CAAqC;AACjCC,MAAAA,QAAQ,EAAE,KADuB;AAEjC;AACAC,MAAAA,UAAU,EAAE,aAHqB;AAIjCC,MAAAA,aAAa,EAAE,uBAJkB;AAKjCC,MAAAA,eAAe,EAAE,yBALgB;AAMjCC,MAAAA,aAAa,EAAE,uBANkB;AAOjCC,MAAAA,SAAS,EAAE,mBAPsB;AAQjCC,MAAAA,WAAW,EAAE,qBARoB;AASjC;AACAC,MAAAA,MAAM,EAAE,kBAAY;AAEhB3T,QAAAA,CAAC,CAAC,qBAAD,CAAD,CAAyB4T,GAAzB,CAA6B,CAA7B,EAAgCC,MAAhC;AACA7T,QAAAA,CAAC,CAAC,oBAAD,CAAD,CAAwBE,IAAxB,CAA6B,GAA7B;AACAgT,QAAAA,YAAY,GAAG,CAAf;AACH,OAfgC;AAiBjC;AACAY,MAAAA,OAAO,EAAE,iBAAUC,QAAV,EAAoBC,KAApB,EAA2B;AAChChU,QAAAA,CAAC,CAAC,oBAAD,CAAD,CAAwBE,IAAxB,CAA6B8T,KAA7B;AACAd,QAAAA,YAAY,GAAGc,KAAf;AAEH,OAtBgC;AAwBjC;AACAC,MAAAA,UAAU,EAAE,oBAAUF,QAAV,EAAoBC,KAApB,EAA2B,CAAG;AAzBT,KAArC;AA4BAhU,IAAAA,CAAC,CAAC,sBAAD,CAAD,CAA0BwH,KAA1B,CAAgC,YAAY;AACxCyL,MAAAA,MAAM;AACNjT,MAAAA,CAAC,CAAC,oBAAD,CAAD,CAAwBmH,MAAxB;AACH,KAHD;AAIAnH,IAAAA,CAAC,CAAC,qBAAD,CAAD,CAAyBwH,KAAzB,CAA+B,YAAY;AACvCpF,MAAAA,OAAO,CAAC8Q,YAAD,CAAP;AACAlT,MAAAA,CAAC,CAAC,oBAAD,CAAD,CAAwBmH,MAAxB;AACH,KAHD;AAIH,GApDM,CAAP;AAqDH;;;;;;;;;;;;;;AC3DD;;AACA;;AACA;;AAEO,IAAI+M,WAAW,GAAG,CAAlB;;;AAEA,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AAC7BpU,EAAAA,CAAC,CAAC,wBAAD,CAAD,CAA4BC,GAA5B,CAAgC;AAC5B,eAAW;AADiB,GAAhC;AAIAD,EAAAA,CAAC,CAACA,CAAC,CAAC,wBAAD,CAAD,CAA4BoU,KAA5B,CAAD,CAAD,CAAsCnU,GAAtC,CAA0C;AACtC,eAAW;AAD2B,GAA1C;;AAIA,UAAQmU,KAAR;AACI,SAAK,CAAL;AACI,4BAAY,CAAZ;AACA;;AACJ,SAAK,CAAL;AACIC,MAAAA,qBAAqB;AACrB;AANR;;AAQArU,EAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqBsU,WAArB,CAAiC,UAAjC;AACAtU,EAAAA,CAAC,CAACA,CAAC,CAAC,iBAAD,CAAD,CAAqBoU,KAAK,GAAG,CAA7B,CAAD,CAAD,CAAmCG,QAAnC,CAA4C,UAA5C;AACH;;AAEM,SAASC,mBAAT,GAA+B;AAClCxU,EAAAA,CAAC,CAAC,OAAD,CAAD,CAAWoH,MAAX;AAwBApH,EAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBwH,KAAvB,CAA6B,YAAY;AACrCiN,IAAAA,eAAe;AAClB,GAFD;AAGAzU,EAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBwH,KAAnB,CAAyB,YAAY;AACjC2M,IAAAA,SAAS,CAAC,CAAD,CAAT;AACH,GAFD;AAGAnU,EAAAA,CAAC,CAAC,qBAAD,CAAD,CAAyBwH,KAAzB,CAA+B,YAAY;AACvC2M,IAAAA,SAAS,CAAC,CAAD,CAAT;AACH,GAFD;AAIAM,EAAAA,eAAe;AAClB;;AAGM,SAASC,eAAT,CAAyBC,EAAzB,EAA6B;AAChC3U,EAAAA,CAAC,CAAC,uBAAD,CAAD,CAA2BC,GAA3B,CAA+B;AAC3B,eAAW;AADgB,GAA/B;AAGAD,EAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuByQ,QAAvB,CAAgCzQ,CAAC,CAAC,SAAD,CAAjC;AACH;;AAEM,SAASyU,eAAT,GAA2B;AAC9BzU,EAAAA,CAAC,CAAC,uBAAD,CAAD,CAA2BC,GAA3B,CAA+B;AAC3B,eAAW;AADgB,GAA/B;AAGAD,EAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuByQ,QAAvB,CAAgCzQ,CAAC,CAAC,OAAD,CAAjC;AACA,wBAAY,CAAZ;AAEH;;AAEM,SAASqU,qBAAT,GAAiC;AACpCrU,EAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBE,IAAnB,8EAC6DmI,mBAAW6D,SAAX,CAAqBsB,OAArB,EAD7D,cAC+FnF,mBAAW6D,SAAX,CAAqBqB,QADpH;AAKA,MAAIqH,KAAK,GAAG,IAAIC,SAAJ,CAAc,0BAAd,EAA0C;AAClD3Q,IAAAA,MAAM,EAAE,mBAD0C;AAElD4Q,IAAAA,MAAM,EAAE,aAF0C;AAGlDC,IAAAA,gBAAgB,EAAE,UAHgC;AAIlDC,IAAAA,iCAAiC,EAAE,KAJe;AAKlDC,IAAAA,OAAO,EAAE,CACL;AAAEC,MAAAA,SAAS,EAAE,oBAAb;AAAmCjR,MAAAA,KAAK,EAAE,EAA1C;AAA8CkR,MAAAA,QAAQ,EAAE,EAAxD;AAA4DC,MAAAA,KAAK,EAAE,QAAnE;AAA6EC,MAAAA,SAAS,EAAE,KAAxF;AAA+FC,MAAAA,UAAU,EAAE;AAA3G,KADK,EAEL;AAAEC,MAAAA,KAAK,EAAE,MAAT;AAAiBC,MAAAA,KAAK,EAAE,MAAxB;AAAgCC,MAAAA,UAAU,EAAE;AAA5C,KAFK,EAGL;AAAEF,MAAAA,KAAK,EAAE,QAAT;AAAmBC,MAAAA,KAAK,EAAE,QAA1B;AAAoCE,MAAAA,MAAM,EAAE,QAA5C;AAAsDN,MAAAA,KAAK,EAAE;AAA7D,KAHK,EAIL;AAAEG,MAAAA,KAAK,EAAE,MAAT;AAAiBC,MAAAA,KAAK,EAAE,MAAxB;AAAgCE,MAAAA,MAAM,EAAE;AAAxC,KAJK,EAKL;AACA;AAAEH,MAAAA,KAAK,EAAE,eAAT;AAA0BC,MAAAA,KAAK,EAAE,aAAjC;AAAgDE,MAAAA,MAAM,EAAE;AAAxD,KANK,CALyC;AAalDC,IAAAA,QAAQ,EAAE,kBAAUC,CAAV,EAAaC,GAAb,EAAkB;AACxB,UAAI,CAAC7V,CAAC,CAAC4V,CAAC,CAACE,MAAH,CAAD,CAAYC,QAAZ,CAAqB,4CAArB,CAAL,EAAyE;AACrE,YAAI,CAAC/V,CAAC,CAAC4V,CAAC,CAACE,MAAH,CAAD,CAAYC,QAAZ,CAAqB,2CAArB,CAAL,EAAwE;AACpE,cAAI,CAAC/V,CAAC,CAAC4V,CAAC,CAACE,MAAH,CAAD,CAAYC,QAAZ,CAAqB,sCAArB,CAAL,EAAmE;AAC/DhK,YAAAA,OAAO,CAACC,GAAR,CAAY6J,GAAG,CAACG,IAAJ,CAASvD,IAAT,CAAcnT,IAAd,CAAmB2W,WAAnB,EAAZ;AACAC,YAAAA,oBAAoB,CAACL,GAAG,CAACG,IAAJ,CAASvD,IAAT,CAAcnT,IAAd,CAAmB2W,WAAnB,EAAD,EAAmC5N,mBAAW6D,SAA9C,CAApB;AACH;AACJ;AACJ;AAEJ;AAvBiD,GAA1C,CAAZ;AA0BA,MAAIiK,SAAS,GAAG,EAAhB;;AACA,OAAK,IAAIjX,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmJ,mBAAW6D,SAAX,CAAqBoB,KAArB,CAA2B3N,MAA/C,EAAuDT,CAAC,EAAxD,EAA4D;AACxD,QAAIkX,IAAI,GAAG/N,mBAAW6D,SAAX,CAAqBoB,KAArB,CAA2BpO,CAA3B,CAAX;AACA,QAAImX,EAAE,GAAGD,IAAI,CAAC9W,IAAd;AACA6W,IAAAA,SAAS,CAAC3V,IAAV,CAAe;AACXlB,MAAAA,IAAI,EAAE+W,EAAE,CAACC,UAAH,EADK;AAEXxR,MAAAA,MAAM,EAAEsR,IAAI,CAACtR,MAFF;AAGX9B,MAAAA,IAAI,EAAEoT,IAAI,CAACpT,IAAL,GAAYoT,IAAI,CAACtR,MAHZ;AAIXyR,MAAAA,WAAW,EAAEH,IAAI,CAACpT,IAJP;AAKXwT,MAAAA,SAAS,EAAE;AALA,KAAf;AAOH;;AACD5B,EAAAA,KAAK,CAAC6B,OAAN,CAAcN,SAAd;AACH;;AAGD,SAASD,oBAAT,CAA8BE,IAA9B,EAAoC/I,eAApC,EAAqD;AAEjDrN,EAAAA,CAAC,CAAC,OAAD,CAAD,CAAWoH,MAAX;AAaApH,EAAAA,CAAC,CAAC,sBAAD,CAAD,CAA0BE,IAA1B,CAA+BkW,IAAI,CAACE,UAAL,EAA/B;AAEAtW,EAAAA,CAAC,CAAC,yBAAD,CAAD,CAA6BwH,KAA7B,CAAmC,YAAY;AAC3CxH,IAAAA,CAAC,CAAC,wBAAD,CAAD,CAA4BmH,MAA5B;AACH,GAFD;AAGAnH,EAAAA,CAAC,CAAC,8BAAD,CAAD,CAAkCwH,KAAlC,CAAwC,YAAY;AAChD;AACA,2CAAmB;AACfwL,MAAAA,IAAI,EAAC,wDAAwDoD,IAD9C;AAEftD,MAAAA,GAAG,EAAE,CAFU;AAGfC,MAAAA,GAAG,EAAE1F,eAAe,CAACM,OAAhB,CAAwByI,IAAxB,EAA8BtR;AAHpB,KAAnB,EAIGtC,IAJH,CAIQ,UAAUsC,MAAV,EAAkB;AACtB,UAAIA,MAAM,KAAK,CAAf,EAAkB;AACduI,QAAAA,eAAe,CAAClB,OAAhB,CAAwBiK,IAAxB,EAA8B,CAACtR,MAA/B;AACH;;AACDuP,MAAAA,qBAAqB;AACrBrU,MAAAA,CAAC,CAAC,wBAAD,CAAD,CAA4BmH,MAA5B;AACH,KAVD;AAWH,GAbD;AAcH;;;;;;;;;;;;;;ACpKD;;AACA;;AACA;;AACA;;AACA;;AAEO,IAAIuP,QAAQ,GAAG,CAAf,EAAkB;;;;AAElB,SAASC,YAAT,GAAwB;AAC3B,SAAO,IAAP;AACH;;AAEM,SAASC,WAAT,CAAqBC,EAArB,EAAyB;AAC5B,qBAAAH,QAAQ,GAAGG,EAAX;;AACA,MAAIA,EAAE,KAAK,CAAX,EAAc;AACV7W,IAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBC,GAAvB,CAA2B;AACvB,iBAAW;AADY,KAA3B;AAGH,GAJD,MAIO;AACHD,IAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBC,GAAvB,CAA2B;AACvB,iBAAW;AADY,KAA3B;AAGH;;AACD,MAAI4W,EAAE,KAAK,CAAX,EAAc;AACV7W,IAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBC,GAAvB,CAA2B;AACvBgE,MAAAA,KAAK,EAAE,OADgB;AAEvB,gBAAU;AAFa,KAA3B;AAIA6S,IAAAA,OAAO,GAAG9W,CAAC,CAAC,mBAAD,CAAD,CAAuBiE,KAAvB,KAAiC2F,mBAA3C;AACAmN,IAAAA,OAAO,GAAG/W,CAAC,CAAC,mBAAD,CAAD,CAAuBkE,MAAvB,KAAkC0F,mBAA5C;AACAoN,IAAAA,eAAe;AACfhX,IAAAA,CAAC,CAAC,UAAD,CAAD,CAAciX,IAAd;AACH,GATD,MASO,IAAIJ,EAAE,KAAK,CAAX,EAAc;AACjB7W,IAAAA,CAAC,CAAC,UAAD,CAAD,CAAckX,IAAd;AACAlX,IAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBC,GAAvB,CAA2B;AACvBgE,MAAAA,KAAK,EAAE,MADgB;AAEvB,gBAAU;AAFa,KAA3B;AAIA6S,IAAAA,OAAO,GAAG9W,CAAC,CAAC,mBAAD,CAAD,CAAuBiE,KAAvB,KAAiC2F,mBAA3C;AACAmN,IAAAA,OAAO,GAAG/W,CAAC,CAAC,mBAAD,CAAD,CAAuBkE,MAAvB,KAAkC0F,mBAA5C;AACAoN,IAAAA,eAAe;AAClB;AACJ;;AAED,IAAIF,OAAJ,EAAaC,OAAb,EAAsBI,UAAtB;;AAGO,SAASC,oBAAT,GAAgC;AACnCpX,EAAAA,CAAC,CAAC,OAAD,CAAD,CAAWoH,MAAX;AAQA/E,EAAAA,EAAE,CAACgV,QAAH,6DAEiBzF,+BAAaC,GAAb,CAAiB5N,KAFlC,sCAGkB2N,+BAAaC,GAAb,CAAiB3N,MAHnC;AA+CAlE,EAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBwH,KAAvB,CAA6B,YAAY,CAExC,CAFD;AAGAsP,EAAAA,OAAO,GAAG9W,CAAC,CAAC,mBAAD,CAAD,CAAuBiE,KAAvB,KAAiC2F,mBAA3C;AACAmN,EAAAA,OAAO,GAAG/W,CAAC,CAAC,mBAAD,CAAD,CAAuBkE,MAAvB,KAAkC0F,mBAA5C;AAEA0N,EAAAA,gBAAgB;AACnB;;AAED,SAASN,eAAT,CAAyBO,MAAzB,EAAiC;AAC7BA,EAAAA,MAAM,GAAGA,MAAM,IAAIJ,UAAnB;;AAEA,MAAGI,MAAM,KAAGnT,SAAZ,EAAsB;AAClB;AACH;;AAEDpE,EAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsBmH,MAAtB;;AACA,OAAK,IAAIjI,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqY,MAAM,CAAClU,eAAP,CAAuB1D,MAA3C,EAAmDT,CAAC,EAApD,EAAwD;AACpD,QAAIsY,WAAW,GAAGD,MAAM,CAAClU,eAAP,CAAuBnE,CAAvB,CAAlB;AACA,QAAIuY,aAAa,GAAGzX,CAAC,CAAC,aAAD,CAArB;AACAyX,IAAAA,aAAa,CAAClD,QAAd,CAAuB,WAAvB,EAAoCA,QAApC,CAA6C,iBAA7C;AACAkD,IAAAA,aAAa,CAACxX,GAAd,CAAkB;AACdyX,MAAAA,GAAG,EAAEF,WAAW,CAACpU,CAAZ,GAAgB2T,OADP;AAEdY,MAAAA,IAAI,EAAEH,WAAW,CAACrU,CAAZ,GAAgB2T,OAFR;AAGd7S,MAAAA,KAAK,EAAEuT,WAAW,CAACvT,KAAZ,GAAoB6S,OAHb;AAId5S,MAAAA,MAAM,EAAEsT,WAAW,CAACtT,MAAZ,GAAqB6S;AAJf,KAAlB;AAMA/W,IAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBoH,MAAvB,CAA8BqQ,aAA9B;AACH;;AAED,OAAK,IAAIvY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqY,MAAM,CAAC7T,aAAP,CAAqB/D,MAAzC,EAAiDT,CAAC,EAAlD,EAAsD;AAClD,QAAIsY,WAAW,GAAGD,MAAM,CAAC7T,aAAP,CAAqBxE,CAArB,CAAlB;AACA,QAAIuY,aAAa,GAAGzX,CAAC,CAAC,aAAD,CAArB;AACAyX,IAAAA,aAAa,CAAClD,QAAd,CAAuB,WAAvB,EAAoCA,QAApC,CAA6C,iBAA7C,EAAgEA,QAAhE,CAAyE,uBAAzE;AACAkD,IAAAA,aAAa,CAACxX,GAAd,CAAkB;AACdyX,MAAAA,GAAG,EAAEF,WAAW,CAACpU,CAAZ,GAAgB2T,OADP;AAEdY,MAAAA,IAAI,EAAEH,WAAW,CAACrU,CAAZ,GAAgB2T,OAFR;AAGd7S,MAAAA,KAAK,EAAEuT,WAAW,CAACvT,KAAZ,GAAoB6S,OAHb;AAId5S,MAAAA,MAAM,EAAEsT,WAAW,CAACtT,MAAZ,GAAqB6S;AAJf,KAAlB;AAMA/W,IAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBoH,MAAvB,CAA8BqQ,aAA9B;AACH;;AACDN,EAAAA,UAAU,GAAGI,MAAb;AAGH;;AAEM,SAASD,gBAAT,GAA4B;AAC/B,gCAAiB,YAAY;AACzB,QAAIZ,QAAQ,KAAK,CAAjB,EAAoB;AAChB1W,MAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBC,GAAhB,CAAoB;AAChBgE,QAAAA,KAAK,EAAEoE,mBAAWL,MAAX,CAAkB/D,KAAlB,GAA0B6S,OADjB;AAEhB5S,QAAAA,MAAM,EAAEmE,mBAAWL,MAAX,CAAkB9D,MAAlB,GAA2B6S;AAFnB,OAApB;AAIA/W,MAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBC,GAAhB,CAAoB;AAChB0X,QAAAA,IAAI,EAAEtP,mBAAWL,MAAX,CAAkB7E,CAAlB,GAAsB2T,OADZ;AAEhBY,QAAAA,GAAG,EAAErP,mBAAWL,MAAX,CAAkB5E,CAAlB,GAAsB2T;AAFX,OAApB;;AAKA,UAAIL,QAAQ,KAAK,CAAjB,EAAoB;AAChB1W,QAAAA,CAAC,CAAC,UAAD,CAAD,CAAcE,IAAd,2DAC8BgR,QAAQ,CAAC7I,mBAAWL,MAAX,CAAkB7E,CAAnB,CADtC,oDACmG+N,QAAQ,CAAC7I,mBAAWL,MAAX,CAAkB5E,CAAnB,CAD3G,6FAGiCuG,uBAAcxG,CAH/C,uDAG2FwG,uBAAcvG,CAHzG;AAKH;AAEJ;AACJ,GApBD;AAqBA,+BAAe,UAAUmU,MAAV,EAAkB;AAC7BP,IAAAA,eAAe,CAACO,MAAD,CAAf;AACH,GAFD;AAGH;;AAEM,SAASK,iBAAT,GAA4B;AAC/B;AACA,8BAAU,CAAV;AACH;;;;;;;;;ACpLD;;AACA;;AACA;;AACA;;AACA;;AAEO,SAASC,iBAAT,GAA6B;AAChC7X,EAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBmH,MAAhB;;AAEAuJ,EAAAA,MAAM,CAACoH,aAAP,GAAuB,YAAY;AAAE,WAAO,KAAP;AAAe,GAApD;;AACA,MAAIH,IAAI,GAAG3X,CAAC,CAAC,aAAD,CAAD,CACNwQ,IADM,CACD,IADC,EACK,WADL,EAENC,QAFM,CAEGzQ,CAAC,CAAC,OAAD,CAFJ,EAGNC,GAHM,CAGF;AACD,eAAW,GADV;AAED,aAAS,OAFR;AAGD,gBAAY,UAHX;AAID,cAAU,KAJT;AAKD,aAAS,KALR;AAMD,aAAS,MANR;AAOD,cAAU,MAPT;AAQD,kBAAc,QARb;AASD,mBAAe;AATd,GAHE,EAaJC,IAbI,qJAAX;AAiBA,MAAI6X,UAAU,GAAG/X,CAAC,CAAC,yEAAD,CAAD,CACZyQ,QADY,CACHzQ,CAAC,CAAC,OAAD,CADE,EAEZC,GAFY,CAER;AACD,eAAW,GADV;AAED,aAAS,OAFR;AAGD,gBAAY,UAHX;AAID,cAAU,KAJT;AAKD,YAAQ,OALP;AAMD,aAAS,oBANR;AAOD,cAAU,MAPT;AAQD,kBAAc;AARb,GAFQ,CAAjB;AAaA,MAAI+X,UAAU,GAAG,IAAIC,MAAJ,CAAWF,UAAU,CAAC,CAAD,CAArB,CAAjB;AACAC,EAAAA,UAAU,CAAC1O,EAAX,CAAc,OAAd,EAAuB,UAAUsM,CAAV,EAAa;AAChCvN,uBAAW6P,cAAX,CAA0BnN,KAA1B,CAAgC1C,kBAAhC;AACH,GAFD;AAGA2P,EAAAA,UAAU,CAAC1O,EAAX,CAAc,gBAAd,EAAgC,UAAUsM,CAAV,EAAa;AACzCvN,uBAAW8P,YAAX,CAAwBpN,KAAxB,CAA8B1C,kBAA9B;AACH,GAFD;AAIAhG,EAAAA,EAAE,CAACgQ,EAAH,CAAM+F,OAAN,CAAc;AACVnJ,IAAAA,SAAS,EAAE,MADD;AAEVoJ,IAAAA,SAAS,EAAE,YAFD;AAGVC,IAAAA,UAAU,EAAE,eAHF;AAIVC,IAAAA,WAAW,EAAE,gBAJH;AAKVC,IAAAA,QAAQ,EAAE,EALA;AAMVC,IAAAA,SAAS,EAAE,EAND;AAOV/F,IAAAA,SAAS,EAAE,OAPD;AAQVgG,IAAAA,OAAO,EAAE,mBAAY;AACjB1Y,MAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBiX,IAAhB;AACH,KAVS;AAWVrE,IAAAA,KAAK,EAAE,iBAAY;AACf5S,MAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBkX,IAAhB;AACH,KAbS;AAcVyB,IAAAA,UAAU,EAAE,IAdF;AAeVrL,IAAAA,KAAK,EAAE,CACH;AACIjG,MAAAA,OAAO,gCADX;AAEIG,MAAAA,KAAK,EAAE,iBAAY,CAChB;AACF,OAJL;AAKI8F,MAAAA,KAAK,EAAE,CAAC;AACJjG,QAAAA,OAAO,EAAE,6BADL;AAEJG,QAAAA,KAAK,EAAE,iBAAY;AACfkJ,UAAAA,MAAM,CAACkI,QAAP,CAAgBC,MAAhB;AACH;AAJG,OAAD,EAKJ;AACCxR,QAAAA,OAAO,EAAE,gCADV;AAECG,QAAAA,KAAK,EAAE,iBAAY;AACf;AACAM,UAAAA,UAAU,CAAC,YAAY;AACnB;AACH,WAFS,EAEP,IAFO,CAAV;AAGH;AAPF,OALI;AALX,KADG,EAqBH;AACIT,MAAAA,OAAO,EAAE,iCADb;AAEIG,MAAAA,KAAK,EAAE,iBAAY;AACf;AACA,oCAAU,CAAV;AACH;AALL,KArBG,EA4BH;AACIH,MAAAA,OAAO,EAAE,4BADb;AAEIG,MAAAA,KAAK,EAAE,iBAAY;AACf;AAEH;AALL,KA5BG,EAmCH;AACIH,MAAAA,OAAO,mCADX;AAEIiG,MAAAA,KAAK,EAAE,CAAC;AACJjG,QAAAA,OAAO,EAAE,0CADL;AAEJG,QAAAA,KAAK,EAAE,iBAAY;AACfa,6BAAWyQ,UAAX,CAAsB/N,KAAtB,CAA4B1C,kBAA5B,EAAwC,CAAC,CAAD,CAAxC;AACH;AAJG,OAAD,EAMP;AACIhB,QAAAA,OAAO,EAAE,gCADb;AAEIG,QAAAA,KAAK,EAAE,iBAAY;AACfa,6BAAWyQ,UAAX,CAAsB/N,KAAtB,CAA4B1C,kBAA5B,EAAwC,CAAC,CAAD,CAAxC;AACH,SAJL;AAKIiF,QAAAA,KAAK,EAAE,CAAC;AACJjG,UAAAA,OAAO,EAAE,0CADL;AAEJG,UAAAA,KAAK,EAAE,iBAAY;AACfa,+BAAWL,MAAX,CAAkB2G,cAAlB,CAAiC,KAAjC;AACH;AAJG,SAAD;AALX,OANO,EAkBP;AACItH,QAAAA,OAAO,EAAE,mCADb;AAEIG,QAAAA,KAAK,EAAE,iBAAY;AACfa,6BAAWwI,sBAAX;AACH;AAJL,OAlBO;AAFX,KAnCG;AAfG,GAAd;AAgFA,MAAIkI,SAAS,GAAGrI,MAAM,CAACsI,UAAP,GAAoB,CAApB,GAAwB,EAAxC;AACA,MAAIC,UAAU,GAAGvI,MAAM,CAACwI,WAAP,GAAqB,CAArB,GAAyB,EAA1C;AACA7W,EAAAA,EAAE,CAACgV,QAAH,yOASgB0B,SAThB;AAYAjR,EAAAA,UAAU,CAAC,YAAY,CACnB;AACH,GAFS,EAEP,GAFO,CAAV;AAGH;;;;;;;;;;;ACjJD;;AACA;;AACA;;AAEO,SAASqR,cAAT,GAA0B;AAC7B,MAAIC,KAAK,GAAG,EAAZ;AACApZ,EAAAA,CAAC,CAAC0Q,MAAD,CAAD,CAAUpH,EAAV,CAAa,QAAb,EAAuB,YAAY;AAC/Bf,IAAAA,YAAY,CAAC6Q,KAAD,CAAZ;AACAA,IAAAA,KAAK,GAAGtR,UAAU,CAAC,YAAY;AAC3BuR,MAAAA,kBAAkB;AACrB,KAFiB,EAEf,GAFe,CAAlB;AAIH,GAND;AAOH;;AAGM,SAASA,kBAAT,GAA8B;AACjCvQ,aAAKwQ,MAAL,CAAY5I,MAAM,CAACsI,UAAnB,EAA+BtI,MAAM,CAACwI,WAAtC;;AACApQ,aAAKyQ,QAAL,CAAcD,MAAd,CAAqB5I,MAAM,CAACsI,UAA5B,EAAwCtI,MAAM,CAACwI,WAA/C;;AACAnI,wBAAchE,OAAd,CAAsBC,IAAtB,CAA2BwM,OAA3B,CAAmC9I,MAAM,CAACsI,UAA1C,EAAsDtI,MAAM,CAACwI,WAA7D;;AACA;AACH;;AAGM,SAASO,gBAAT,GAA4B;AAC/B,MAAI,CAACC,QAAQ,CAACC,iBAAd,EAAiC;AAC7BD,IAAAA,QAAQ,CAACE,eAAT,CAAyBC,iBAAzB;AACH,GAFD,MAEO;AACH,QAAIH,QAAQ,CAACI,cAAb,EAA6B;AACzBJ,MAAAA,QAAQ,CAACI,cAAT;AACH;AACJ;AACJ;;;;;;;;;;;;;;;AChCD;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAGO,IAAIhR,IAAJ;;AACP,IAAIiR,MAAM,GAAG;AACT7R,EAAAA,IAAI,EAAE5G,MAAM,CAAC0Y,IADJ;AAET/V,EAAAA,KAAK,EAAEyM,MAAM,CAACsI,UAFL;AAGTiB,EAAAA,MAAM,EAAE,MAHC;AAITC,EAAAA,UAAU,EAAE,IAJH;AAKThW,EAAAA,MAAM,EAAEwM,MAAM,CAACwI,WALN;AAMTnQ,EAAAA,OAAO,EAAE;AACLoR,IAAAA,OAAO,EAAE,QADJ;AAELC,IAAAA,MAAM,EAAE;AACJC,MAAAA,KAAK,EAAE,IADH;AAEJC,MAAAA,OAAO,EAAE;AAAElX,QAAAA,CAAC,EAAE;AAAL;AAFL;AAFH,GANA;AAaTmX,EAAAA,KAAK,EAAE;AACHxb,IAAAA,OAAO,EAAEA,gBADN;AAEHuS,IAAAA,MAAM,EAAEA,cAFL;AAGH5R,IAAAA,MAAM,EAAEA;AAHL;AAbE,CAAb;;AAmBA,IAAIgR,MAAM,CAACkI,QAAP,CAAgB4B,IAAhB,KAAyB,uBAA7B,EAAsD;AAElDT,EAAAA,MAAM,CAAChR,OAAP,CAAeqR,MAAf,CAAsBC,KAAtB,GAA8B,KAA9B;AACH;;AAGD,IAAII,OAAJ;;SAEeC;;;;;;;4BAAf,iBAA4BC,QAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACU,kCADV;;AAAA;AAAA,6CAGW,EAHX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAKAC,MAAM,CAACC,SAAP,CAAiBvE,UAAjB,GAA8B,YAAY;AACtC,SAAO,KAAKwE,MAAL,CAAY,CAAZ,EAAeC,WAAf,KAA+B,KAAKC,KAAL,CAAW,CAAX,CAAtC;AACH,CAFD;;SAG8BhO;;;;;;;4BAAf;AAAA,QAaIiO,eAbJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAaX;AAAA;AAAA;AAAA;AAAA;AACI,uCAAAnS,IAAI,GAAG,IAAIxH,MAAM,CAACwH,IAAX,CAAgBiR,MAAhB,CAAP;AACAjR,wBAAAA,IAAI,CAACoS,MAAL,GAAc,EAAd;AACAT,wBAAAA,OAAO,GAAG3R,IAAV,CAHJ,CAII;;AAJJ;AAAA,+BAKU4R,YAAY,EALtB;;AAAA;AAMI;AACA;AACA;AACA;AACA;;AAVJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAbW;AAAA;AAAA;;AAaIO,YAAAA,eAbJ;AAAA;AAAA;;AAEXjb,YAAAA,CAAC,CAAC,OAAD,CAAD,CAAWC,GAAX,CAAe,UAAf,EAA2B,QAA3B;AACAD,YAAAA,CAAC,CAAC,OAAD,CAAD,CAAWuU,QAAX,CAAoB,WAApB;AACAvU,YAAAA,CAAC,CAAC,MAAD,CAAD,CAAUC,GAAV,CAAc,UAAd,EAA0B,QAA1B;AACAD,YAAAA,CAAC,CAAC,MAAD,CAAD,CAAUC,GAAV,CAAc,UAAd,EAA0B,QAA1B;AAEAD,YAAAA,CAAC,CAAC,MAAD,CAAD,CAAUoH,MAAV;AAmBApH,YAAAA,CAAC,CAAC,6BAAD,CAAD,CAAiCwH,KAAjC,CAAuC,YAAY;AAC/C,kBAAI;AACAxH,gBAAAA,CAAC,CAAC,6BAAD,CAAD,CAAiCmH,MAAjC;AACA,oBAAIgU,KAAK,GAAG,IAAIC,KAAJ,CAAU,4BAAV,CAAZ;AACAD,gBAAAA,KAAK,CAACE,IAAN,GAAa,IAAb;AACAF,gBAAAA,KAAK,CAACG,MAAN,GAAe,GAAf;AACAH,gBAAAA,KAAK,CAACI,IAAN;AACAxU,gBAAAA,eAAe,CAACC,KAAhB,CAAsB,4UAAtB;AAEAiU,gBAAAA,eAAe;AAClB,eATD,CASE,OAAOO,EAAP,EAAW;AAAEC,gBAAAA,KAAK,CAACD,EAAE,CAACE,OAAJ,CAAL;AAAoB;AAEtC,aAZD;AAiBA1b,YAAAA,CAAC,CAAC,OAAD,CAAD,CAAWsJ,EAAX,CAAc,kBAAd,EAAkC,YAAY;AAC1C;AACH,aAFD;AAKAjH,YAAAA,EAAE,CAACgV,QAAH;;AAUA,gBAAI3G,MAAM,CAACkI,QAAP,CAAgB4B,IAAhB,KAAyB,uBAAzB,IAAoDnY,EAAE,CAACqN,MAAH,CAAUiM,IAAV,GAAiBC,EAAjB,KAAwB,KAAhF,EAAuF;AAEnFX,cAAAA,eAAe;AACfjb,cAAAA,CAAC,CAAC,6BAAD,CAAD,CAAiCmH,MAAjC;AACH;;AA9DU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAiER,SAAS0U,gBAAT,GAA4B;AAC/B,SAAOpB,OAAP;AACH;;;;;ACnHD;;;;AAIA,CAAC,UAAUqB,MAAV,EAAkB;AACf,MAAIA,MAAM,CAACC,QAAP,KAAoB3X,SAAxB,EAAmC;AAC/B,UAAM4X,KAAK,CAAC,mCAAD,CAAX;AACH;;AACDF,EAAAA,MAAM,CAACC,QAAP,GAAkB/O,aAAlB;AACH,CALD,EAKGiP,IALH,SAKc,OAAOH,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,OAAOI,IAAP,KAAgB,WAAhB,GAA8BA,IAA9B,GAAqC,OAAOxL,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,EALrI","file":"infinimy.game.map","sourceRoot":"..","sourcesContent":["/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  (function() {\n    return this || (typeof self === \"object\" && self);\n  })() || Function(\"return this\")()\n);\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g = (function() {\n  return this || (typeof self === \"object\" && self);\n})() || Function(\"return this\")();\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime &&\n  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = require(\"./runtime\");\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch(e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","export function preload() {\r\n    this.load.image(\"background_space_1\", \"assets/background/space_1.jpg\");\r\n    this.load.image(\"background_space_2\", \"assets/background/space_2.jpg\");\r\n\r\n    // Asteroid\r\n    for (var i = 0; i < 7; i++) {\r\n        this.load.image(\"body_asteroid_\" + i, \"assets/sprite/galaxy_body/asteroid/\" + i + \".png\");\r\n    }\r\n    // Planet\r\n    for (var i = 0; i < 9; i++) {\r\n        this.load.image(\"body_planet_\" + i, \"assets/sprite/galaxy_body/planet/Planet\" + i + \".png\");\r\n    }\r\n    // Station\r\n    for (var i = 0; i < 1; i++) {\r\n        this.load.image(\"station_red_\" + i, \"assets/sprite/station/red_\" + i + \".png\");\r\n    }\r\n\r\n    this.load.image(\"tool_laser_1\", \"assets/sprite/tools/laser_beam_red.png\");\r\n\r\n\r\n    this.load.image(\"ship_1_normal\", \"assets/sprite/ship/built/ship_1_normal.png\");\r\n    this.load.image(\"ship_1_accelerate\", \"assets/sprite/ship/built/ship_1_accelerate.png\");\r\n}","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","import { sceneBackground, playerShip } from \"./create\";\r\n\r\nvar update10Count = 0;\r\nvar update20Count = 0;\r\n\r\nvar updateAt20 = [{\r\n    name: \"aslab\",\r\n    fn: function () {\r\n\r\n    }\r\n}];\r\nvar updateAt10 = [];\r\nvar updateDefault = [];\r\n\r\nexport function update() {\r\n    //var pStart = performance.now();\r\n    update10Count++;\r\n    update20Count++;\r\n    for (var i = 0; i < updateDefault.length; i++) {\r\n        updateDefault[i].fn(this);\r\n    }\r\n\r\n    if (update10Count === 10) {\r\n        update10Count = 0;\r\n        for (var i = 0; i < updateAt10.length; i++) {\r\n            updateAt10[i].fn(this);\r\n        }\r\n    }\r\n    if (update20Count === 20) {\r\n        update20Count = 0;\r\n        for (var i = 0; i < updateAt20.length; i++) {\r\n            updateAt20[i].fn(this);\r\n        }\r\n    }\r\n    return;\r\n    var pEnd = performance.now() - pStart;\r\n    if (pEnd > 0.4) {\r\n        $(\"#debug_free1\").css(\"color\", \"red\");\r\n    } else {\r\n        $(\"#debug_free1\").css(\"color\", \"lime\");\r\n    }\r\n    $(\"#debug_free1\").html(roundUsing(Math.floor, pEnd, 3));\r\n}\r\n\r\nvar count = 0;\r\nexport function registerUpdate(fn) {\r\n    updateDefault.push({\r\n        name: count++,\r\n        fn: fn\r\n    });\r\n}\r\nexport function registerUpdate10(fn) {\r\n    updateAt10.push({\r\n        name: count++,\r\n        fn: fn\r\n    });\r\n}\r\nexport function registerUpdate20(fn) {\r\n    updateAt20.push({\r\n        name: count++,\r\n        fn: fn\r\n    });\r\n}\r\n\r\nfunction roundUsing(func, number, prec) {\r\n    var tempnumber = number * Math.pow(10, prec);\r\n    tempnumber = func(tempnumber);\r\n    return tempnumber / Math.pow(10, prec);\r\n}","export var KeyboardHandler;\r\n\r\nexport function registerKeyboardEvents() {\r\n    var key_W = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.W);\r\n    var key_S = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.S);\r\n    var key_A = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.A);\r\n    var key_D = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.D);\r\n\r\n    KeyboardHandler = {\r\n        W: key_W,\r\n        S: key_S,\r\n        A: key_A,\r\n        D: key_D\r\n    };\r\n}\r\n\r\n","export var SectorNamesArray = [];\r\n\r\nexport function loadSectorNames() {\r\n    return new Promise(function (resolve) {\r\n        yy.http.get(\"assets/db/list_sector_names.txt\").then(listTxt => {\r\n            SectorNamesArray = listTxt.split(\"\\n\");\r\n            resolve();\r\n        });\r\n    });\r\n}\r\n\r\nexport function getRandomSectorName(seed) {\r\n    return SectorNamesArray[yy.random.int(0, SectorNamesArray.length - 1)]\r\n}","export var Minerals = [\r\n    { \r\n        name: \"iron\",\r\n        mass: 3,\r\n        rarity: 1000\r\n    },\r\n    {\r\n        name: \"copper\",\r\n        mass: 3,\r\n        rarity: 1000\r\n    },\r\n    {\r\n        name: \"uranium\",\r\n        mass: 10,\r\n        rarity: 50\r\n    },\r\n    {\r\n        name: \"gold\",\r\n        mass: 8,\r\n        rarity:50\r\n    },\r\n    {\r\n        name: \"silver\",\r\n        mass: 6,\r\n        rarity: 50\r\n    },\r\n    {\r\n        name: \"platinum\",\r\n        mass: 14,\r\n        rarity:50\r\n    }\r\n];","import { getRandomSectorName } from \"../data/sectorName\";\r\nimport { Minerals } from \"../classes/items/Minerals\";\r\n\r\nvar demoSector = { // stored in [x][y]\r\n    x: 0,\r\n    y: 0,\r\n    name: \"pandora 1 xxxxxxxxx\",\r\n    staticAsteroids: []\r\n};\r\n\r\n\r\nexport function generateNewSector(options) {\r\n\r\n    var sectorObject = {\r\n        name: options.name || getRandomSectorName(),\r\n        x: options.x,\r\n        y: options.y\r\n    };\r\n    sectorObject.staticAsteroids = generateAsteroids(sectorObject);\r\n    sectorObject.staticPlanets = generatePlanets(sectorObject);\r\n\r\n    return sectorObject;\r\n}\r\n\r\nfunction generateAsteroids(sectorObject) {\r\n    var numberOfAttempts = yy.random.int(0, 100);\r\n    var startPos = 0;\r\n    var endPos = 1024 * 6 - 700;\r\n\r\n    var resultObjectCont = [];\r\n    var asteroidDemo = {\r\n        x: 0,\r\n        y: 0,\r\n        width: 500,\r\n        height: 700,\r\n        sceneReference: undefined\r\n    }\r\n    for (var i = 0; i < numberOfAttempts; i++) {\r\n        var posX = yy.random.int(startPos, endPos);\r\n        var posY = yy.random.int(startPos, endPos);\r\n        var aspect = yy.random.int(1, 10) / 10;\r\n        var width = 500 * (aspect);\r\n        var height = 700 * (aspect);\r\n        var textureNumber = yy.random.int(0, 7);\r\n\r\n        var minerals = [];\r\n\r\n        for (var c = 0; c < Minerals.length; c++) {\r\n            var cMineral = Minerals[c];\r\n            if (yy.random.chance(cMineral.rarity, 1000)) {\r\n                minerals.push({\r\n                    mineral: cMineral,\r\n                    amount: yy.random.int(1, 500)\r\n                });\r\n            }\r\n        }\r\n\r\n        var obj = {\r\n            x: posX,\r\n            y: posY,\r\n            width: width,\r\n            height: height,\r\n            texture: \"body_asteroid_\" + textureNumber,\r\n            \"type\": \"asteroid\",\r\n            \"minerals\": minerals\r\n        };\r\n        if (checkCollision(obj, resultObjectCont) === false) {\r\n            resultObjectCont.push(obj);\r\n        }\r\n    }\r\n\r\n    return resultObjectCont;\r\n}\r\n\r\nfunction generatePlanets(sectorObject) {\r\n    var numberOfAttempts = yy.random.int(0, 5);\r\n    var startPos = 0;\r\n    var endPos = 1024 * 6 - 300;\r\n\r\n    //\r\n\r\n    var resultObjectCont = [];\r\n    var planetDemo = {\r\n        x: 0,\r\n        y: 0,\r\n        width: 150,\r\n        height: 150,\r\n        sceneReference: undefined\r\n    }\r\n    for (var i = 0; i < numberOfAttempts; i++) {\r\n\r\n        var newPlanet = createPlanet({\r\n            x: yy.random.int(startPos, endPos),\r\n            y: yy.random.int(startPos, endPos),\r\n            aspect: yy.random.int(5, 20) / 10,\r\n            width: 150,\r\n            height: 150,\r\n            texture: \"body_planet_\" + yy.random.int(0, 9),\r\n            hasStation: yy.random.chance(100)\r\n        });\r\n\r\n        if (checkCollision(newPlanet, resultObjectCont) === false) {\r\n            if (checkCollision(newPlanet, sectorObject.staticAsteroids) === false) {\r\n                resultObjectCont.push(newPlanet);\r\n            }\r\n        }\r\n    }\r\n\r\n    return resultObjectCont;\r\n}\r\nfunction checkCollision(currentObject, currentArray) {\r\n    var collides = false;\r\n\r\n    var objX = currentObject.x;\r\n    var objY = currentObject.y;\r\n\r\n    var objWidth = currentObject.width;\r\n    var objHeight = currentObject.height;\r\n\r\n\r\n\r\n\r\n\r\n    for (var i = 0; i < currentArray.length; i++) {\r\n        if (Phaser.Geom.Intersects.RectangleToRectangle(\r\n            new Phaser.Geom.Rectangle(objX, objY, objWidth, objHeight),\r\n            new Phaser.Geom.Rectangle(currentArray[i].x, currentArray[i].y, currentArray[i].width, currentArray[i].height)\r\n        )) {\r\n            collides = true;\r\n        }\r\n    }\r\n\r\n    return collides;\r\n}\r\n\r\n\r\nfunction createPlanet(options) {\r\n    var obj = {\r\n        \"type\": \"planet\",\r\n        hasStation: options.hasStation,\r\n        //\r\n        x: options.x || 0,\r\n        y: options.y || 0,\r\n        width: options.width * options.aspect || 150,\r\n        height: options.height * options.aspect || 150,\r\n        texture: options.texture || \"body_planet_0\"\r\n    };\r\n\r\n    if (options.hasStation) {\r\n        var newStation = {\r\n            x: obj.x,\r\n            y: obj.y - 230,\r\n            texture: \"station_red_0\"\r\n        };\r\n        obj.station = newStation;\r\n    }\r\n\r\n    return obj;\r\n}","export function angleBetweenSprites(spriteOrigin, spriteDestiny, center) {\r\n    if (center === true) {\r\n        var angle = Phaser.Math.Angle.Between(spriteOrigin.x, spriteOrigin.y,\r\n            spriteDestiny.x + (spriteDestiny.displayWidth/2), spriteDestiny.y + (spriteDestiny.displayHeight/2));\r\n        return angle;\r\n    } else {\r\n        var angle = Phaser.Math.Angle.Between(spriteOrigin.x, spriteOrigin.y,\r\n            spriteDestiny.x, spriteDestiny.y);\r\n        return angle;\r\n    }\r\n}\r\n\r\nexport function angleToSprite(spriteOrigin, spriteDestiny, center) {\r\n    center = center || true;\r\n    if (center === true) {\r\n        var angle = Phaser.Math.Angle.Between(spriteOrigin.x, spriteOrigin.y,\r\n            spriteDestiny.x + (spriteDestiny.displayWidth/2), spriteDestiny.y + (spriteDestiny.displayHeight/2));\r\n        return angle;\r\n    } else {\r\n        var angle = Phaser.Math.Angle.Between(spriteOrigin.x, spriteOrigin.y,\r\n            spriteDestiny.x, spriteDestiny.y);\r\n        return angle;\r\n    }\r\n}","export function assistantSpeak(what){\r\n    responsiveVoice.speak(what);\r\n\r\n}","var overlayCounter = 0;\r\n\r\nexport function showOverlayOver(options) {\r\n    overlayCounter += 1;\r\n    options = options || {};\r\n    options.remove = true;\r\n    if (options.remove) {\r\n        $(\".quickOverlay\").remove();\r\n    }\r\n\r\n    $(\"#root\").append(`\r\n        <div class=\"quickOverlay\" id=\"quickOverlay${overlayCounter}\">\r\n            <div class=\"quickOverlayCloseContainer\">X</div>\r\n            <div class=\"quickOverlayData\">\r\n                ${options.content}\r\n            </div>\r\n            \r\n        </div>\r\n    `);\r\n    var qo = $(\"#quickOverlay\" + overlayCounter);\r\n\r\n    qo.find(\".quickOverlayCloseContainer\").click(function () {\r\n        qo.remove();\r\n    });\r\n\r\n\r\n\r\n}","import { playerShip, gameReference } from \"../states/create\";\r\nimport { angleBetweenSprites } from \"../api/angle\";\r\nimport { assistantSpeak } from \"../api/assistant\";\r\nimport { showOverlayOver } from \"../api/overlayInfo\";\r\n\r\nvar SelectedSprite = null;\r\nvar selectionTimer = undefined;\r\nvar selectionDesire = 0;\r\nexport function setSelectedSprite(obj) {\r\n    // on down\r\n\r\n    SelectedSprite = obj;\r\n    onDown(SelectedSprite);\r\n\r\n    selectionDesire = 0;\r\n    selectionTimer = setTimeout(function () {\r\n        // on hold 500ms\r\n        selectionDesire = 1;\r\n    }, 500);\r\n    // SelectedSprite.Sprite.destroy();\r\n    // SelectedSprite.Sprite.memoryReference.destroy = true;\r\n}\r\n\r\nfunction onDown() {\r\n\r\n}\r\n\r\nfunction onHold() {\r\n    switch (SelectedSprite.Sprite.memoryReference.type) {\r\n        case \"asteroid\":\r\n            var resources = \"\";\r\n            for (var i = 0; i < SelectedSprite.Sprite.memoryReference.minerals.length; i++) {\r\n                var cMineral = SelectedSprite.Sprite.memoryReference.minerals[i];\r\n                resources += `\r\n                    <div style=\"margin-left: 5px;\">${cMineral.mineral.name}</div>\r\n                    <div style=\"margin-left: 5px;\">${cMineral.amount}</div>\r\n                    <br>\r\n                `;\r\n            }\r\n            showOverlayOver({\r\n                content: `\r\n                    <div>Asteroid</div>\r\n                    <div>Resources: </div>\r\n                    <div>${resources}</div>\r\n                `\r\n            });\r\n            break;\r\n    }\r\n    assistantSpeak(SelectedSprite.Sprite.memoryReference.type);\r\n}\r\n\r\n\r\nexport function pointerUp(obj) {\r\n    switch (selectionDesire) {\r\n        case 0:\r\n            playerShip.desiredAngle = angleBetweenSprites(playerShip.Sprite, SelectedSprite.Sprite, true);\r\n            break;\r\n        case 1:\r\n            onHold();\r\n            break;\r\n    }\r\n    clearTimeout(selectionTimer);\r\n    selectionDesire = 0;\r\n}\r\n\r\nexport function globalPointerUp() {\r\n}\r\n\r\n\r\nfunction getCenter(x, y, w, h) {\r\n    return {\r\n        x: x + w / 2,\r\n        y: y + h / 2\r\n    }\r\n}\r\n\r\nexport function getSelectedSprite() {\r\n    return SelectedSprite;\r\n}","export class GameSprite {\r\n    constructor(Game, x = 0, y = 0, texture = \"\") {\r\n        this.Sprite = Game.physics.add.sprite(x, y, texture);\r\n\r\n        this.Sprite.setOrigin(0);\r\n        this.Sprite.classInstance = this;\r\n\r\n        return this;\r\n    }\r\n    onPointerDown(fn){\r\n        var $this = this;\r\n        this.Sprite.setInteractive().on('pointerdown', function (pointer, localX, localY, event) {\r\n            fn($this)\r\n            // setSelectedSprite($this.sprite);\r\n        });\r\n    }\r\n    onPointerUp(fn){\r\n        var $this = this;\r\n        this.Sprite.setInteractive().on('pointerup', function (pointer, localX, localY, event) {\r\n            fn($this)\r\n            // setSelectedSprite($this.sprite);\r\n        });\r\n    }\r\n}","import { registerUpdate20 } from \"../states/update\";\r\nimport { playerShip } from \"../states/create\";\r\nimport { generateNewSector } from \"./generator\";\r\nimport { setSelectedSprite, pointerUp } from \"../ui/interactiveSprites\";\r\nimport { GameSprite } from \"../classes/GameSprite\";\r\n\r\nexport /* READONLY */ var CurrentSector = {\r\n    x: 0,\r\n    y: 0 // 6000x6000\r\n};\r\n\r\nexport var SectorSize = 1024 * 6;\r\n\r\nvar sectorChangeEvents = [];\r\n\r\nvar SectorsInMemory = {}; // SectorsInMemory[x][y]\r\n\r\nexport function registerSectorManager(Game) {\r\n    registerUpdate20(function () {\r\n        var posX = playerShip.Sprite.x;\r\n        var posY = playerShip.Sprite.y;\r\n\r\n        // LEFT\r\n        if (posX < 0) {\r\n            // go left, -1\r\n\r\n            generateAndLoadSector(CurrentSector.x - 1, CurrentSector.y, Game);\r\n            playerShip.Sprite.x = SectorSize - 100;\r\n        }\r\n        // RIGHT\r\n        if (posX > SectorSize) {\r\n            // go right, +1\r\n\r\n            generateAndLoadSector(CurrentSector.x + 1, CurrentSector.y, Game);\r\n            playerShip.Sprite.x = 100;\r\n        }\r\n        // TOP\r\n        if (posY < 0) {\r\n            // go top, +1\r\n\r\n            generateAndLoadSector(CurrentSector.x, CurrentSector.y - 1, Game);\r\n            playerShip.Sprite.y = SectorSize - 100;\r\n        }\r\n        // Down\r\n        if (posY > SectorSize) {\r\n            // go bot, -1\r\n\r\n            generateAndLoadSector(CurrentSector.x, CurrentSector.y + 1, Game);\r\n            playerShip.Sprite.y = 100;\r\n        }\r\n    });\r\n}\r\n\r\nfunction destroyCurrentSectorData() {\r\n    var cSector = SectorsInMemory[CurrentSector.x][CurrentSector.y];\r\n\r\n    for (var i = 0; i < cSector.staticAsteroids.length; i++) {\r\n        var cAsteroid = cSector.staticAsteroids[i];\r\n        if (cAsteroid.sceneReference !== undefined)\r\n            cAsteroid.sceneReference.Sprite.destroy();\r\n    }\r\n    for (var i = 0; i < cSector.staticPlanets.length; i++) {\r\n        var cPlanet = cSector.staticPlanets[i];\r\n        if (cPlanet.sceneReference !== undefined)\r\n            cPlanet.sceneReference.Sprite.destroy();\r\n        if (cPlanet.station !== undefined)\r\n            if (cPlanet.station.sceneReference !== undefined)\r\n                cPlanet.station.sceneReference.Sprite.destroy();\r\n    }\r\n}\r\n\r\nfunction loadSectorData(x, y) {\r\n    destroyCurrentSectorData();\r\n\r\n    for (var i = 0; i < SectorsInMemory[x][y].staticAsteroids.length; i++) {\r\n        var nAsteroid = SectorsInMemory[x][y].staticAsteroids[i];\r\n        if (nAsteroid.destroy !== true) {\r\n            var sAsteroid = new GameSprite(this, nAsteroid.x, nAsteroid.y, nAsteroid.texture);\r\n            sAsteroid.Sprite.displayWidth = nAsteroid.width;\r\n            sAsteroid.Sprite.displayHeight = nAsteroid.height;\r\n            sAsteroid.Sprite.setDepth(3);\r\n            sAsteroid.Sprite.setOrigin(0);\r\n            sAsteroid.Sprite.memoryReference = nAsteroid;\r\n            nAsteroid.sceneReference = sAsteroid;\r\n\r\n            sAsteroid.onPointerDown(function (Sprite) {\r\n                setSelectedSprite(Sprite);\r\n            });\r\n            sAsteroid.onPointerUp(function (Sprite) {\r\n                pointerUp(Sprite);\r\n            });\r\n        }\r\n        //this.physics.add.overlap(playerShip.Sprite, sAsteroid.Sprite, function () {\r\n        // console.log(\"touching bitches\");\r\n        //});\r\n    }\r\n    for (var i = 0; i < SectorsInMemory[x][y].staticPlanets.length; i++) {\r\n        var nPlanet = SectorsInMemory[x][y].staticPlanets[i];\r\n        if (nPlanet.destroy !== true) {\r\n            var spritePlanet = new GameSprite(this, nPlanet.x, nPlanet.y, nPlanet.texture);\r\n            spritePlanet.Sprite.displayWidth = nPlanet.width;\r\n            spritePlanet.Sprite.displayHeight = nPlanet.height;\r\n            spritePlanet.Sprite.setDepth(3);\r\n            spritePlanet.Sprite.setOrigin(0);\r\n            spritePlanet.Sprite.memoryReference = nPlanet;\r\n            nPlanet.sceneReference = spritePlanet;\r\n\r\n            spritePlanet.onPointerDown(function (Sprite) {\r\n                setSelectedSprite(Sprite);\r\n            });\r\n            spritePlanet.onPointerUp(function (Sprite) {\r\n                pointerUp(Sprite);\r\n            });\r\n\r\n            if (nPlanet.hasStation) {\r\n                var spriteStation = new GameSprite(this, nPlanet.station.x, nPlanet.station.y, nPlanet.station.texture);\r\n                spriteStation.Sprite.displayWidth = nPlanet.width / 2;\r\n                spriteStation.Sprite.displayHeight = nPlanet.height / 2;\r\n                spriteStation.Sprite.setDepth(3);\r\n                spriteStation.Sprite.setOrigin(0);\r\n                spriteStation.Sprite.x = nPlanet.x + (nPlanet.width / 2 / 2);\r\n                spriteStation.Sprite.y = nPlanet.y - (nPlanet.height / 2);\r\n                nPlanet.station.sceneReference = spriteStation;\r\n            }\r\n        }\r\n        //this.physics.add.overlap(playerShip.Sprite, sAsteroid.Sprite, function () {\r\n        // console.log(\"touching bitches\");\r\n        //});\r\n    }\r\n}\r\n\r\nexport function generateAndLoadSector(x, y, Game) {\r\n    if (SectorsInMemory[x] === undefined) {\r\n        SectorsInMemory[x] = {};\r\n    }\r\n    if (SectorsInMemory[x][y] === undefined) {\r\n        SectorsInMemory[x][y] = generateNewSector({\r\n            x: x,\r\n            y: y\r\n        });\r\n    }\r\n\r\n    loadSectorData.apply(Game, [x, y]);\r\n    CurrentSector = SectorsInMemory[x][y];\r\n    for (var i = 0; i < sectorChangeEvents.length; i++) {\r\n        sectorChangeEvents[i].apply(Game, [CurrentSector]);\r\n    }\r\n}\r\n\r\nexport function onSectorChange(newFn) {\r\n    sectorChangeEvents.push(newFn);\r\n}\r\n\r\nexport function getCurrentSector() {\r\n    return SectorsInMemory[CurrentSector.x][CurrentSector.y];\r\n}","import { onSectorChange, getCurrentSector } from \"../../sectors/manager\";\r\n\r\nexport function MiningLaser(Game, options) {\r\n    var returnLaser = {\r\n        active: false,\r\n        selected: false\r\n    };\r\n    var laserSprite = Game.physics.add.sprite(40, 0, \"tool_laser_1\");\r\n    var laserPhysiscs = Game.physics.add.sprite(40, 0, \"\");\r\n    laserSprite.displayWidth = 100;\r\n    laserSprite.displayHeight = 20;\r\n    laserSprite.body.enable = false;\r\n    laserSprite.visible = false;\r\n    laserPhysiscs.visible = false;\r\n    options.toolContainer.add(laserSprite);\r\n    options.toolContainer.add(laserPhysiscs);\r\n    returnLaser.sprite = laserSprite;\r\n\r\n    var hitAsteroid = false;\r\n\r\n    var miningInerval = 0;\r\n    returnLaser.update = function () {\r\n        if (returnLaser.active) {\r\n            if (hitAsteroid === false) {\r\n                laserPhysiscs.x += 5;\r\n                if (laserPhysiscs.x > 40 + 40) {\r\n                    laserPhysiscs.x = 40;\r\n                }\r\n            } else {\r\n                // active and hitting asteroid...\r\n                miningInerval++;\r\n                if (miningInerval > 30) {\r\n                    console.log(hitAsteroid.classInstance);\r\n                    if (yy.random.chance(50)) {\r\n                        options.ship.Inventory.addItem(\"iron\", 1);\r\n                    }\r\n                    miningInerval = 0;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    function checkIfAsteroidInRange() {\r\n\r\n    }\r\n\r\n    // real mining should be only por player\r\n    // ai should go to a position where minng is always true (laft top bopt etc)\r\n    // and simulated by timing events\r\n    onSectorChange(function (Game) {\r\n        var cSector = getCurrentSector();\r\n        for (var i = 0; i < cSector.staticAsteroids.length; i++) {\r\n            var asteroid = cSector.staticAsteroids[i];\r\n            this.physics.add.overlap(laserPhysiscs, asteroid.sceneReference.Sprite, function (a, b) {\r\n                hitAsteroid = b;\r\n            });\r\n        }\r\n    });\r\n\r\n    returnLaser.setActive = function (state) {\r\n        laserSprite.visible = state;\r\n        returnLaser.active = state;\r\n        if (state) {\r\n\r\n        }\r\n    }\r\n    returnLaser.onMove = function () {\r\n        hitAsteroid = false;\r\n    }\r\n    return returnLaser;\r\n}","export function Navigator(Game, options) {\r\n    var returnNavigator = {\r\n        active: false\r\n    };\r\n    var lastPointer = { x: 0, y: 0 };\r\n    var playerShip = options.playerShip;\r\n    Game.input.on('pointermove', function (pointer) {\r\n        lastPointer = pointer;\r\n    }, this);\r\n\r\n    returnNavigator.update = function () {\r\n        var angle = Phaser.Math.Angle.Between(playerShip.Sprite.x, playerShip.Sprite.y,\r\n            lastPointer.x + Game.cameras.main.scrollX, lastPointer.y + Game.cameras.main.scrollY);\r\n        playerShip.desiredAngle = angle;\r\n        if (playerShip.desiredAngle === playerShip.Sprite.rotation) {\r\n            playerShip.desiredAngle = false;\r\n        }\r\n\r\n    }\r\n\r\n\r\n    returnNavigator.setActive = function (state) {\r\n        returnNavigator.active = state;\r\n    }\r\n    returnNavigator.onMove = function () { };\r\n    return returnNavigator;\r\n}","export function InventoryModule(options) {\r\n    options = options || {};\r\n\r\n    var inventorySystem = {\r\n        items: [],\r\n        capacity: options.capacity || 500,\r\n        getUsed: function () {\r\n            return getCapacityUsed(inventorySystem)\r\n        }\r\n    };\r\n    inventorySystem.addItem = function (name, amount, mass, force) {\r\n        addItem(inventorySystem, name, amount, mass, force);\r\n    }\r\n    inventorySystem.getItem = function (name) {\r\n        return findItemStack(inventorySystem, name);\r\n    }\r\n    return inventorySystem;\r\n}\r\n\r\nfunction getCapacityUsed(inventory) {\r\n    var capacityUsed = 0;\r\n\r\n\r\n    for (var i = 0; i < inventory.items.length; i++) {\r\n        capacityUsed += inventory.items[i].mass * inventory.items[i].amount;\r\n    }\r\n    return capacityUsed;\r\n}\r\n\r\nfunction fits(inventory, amount, mass) {\r\n    var capacityUsed = 0;\r\n\r\n\r\n    for (var i = 0; i < inventory.items.length; i++) {\r\n        capacityUsed += inventory.items[i].mass * inventory.items[i].amount;\r\n    }\r\n\r\n    if (capacityUsed + (amount * mass) <= inventory.capacity) {\r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n\r\nfunction findItemStack(inventory, name) {\r\n    var ret = undefined;\r\n    for (var i = 0; i < inventory.items.length; i++) {\r\n        if (inventory.items[i].name === name) {\r\n            ret = inventory.items[i];\r\n        }\r\n    }\r\n\r\n    return ret;\r\n}\r\n\r\nfunction addItem(inventory, name, amount, mass, force) {\r\n    mass = mass || 1;\r\n    amount = amount || 1;\r\n    force = force || false;\r\n    if (amount > 0) {\r\n        // add\r\n        var stack = findItemStack(inventory, name);\r\n        if (stack === undefined) {\r\n            stack = {\r\n                name: name,\r\n                amount: 0,\r\n                mass: mass || 1\r\n            };\r\n            inventory.items.push(stack);\r\n\r\n        }\r\n        if (fits(inventory, amount, mass)) {\r\n            stack.amount += amount;\r\n        } else {\r\n            if (force) {\r\n                stack.amount += amount;\r\n            }\r\n        }\r\n\r\n    } else if (amount < 0) {\r\n        // subsrtract\r\n        var stack = findItemStack(inventory, name);\r\n\r\n        if (stack === undefined) {\r\n            return false;\r\n        }\r\n        if (stack.amount >= amount) {\r\n            stack.amount += amount;\r\n        } else {\r\n            if (force) {\r\n                stack.amount += amount;\r\n            }\r\n        }\r\n    }\r\n\r\n    emptyStackClear(inventory);\r\n}\r\n\r\nfunction emptyStackClear(inventory) {\r\n    var inventoryItems = [];\r\n    for (var i = 0; i < inventory.items.length; i++) {\r\n        if (inventory.items[i].amount > 0) {\r\n            inventoryItems.push(inventory.items[i]);\r\n        }\r\n    }\r\n\r\n    inventory.items = inventoryItems;\r\n}","export function EngineModule(options) {\r\n    options = options || {};\r\n\r\n    var engineModule = {\r\n        \"acceleration\": 500,\r\n        \"rotation\": 0.06,\r\n        \"maxSpeed\": 1000,\r\n        \"maxDrag\": 10000,\r\n        getUsed: function () {\r\n            return getCapacityUsed(inventorySystem)\r\n        }\r\n    };\r\n\r\n\r\n    return engineModule;\r\n}\r\n\r\nexport function EngineModule2(options) {\r\n    options = options || {};\r\n\r\n    var engineModule = {\r\n        \"acceleration\": 200,\r\n        \"rotation\": 0.008,\r\n        \"maxSpeed\": 300,\r\n        \"maxDrag\": 100,\r\n        getUsed: function () {\r\n            return getCapacityUsed(inventorySystem)\r\n        }\r\n    };\r\n\r\n\r\n    return engineModule;\r\n}","\r\nimport { registerUpdate } from \"../states/update\";\r\nimport { playerShip } from \"../states/create\";\r\nimport { KeyboardHandler } from \"../ui/keyboard\";\r\nimport { MiningLaser } from \"./tools/miningLaser\";\r\nimport { Navigator } from \"./tools/navigator\";\r\nimport { InventoryModule } from \"./systems/modules/Inventory\";\r\nimport { EngineModule } from \"./systems/modules/Engine\";\r\n\r\nvar isTouch = false;\r\n\r\nexport class PlayerShip {\r\n    constructor(Game, x = 0, y = 0, texture = \"\") {\r\n        this.Sprite = Game.physics.add.sprite(x, y, texture);\r\n        this.Sprite.classInstance = this;\r\n        this.Sprite.setOrigin(0.5);\r\n        this.Sprite.setDrag(300);\r\n        this.Sprite.setAngularDrag(400);\r\n        this.Sprite.setMaxVelocity(200);\r\n\r\n        var $this = this;\r\n\r\n        this.textureName = texture.replace(\"_normal\", \"\");\r\n        this.wantAccelerate = false;\r\n        this.desiredAngle = false// -1 left 0 none 1 right\r\n        this.Speed = 100;\r\n        this.rotationSpeed = 0.005;\r\n\r\n        this.toolContainer = Game.add.container(0, 0);\r\n        this.toolContainer.setDepth(9);\r\n\r\n        this.tools = [];\r\n        this.tools.push(new MiningLaser(Game, {\r\n            toolContainer: this.toolContainer,\r\n            ship: this\r\n        }));\r\n        this.tools.push(new Navigator(Game, {\r\n            toolContainer: this.toolContainer,\r\n            playerShip: this\r\n        }));\r\n\r\n        this.selectedTool = this.tools[0];\r\n        this.selectedTool.selected = true;\r\n\r\n        // Modules\r\n        this.modules = [];\r\n\r\n        this.Inventory = InventoryModule();\r\n        this.modules.push({\r\n            \"type\": \"inventory\",\r\n            module: this.Inventory\r\n        });\r\n\r\n        this.Engine = new EngineModule();\r\n        this.modules.push({\r\n            \"type\": \"engine\",\r\n            module: this.Engine\r\n        });\r\n        this.Speed = this.Engine.acceleration;\r\n        this.Sprite.setDrag(this.Engine.maxDrag);\r\n        this.Sprite.setAngularDrag(400);\r\n        this.Sprite.setMaxVelocity(this.Engine.maxSpeed);\r\n        this.rotationSpeed = this.Engine.rotation;\r\n\r\n        // Update\r\n        registerUpdate(function () {\r\n            $this.update.apply($this, [Game]);\r\n        });\r\n\r\n        isTouch = yy.device.isTouch();\r\n        return this;\r\n    }\r\n\r\n    toolButtonDown() {\r\n        this.selectedTool.setActive(true);\r\n    }\r\n    toolButtonUp() {\r\n        this.selectedTool.setActive(false);\r\n    }\r\n    selectTool(indexOrName) {\r\n        this.selectedTool.selected = false;\r\n        this.selectedTool = this.tools[indexOrName];\r\n        this.selectedTool.selected = true;\r\n    }\r\n\r\n    update(Game) {\r\n        moveHandler.apply(this, [Game]);\r\n        this.move.apply(this, [Game]);\r\n        this.toolContainer.setPosition(this.Sprite.x, this.Sprite.y);\r\n        this.toolContainer.setAngle(this.Sprite.body.rotation);\r\n        this.selectedTool.update();\r\n    }\r\n\r\n    accelerate(Game) {\r\n        Game.physics.velocityFromRotation(\r\n            this.Sprite.rotation, this.Speed, this.Sprite.body.acceleration\r\n        );\r\n    }\r\n    move(Game) {\r\n        // acc\r\n        if (this.wantAccelerate === true) {\r\n            this.accelerate.apply(this, [Game]);\r\n            this.Sprite.setTexture(this.textureName + \"_accelerate\");\r\n\r\n            this.selectedTool.onMove();\r\n\r\n        } else {\r\n            this.Sprite.setAcceleration(0);\r\n            this.Sprite.setTexture(this.textureName + \"_normal\")\r\n        }\r\n        // only for ai and joystick\r\n        if (this.desiredAngle !== false) {\r\n            this.selectedTool.onMove();\r\n            if (this.Sprite.rotation < this.desiredAngle) {\r\n                if (Math.abs(this.Sprite.rotation - this.desiredAngle) > 3) {\r\n                    this.Sprite.rotation -= this.rotationSpeed;\r\n                } else {\r\n                    this.Sprite.rotation += this.rotationSpeed;\r\n                    if (this.Sprite.rotation > this.desiredAngle) {\r\n                        // rotation success\r\n                        this.Sprite.rotation = this.desiredAngle;\r\n                        this.desiredAngle = false;\r\n                    }\r\n                }\r\n\r\n            } else if (this.Sprite.rotation > this.desiredAngle) {\r\n                if (Math.abs(this.Sprite.rotation - this.desiredAngle) > 3) {\r\n                    this.Sprite.rotation += this.rotationSpeed;\r\n                } else {\r\n                    this.Sprite.rotation -= this.rotationSpeed;\r\n                    if (this.Sprite.rotation < this.desiredAngle) {\r\n\r\n                        this.Sprite.rotation = this.desiredAngle;\r\n                        this.desiredAngle = false;\r\n                    }\r\n                }\r\n\r\n            }\r\n        } else {\r\n\r\n        }\r\n    }\r\n}\r\n\r\nfunction moveHandler(Game) { // PLayer\r\n\r\n\r\n    if (KeyboardHandler.A.isDown) {\r\n        this.desiredAngle = false;\r\n        this.Sprite.rotation -= this.rotationSpeed;\r\n        this.selectedTool.onMove();\r\n    }\r\n    else if (KeyboardHandler.D.isDown) {\r\n        this.desiredAngle = false;\r\n        this.Sprite.rotation += this.rotationSpeed;\r\n        this.selectedTool.onMove();\r\n    }\r\n\r\n    if (KeyboardHandler.W.isDown) {\r\n        this.wantAccelerate = true;\r\n    } else if (KeyboardHandler.S.isDown) {\r\n        this.wantAccelerate = false;\r\n    }\r\n\r\n    // this.desiredAngle = false; // since player controlled by keys, no need\r\n\r\n\r\n}","import { registerUpdate20 } from \"../states/update\";\r\nimport { playerShip, gameReference } from \"../states/create\";\r\nimport { CurrentSector } from \"../sectors/manager\";\r\nimport { getGameReference, Game } from \"../main\";\r\n\r\nexport function generateTopDebugger() {\r\n    var debugDisplay = $(\"<div></div>\")\r\n        .attr(\"id\", \"debugDisplay\")\r\n        .appendTo($(\"#root\"))\r\n        .css({\r\n            \"display\":\"none\",\r\n            \"z-index\": 5,\r\n            \"color\": \"white\",\r\n            \"position\": \"absolute\",\r\n            \"top\": \"0px\",\r\n            \"right\": \"0px\",\r\n            \"background\": \" rgba(0, 0, 0, 0.5)\",\r\n            \"padding\": \"5px\"\r\n        }).html(`\r\n            <span style=\"color: lime\" id=\"debug_PlayerX\"></span>x, <span style=\"color: lime\" id=\"debug_PlayerY\"></span>y\r\n            <br>\r\n            <span style=\"color: purple\" id=\"debug_PlayerSectorX\"></span>x, <span style=\"color: purple\" id=\"debug_PlayerSectorY\"></span>y\r\n            &nbsp;&nbsp;<span style=\"color: #de26de\" id=\"debug_PlayerSectorName\"></span>\r\n            <br>\r\n            <span style=\"color: lime\" id=\"debug_PointerX\"></span>x, <span style=\"color: lime\" id=\"debug_PointerY\"></span>y\r\n            <br>\r\n            <span style=\"color: lime\" id=\"debug_free1\"></span><span id=\"debug_free1_type\"></span>\r\n            <br>\r\n            <span style=\"color: lime\" id=\"debug_free2\"></span><span id=\"debug_free2_type\"></span>\r\n        `);;\r\n    window.i_debug = {};\r\n    window.i_debug.inertiaToggle = function () {\r\n        playerShip.toggleInertiaDampeners();\r\n    }\r\n    window.i_debug.logGame = function () {\r\n        console.log(getGameReference());\r\n        console.log(gameReference);\r\n    }\r\n    window.i_debug.logPlayer = function () {\r\n        console.log(playerShip);\r\n    }\r\n\r\n    registerUpdate20(function (Game) {\r\n        return;\r\n        var playerX = parseInt(playerShip.Sprite.x);\r\n        var playerY = parseInt(playerShip.Sprite.y);\r\n        $(\"#debug_PlayerX\").html(playerX);\r\n        $(\"#debug_PlayerY\").html(playerY);\r\n\r\n\r\n        $(\"#debug_PlayerSectorX\").html(CurrentSector.x);\r\n        $(\"#debug_PlayerSectorY\").html(CurrentSector.y);\r\n        $(\"#debug_PlayerSectorName\").html(CurrentSector.name);\r\n    });\r\n    gameReference.input.on('pointermove', function (pointer) {\r\n        return;\r\n        var x = pointer.x;\r\n        var y = pointer.y;\r\n\r\n        $(\"#debug_PointerX\").html(x);\r\n        $(\"#debug_PointerY\").html(y);\r\n    }, this);\r\n}","import { PlayerShip } from \"../classes/PlayerShip\";\r\nimport { registerSectorManager, generateAndLoadSector } from \"../sectors/manager\";\r\nimport { registerKeyboardEvents } from \"../ui/keyboard\";\r\nimport { generateTopDebugger } from \"../ui/debugger\";\r\nimport { showOverlayOver } from \"../api/overlayInfo\";\r\n\r\nexport var playerShip, sceneBackground;\r\nexport var cursors;\r\nexport var gameReference;\r\n\r\n\r\n\r\nexport function create() {\r\n    gameReference = this;\r\n    //SceneBackground = this.add.tileSprite(0, 0, 4000, 4000, 'background_space_2')//.setScrollFactor(0);\r\n    // SceneBackground = this.add.image(0, 0, 'background_space_2').setScrollFactor(0);\r\n\r\n    var cuadricula = 6;\r\n\r\n    for (var x = -1; x < cuadricula + 1; x++) {\r\n        for (var y = -1; y < cuadricula + 1; y++) {\r\n            this.add.image(x * 1024, y * 1024, 'background_space_2').setOrigin(0);\r\n        }\r\n    }\r\n    /**\r\n     * 0 0 : 1024 0\r\n     * 1024 0 : \r\n     */\r\n    cursors = this.input.keyboard.createCursorKeys();\r\n\r\n    playerShip = new PlayerShip(this, 10, 10, \"ship_1_normal\");\r\n    playerShip.Sprite.displayWidth = 128 / 3.3;\r\n    playerShip.Sprite.displayHeight = 117 / 3.3;\r\n    playerShip.Sprite.setDepth(10);\r\n\r\n    this.cameras.main.startFollow(playerShip.Sprite);\r\n\r\n    generateAndLoadSector(0, 0, this);\r\n    registerSectorManager(this);\r\n    registerKeyboardEvents.apply(this);\r\n\r\n\r\n\r\n\r\n\r\n\r\n    generateTopDebugger();\r\n\r\n    playerShip.Inventory.addItem(\"combustible nuclear\", 1, 10, true);\r\n\r\n    showOverlayOver({\r\n        info1: \"Asteroid\",\r\n        info2: \"Resources: <br> iron: 10\"\r\n    });\r\n}","export var uiDimensions = {\r\n    map: {\r\n        width: 150,\r\n        height: 150,\r\n        type: \"px\"\r\n    }\r\n};\r\n\r\n\r\nexport var MAP_STATE = {\r\n    NOT_VISIBLE: 0,\r\n    DEFAULT: 1,\r\n    FULL_SCREEN: 2\r\n};","import { playerShip } from \"../states/create\";\r\nimport { uiDimensions } from \"../generalVariables\";\r\n\r\nexport function generateVirtualJoystick() {\r\n\r\n    var joystick = yy.yengine.ui.VirtualJoystick({\r\n        zIndex: 15,\r\n        height: uiDimensions.map.height + 3,\r\n        width: uiDimensions.map.width + 3,\r\n        onMove: function (evt, data) {\r\n            if (data.direction !== undefined) {\r\n                playerShip.desiredAngle = data.yRad;\r\n\r\n                if (Math.abs(playerShip.desiredAngle - playerShip.Sprite.rotation) <= 0.5) {\r\n                    playerShip.wantAccelerate = true;\r\n                } else {\r\n                    playerShip.wantAccelerate = false;\r\n                }\r\n            }\r\n        },\r\n        onEnd: function () {\r\n            playerShip.wantAccelerate = false;\r\n            playerShip.desiredAngle = false;\r\n        }\r\n    });\r\n}","export function requestSliderInput(options) {\r\n    options = options || {};\r\n    var min = options.min || 0;\r\n    var max = options.max || 10;\r\n    var text = options.text || \"Value\";\r\n\r\n    return new Promise(function (resolve, reject) {\r\n        var resolveValue = 0;\r\n        $(\".sliderInputScreen\").remove();\r\n        $(\"#root\").append(`\r\n            <div class=\"interactionBlackScreen sliderInputScreen\" style=\"background: black;z-index:25;\">\r\n                <div class=\"cancelSliderRequest\">X</div>\r\n                <div class=\"sliderRequestText\">${text}</div>\r\n                <div style=\"clear:both;padding-top:30px\">\r\n                    <input type=\"range\" min=\"${min}\" max=\"${max}\" value=\"0\">\r\n                    <br>\r\n                    <span class=\"sliderRequestText\" style=\"color:white;\" id=\"requestRangeValue\">0</span>\r\n                    <br>\r\n                    <button id=\"acceptValueRequest\">Accept</button>\r\n                </div>\r\n            </div>\r\n        `);\r\n        $('input[type=\"range\"]').rangeslider({\r\n            polyfill: false,\r\n            // Default CSS classes\r\n            rangeClass: 'rangeslider',\r\n            disabledClass: 'rangeslider--disabled',\r\n            horizontalClass: 'rangeslider--horizontal',\r\n            verticalClass: 'rangeslider--vertical',\r\n            fillClass: 'rangeslider__fill',\r\n            handleClass: 'rangeslider__handle',\r\n            // Callback function\r\n            onInit: function () { \r\n\r\n                $('input[type=\"range\"]').val(0).change();\r\n                $(\"#requestRangeValue\").html(\"0\");\r\n                resolveValue = 0;\r\n            },\r\n\r\n            // Callback function\r\n            onSlide: function (position, value) {\r\n                $(\"#requestRangeValue\").html(value);\r\n                resolveValue = value;\r\n\r\n            },\r\n\r\n            // Callback function\r\n            onSlideEnd: function (position, value) { }\r\n        });\r\n\r\n        $(\".cancelSliderRequest\").click(function () {\r\n            reject();\r\n            $(\".sliderInputScreen\").remove();\r\n        });\r\n        $(\"#acceptValueRequest\").click(function () {\r\n            resolve(resolveValue);\r\n            $(\".sliderInputScreen\").remove();\r\n        });\r\n    });\r\n} ","import { setMapState } from \"./map\";\r\nimport { playerShip } from \"../states/create\";\r\nimport { requestSliderInput } from \"../api/sliderRequest\";\r\n\r\nexport var selectedTab = 0;\r\n\r\nexport function selectTab(index) {\r\n    $(\".managerMenuContentTab\").css({\r\n        \"display\": \"none\"\r\n    });\r\n\r\n    $($(\".managerMenuContentTab\")[index]).css({\r\n        \"display\": \"block\"\r\n    });\r\n\r\n    switch (index) {\r\n        case 0:\r\n            setMapState(2);\r\n            break;\r\n        case 1:\r\n            updateInventoryScreen();\r\n            break;\r\n    }\r\n    $(\".scrollmenu > a\").removeClass(\"selected\");\r\n    $($(\".scrollmenu > a\")[index + 1]).addClass(\"selected\");\r\n}\r\n\r\nexport function generateManagerMenu() {\r\n    $(\"#root\").append(`\r\n    \r\n        <div class=\"managerMenuContainer\">\r\n            <div class=\"managerMenuTopBar\">\r\n                <div class=\"scrollmenu\">\r\n                    <a id=\"closeManagerMenu\">X</a>\r\n                    <a id=\"selectMapTab\">Map</a>\r\n                    <a id=\"selectInventoryTab\">Inventory</a>\r\n                    <a id=\"selectModulesTab\">Modules</a>\r\n                    <a>Universe</a>\r\n                    <a>Market</a>\r\n                    <a>Ship</a>\r\n                    <a>Economy</a>\r\n                </div>\r\n            </div>\r\n            <div class=\"managerMenuContent\">\r\n                <div class=\"managerMenuContentTab mapTab\"></div>\r\n                <div class=\"managerMenuContentTab inventoryTab\"></div>\r\n                <div class=\"managerMenuContentTab modulesTab\"></div>\r\n            </div>\r\n        </div>\r\n\r\n    `);\r\n\r\n    $(\"#closeManagerMenu\").click(function () {\r\n        hideManagerMenu();\r\n    });\r\n    $(\"#selectMapTab\").click(function () {\r\n        selectTab(0);\r\n    });\r\n    $(\"#selectInventoryTab\").click(function () {\r\n        selectTab(1);\r\n    });\r\n\r\n    hideManagerMenu();\r\n}\r\n\r\n\r\nexport function showManagerMenu(wh) {\r\n    $(\".managerMenuContainer\").css({\r\n        \"display\": \"block\"\r\n    });\r\n    $(\".gameMapContainer\").appendTo($(\".mapTab\"));\r\n}\r\n\r\nexport function hideManagerMenu() {\r\n    $(\".managerMenuContainer\").css({\r\n        \"display\": \"none\"\r\n    });\r\n    $(\".gameMapContainer\").appendTo($(\"#root\"));\r\n    setMapState(1)\r\n\r\n}\r\n\r\nexport function updateInventoryScreen() {\r\n    $(\".inventoryTab\").html(`\r\n        <div style=\"color:white;height:40px;line-height:40px;\">${playerShip.Inventory.getUsed()}/${playerShip.Inventory.capacity}</div>\r\n        <div id=\"inventoryTableContainer\"></div>\r\n    `);\r\n\r\n    var table = new Tabulator(\"#inventoryTableContainer\", {\r\n        height: \"calc(100% - 40px)\",\r\n        layout: \"fitDataFill\",\r\n        responsiveLayout: \"collapse\",\r\n        responsiveLayoutCollapseStartOpen: false,\r\n        columns: [\r\n            { formatter: \"responsiveCollapse\", width: 30, minWidth: 30, align: \"center\", resizable: false, headerSort: false },\r\n            { title: \"Item\", field: \"name\", responsive: 0 },\r\n            { title: \"Amount\", field: \"amount\", sorter: \"number\", align: \"right\" },\r\n            { title: \"Mass\", field: \"mass\", sorter: \"number\" },\r\n            //\r\n            { title: \"Mass per unit\", field: \"massPerUnit\", sorter: \"number\" }\r\n        ],\r\n        rowClick: function (e, row) {\r\n            if (!$(e.target).hasClass(\"tabulator-responsive-collapse-toggle-close\")) {\r\n                if (!$(e.target).hasClass(\"tabulator-responsive-collapse-toggle-open\")) {\r\n                    if (!$(e.target).hasClass(\"tabulator-responsive-collapse-toggle\")) {\r\n                        console.log(row._row.data.name.toLowerCase());\r\n                        showItemInteractions(row._row.data.name.toLowerCase(), playerShip.Inventory);\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n    });\r\n\r\n    var tabledata = [];\r\n    for (var i = 0; i < playerShip.Inventory.items.length; i++) {\r\n        var item = playerShip.Inventory.items[i];\r\n        var nm = item.name;\r\n        tabledata.push({\r\n            name: nm.capitalize(),\r\n            amount: item.amount,\r\n            mass: item.mass * item.amount,\r\n            massPerUnit: item.mass,\r\n            collapsed: true\r\n        });\r\n    }\r\n    table.setData(tabledata);\r\n}\r\n\r\n\r\nfunction showItemInteractions(item, inventorySystem) {\r\n\r\n    $(\"#root\").append(`\r\n        <div id=\"itemInteractionScreen\" class=\"interactionBlackScreen\">\r\n            <div>\r\n                <div class=\"closeInteractionAction\">X</div>\r\n                <span class=\"itemInteractionName\">XXXX</span>\r\n            </div>\r\n            <div>\r\n                <div class=\"itemInteractionAction\">Drop</div>\r\n                <div class=\"itemInteractionAction\">Sniff</div>\r\n            </div>\r\n        </div>\r\n    `);\r\n\r\n    $(\".itemInteractionName\").html(item.capitalize());\r\n\r\n    $(\".closeInteractionAction\").click(function () {\r\n        $(\"#itemInteractionScreen\").remove();\r\n    });\r\n    $(\".itemInteractionAction:eq(0)\").click(function () {\r\n        // Drop option\r\n        requestSliderInput({\r\n            text:\"Dropping algo muy largo probando 1 2 3 largfo largo\" + item,\r\n            min: 0,\r\n            max: inventorySystem.getItem(item).amount\r\n        }).then(function (amount) {\r\n            if (amount !== 0) {\r\n                inventorySystem.addItem(item, -amount);\r\n            }\r\n            updateInventoryScreen();\r\n            $(\"#itemInteractionScreen\").remove();\r\n        });\r\n    });\r\n}","import { SectorSize, onSectorChange, CurrentSector } from \"../sectors/manager\";\r\nimport { registerUpdate20 } from \"../states/update\";\r\nimport { playerShip } from \"../states/create\";\r\nimport { showManagerMenu, selectTab } from \"./managerMenu\";\r\nimport { uiDimensions } from \"../generalVariables\";\r\n\r\nexport var mapState = 1; // 0 not visible, 1 miniTop, 2: full\r\n\r\nexport function mapIsVisible() {\r\n    return true;\r\n}\r\n\r\nexport function setMapState(st) {\r\n    mapState = st;\r\n    if (st === 0) {\r\n        $(\".gameMapContainer\").css({\r\n            \"display\": \"none\"\r\n        });\r\n    } else {\r\n        $(\".gameMapContainer\").css({\r\n            \"display\": \"block\"\r\n        });\r\n    }\r\n    if (st === 1) {\r\n        $(\".gameMapContainer\").css({\r\n            width: \"150px\",\r\n            \"height\": \"150px\"\r\n        });\r\n        aspectW = $(\".gameMapContainer\").width() / SectorSize;\r\n        aspectH = $(\".gameMapContainer\").height() / SectorSize;\r\n        updateStaticMap();\r\n        $(\".mapInfo\").hide();\r\n    } else if (st === 2) {\r\n        $(\".mapInfo\").show();\r\n        $(\".gameMapContainer\").css({\r\n            width: \"100%\",\r\n            \"height\": \"100%\"\r\n        });\r\n        aspectW = $(\".gameMapContainer\").width() / SectorSize;\r\n        aspectH = $(\".gameMapContainer\").height() / SectorSize;\r\n        updateStaticMap();\r\n    }\r\n}\r\n\r\nvar aspectW, aspectH, lastSector;\r\n\r\n\r\nexport function generateMapInterface() {\r\n    $(\"#root\").append(`\r\n        <div class=\"gameMapContainer isLeft\">\r\n            <div class=\"mapObject mapPlayer\"></div>\r\n            <div class=\"mapInfo\"></div>\r\n        </div>\r\n    `);\r\n\r\n\r\n    yy.writeCSS(`\r\n        .gameMapContainer {\r\n            width: ${uiDimensions.map.width}px;\r\n            height: ${uiDimensions.map.height}px;\r\n            background: rgba(0, 0, 0, 0.5);\r\n            z-index: 10;\r\n            position: absolute;\r\n            bottom: 3px;\r\n            display: block;\r\n        }\r\n        .gameMapContainer.isLeft {\r\n            left: 3px;\r\n        }\r\n        .gameMapContainer.isRight {\r\n            right: 3px;\r\n        }\r\n\r\n        .mapObject {\r\n            position: absolute;\r\n            width: 5px;\r\n            height: 5px;\r\n        }\r\n        .staticMapObject {\r\n            background: gray;\r\n        }\r\n        .mapPlayer {\r\n            background: red;\r\n            z-index: 10;\r\n        }\r\n        .mapInfo {\r\n            position: absolute;\r\n            top: 5px;\r\n            left: 5px;\r\n            color: white;\r\n            z-index: 11;\r\n        }\r\n        .mapInfoPos {\r\n            color: lime;\r\n        }\r\n        .sectorNumberInfo {\r\n            color: pink;\r\n        }\r\n        .staticMapObjectPlanet {\r\n            background: blue;\r\n        }\r\n    `);\r\n\r\n    $(\".gameMapContainer\").click(function () {\r\n        \r\n    });\r\n    aspectW = $(\".gameMapContainer\").width() / SectorSize;\r\n    aspectH = $(\".gameMapContainer\").height() / SectorSize;\r\n\r\n    updateMapContent();\r\n}\r\n\r\nfunction updateStaticMap(sector) {\r\n    sector = sector || lastSector;\r\n\r\n    if(sector===undefined){\r\n        return;\r\n    }\r\n\r\n    $(\".staticMapObject\").remove();\r\n    for (var i = 0; i < sector.staticAsteroids.length; i++) {\r\n        var newAsteroid = sector.staticAsteroids[i];\r\n        var asteroidInMap = $(\"<div></div>\");\r\n        asteroidInMap.addClass(\"mapObject\").addClass(\"staticMapObject\");\r\n        asteroidInMap.css({\r\n            top: newAsteroid.y * aspectH,\r\n            left: newAsteroid.x * aspectW,\r\n            width: newAsteroid.width * aspectW,\r\n            height: newAsteroid.height * aspectH,\r\n        });\r\n        $(\".gameMapContainer\").append(asteroidInMap);\r\n    }\r\n\r\n    for (var i = 0; i < sector.staticPlanets.length; i++) {\r\n        var newAsteroid = sector.staticPlanets[i];\r\n        var asteroidInMap = $(\"<div></div>\");\r\n        asteroidInMap.addClass(\"mapObject\").addClass(\"staticMapObject\").addClass(\"staticMapObjectPlanet\");\r\n        asteroidInMap.css({\r\n            top: newAsteroid.y * aspectH,\r\n            left: newAsteroid.x * aspectW,\r\n            width: newAsteroid.width * aspectW,\r\n            height: newAsteroid.height * aspectH,\r\n        });\r\n        $(\".gameMapContainer\").append(asteroidInMap);\r\n    }\r\n    lastSector = sector;\r\n\r\n\r\n}\r\n\r\nexport function updateMapContent() {\r\n    registerUpdate20(function () {\r\n        if (mapState !== 0) {\r\n            $(\".mapPlayer\").css({\r\n                width: playerShip.Sprite.width * aspectW,\r\n                height: playerShip.Sprite.height * aspectH\r\n            });\r\n            $(\".mapPlayer\").css({\r\n                left: playerShip.Sprite.x * aspectW,\r\n                top: playerShip.Sprite.y * aspectH\r\n            });\r\n\r\n            if (mapState === 2) {\r\n                $(\".mapInfo\").html(`\r\n                x: <span class=\"mapInfoPos\">${parseInt(playerShip.Sprite.x)}</span>, y: <span class=\"mapInfoPos\">${parseInt(playerShip.Sprite.y)}</span>\r\n                <br>\r\n                <span class=\"sectorNumberInfo\">${CurrentSector.x}</span>, <span class=\"sectorNumberInfo\">${CurrentSector.y}</span>\r\n                `);\r\n            }\r\n\r\n        }\r\n    });\r\n    onSectorChange(function (sector) {\r\n        updateStaticMap(sector);\r\n    });\r\n}\r\n\r\nexport function showMapFullScreen(){\r\n    showManagerMenu(); \r\n    selectTab(0);\r\n}","import { playerShip } from \"../states/create\";\r\nimport { toggleFullScreen, executeResizeEvent } from \"./resizer\";\r\nimport { setMapState, mapState, showMapFullScreen } from \"./map\";\r\nimport { showManagerMenu, selectTab } from \"./managerMenu\";\r\nimport { MAP_STATE } from \"../generalVariables\";\r\n\r\nexport function generateTouchMenu() {\r\n    $(\"#toolsCogs\").remove();\r\n\r\n    window.oncontextmenu = function () { return false; }\r\n    var left = $(\"<div></div>\")\r\n        .attr(\"id\", \"toolsCogs\")\r\n        .appendTo($(\"#root\"))\r\n        .css({\r\n            \"z-index\": \"5\",\r\n            \"color\": \"white\",\r\n            \"position\": \"absolute\",\r\n            \"bottom\": \"0px\",\r\n            \"right\": \"0px\",\r\n            \"width\": \"80px\",\r\n            \"height\": \"60px\",\r\n            \"text-algin\": \"center\",\r\n            \"line-height\": \"60px\"\r\n        }).html(`\r\n        <i style=\"font-size: 40px;text-algin: center;line-height:60px;height:60px;padding-left: 10px;\" class=\"fas fa-cogs\"></i>\r\n\r\n        `);\r\n    var centerZone = $(\"<div><i style='width:100%;height:100%' class='fas fa-anchor'></i></div>\")\r\n        .appendTo($(\"#root\"))\r\n        .css({\r\n            \"z-index\": \"5\",\r\n            \"color\": \"white\",\r\n            \"position\": \"absolute\",\r\n            \"bottom\": \"5px\",\r\n            \"left\": \"160px\",\r\n            \"width\": \"calc(100% - 280px)\",\r\n            \"height\": \"60px\",\r\n            \"background\": \"rgba(0, 0, 255, 0)\"\r\n        });\r\n\r\n    var hammerTool = new Hammer(centerZone[0]);\r\n    hammerTool.on(\"press\", function (e) {\r\n        playerShip.toolButtonDown.apply(playerShip);\r\n    });\r\n    hammerTool.on(\"pressup panend\", function (e) {\r\n        playerShip.toolButtonUp.apply(playerShip);\r\n    });\r\n\r\n    yy.ui.touchUI({\r\n        container: \"body\",\r\n        initiator: \"#toolsCogs\",\r\n        styleClass: \"touchUI_style\",\r\n        effectClass: \"touchUI_active\",\r\n        colWidth: 50,\r\n        threshold: 50,\r\n        direction: \"right\",\r\n        onStart: function () {\r\n            $(\"#toolsCogs\").hide();\r\n        },\r\n        onEnd: function () {\r\n            $(\"#toolsCogs\").show();\r\n        },\r\n        centerLine: true,\r\n        items: [\r\n            {\r\n                content: `<i class=\"fas fa-bug\"></i>`,\r\n                click: function () {\r\n                   // $(\"#debugDisplay\").toggle();\r\n                },\r\n                items: [{\r\n                    content: '<i class=\"fas fa-redo\"></i>',\r\n                    click: function () {\r\n                        window.location.reload();\r\n                    }\r\n                }, {\r\n                    content: '<i class=\"fas fa-desktop\"></i>',\r\n                    click: function () {\r\n                        toggleFullScreen();\r\n                        setTimeout(function () {\r\n                            executeResizeEvent();\r\n                        }, 1000);\r\n                    }\r\n                }]\r\n            },\r\n            {\r\n                content: '<i class=\"fas fa-suitcase\"></i>',\r\n                click: function () {\r\n                    showManagerMenu();\r\n                    selectTab(1);\r\n                }\r\n            },\r\n            {\r\n                content: '<i class=\"fas fa-map\"></i>',\r\n                click: function () {\r\n                    showMapFullScreen();\r\n\r\n                }\r\n            },\r\n            {\r\n                content: `<i class=\"fas fa-wrench\"></i>`,\r\n                items: [{\r\n                    content: '<i class=\"fas fa-long-arrow-alt-up\"></i>',\r\n                    click: function () {\r\n                        playerShip.selectTool.apply(playerShip, [0]);\r\n                    }\r\n                },\r\n                {\r\n                    content: '<i class=\"fas fa-map-pin\"></i>',\r\n                    click: function () {\r\n                        playerShip.selectTool.apply(playerShip, [1]);\r\n                    },\r\n                    items: [{\r\n                        content: '<i class=\"fas fa-long-arrow-alt-up\"></i>',\r\n                        click: function () {\r\n                            playerShip.Sprite.setMaxVelocity(20000);\r\n                        }\r\n                    }],\r\n                },\r\n                {\r\n                    content: '<i class=\"fas fa-arrows-alt\"></i>',\r\n                    click: function () {\r\n                        playerShip.toggleInertiaDampeners();\r\n                    }\r\n                }]\r\n            }\r\n        ]\r\n    });\r\n\r\n    var midScreen = window.innerWidth / 2 - 50;\r\n    var midScreen2 = window.innerHeight / 2 - 50;\r\n    yy.writeCSS(`\r\n        .touchUI_style {\r\n            color: white;\r\n            font-size: 35px;\r\n        }\r\n        .touchUI_active {\r\n            transform: translateX(-25px)\r\n        }\r\n        .touchUI_active_ {\r\n            left: ${midScreen}px !important;\r\n        }\r\n    `);\r\n    setTimeout(function () {\r\n        // $(\"#debugDisplay\").toggle();\r\n    }, 500);\r\n}","import { Game } from \"../main\";\r\nimport { gameReference } from \"../states/create\";\r\nimport { generateTouchMenu } from \"./touchMenu\";\r\n\r\nexport function registerResize() {\r\n    var timer = {};\r\n    $(window).on(\"resize\", function () {\r\n        clearTimeout(timer);\r\n        timer = setTimeout(function () {\r\n            executeResizeEvent();\r\n        }, 500);\r\n\r\n    });\r\n}\r\n\r\n\r\nexport function executeResizeEvent() {\r\n    Game.resize(window.innerWidth, window.innerHeight);\r\n    Game.renderer.resize(window.innerWidth, window.innerHeight);\r\n    gameReference.cameras.main.setSize(window.innerWidth, window.innerHeight);\r\n    generateTouchMenu();\r\n}\r\n\r\n\r\nexport function toggleFullScreen() {\r\n    if (!document.fullscreenElement) {\r\n        document.documentElement.requestFullscreen();\r\n    } else {\r\n        if (document.exitFullscreen) {\r\n            document.exitFullscreen();\r\n        }\r\n    }\r\n}","import { preload } from \"./states/preload\";\r\nimport { create } from \"./states/create\";\r\nimport { update } from \"./states/update\";\r\nimport { generateVirtualJoystick } from \"./ui/virtualJoystick\";\r\nimport { loadSectorNames } from \"./data/sectorName\";\r\nimport { registerResize } from \"./ui/resizer\";\r\nimport { generateMapInterface } from \"./ui/map\";\r\nimport { generateManagerMenu } from \"./ui/managerMenu\";\r\nimport { globalPointerUp } from \"./ui/interactiveSprites\";\r\nimport { generateTouchMenu } from \"./ui/touchMenu\";\r\n\r\n\r\nexport var Game;\r\nvar config = {\r\n    type: Phaser.AUTO,\r\n    width: window.innerWidth,\r\n    parent: \"root\",\r\n    autoResize: true,\r\n    height: window.innerHeight,\r\n    physics: {\r\n        default: \"arcade\",\r\n        arcade: {\r\n            debug: true,\r\n            gravity: { y: 0 }\r\n        }\r\n    },\r\n    scene: {\r\n        preload: preload,\r\n        create: create,\r\n        update: update\r\n    }\r\n};\r\nif (window.location.host === \"yasmany1111.github.io\") {\r\n\r\n    config.physics.arcade.debug = false;\r\n}\r\n\r\n\r\nvar gameRef;\r\n\r\nasync function loadGameData(callback) {\r\n    await loadSectorNames();\r\n\r\n    return \"\";\r\n}\r\nString.prototype.capitalize = function () {\r\n    return this.charAt(0).toUpperCase() + this.slice(1);\r\n}\r\nexport default async function main() {\r\n    \r\n    $(\"#root\").css(\"overflow\", \"hidden\");\r\n    $(\"#root\").addClass(\"no-select\");\r\n    $(\"body\").css(\"overflow\", \"hidden\");\r\n    $(\"html\").css(\"overflow\", \"hidden\");\r\n\r\n    $(\"body\").append(`\r\n        <div id=\"gameMenuInitiatorContainer\" style=\"z-index:10000;\">\r\n            <button id=\"gameStartButton\">Start</button>\r\n        </div>\r\n    `);\r\n\r\n    async function startActualGame() {\r\n        Game = new Phaser.Game(config);\r\n        Game.shared = {};\r\n        gameRef = Game;\r\n        // UI\r\n        await loadGameData();\r\n        generateVirtualJoystick();\r\n        generateTouchMenu();\r\n        generateMapInterface();\r\n        generateManagerMenu();\r\n        registerResize();\r\n\r\n    }\r\n    $(\"#gameMenuInitiatorContainer\").click(function () {\r\n        try {\r\n            $(\"#gameMenuInitiatorContainer\").remove();\r\n            var audio = new Audio('assets/audio/star_wars.mp3');\r\n            audio.loop = true;\r\n            audio.volume = 0.2;\r\n            audio.play();\r\n            responsiveVoice.speak(\"The republic has been torn to pieces, whatever is left of it's remains is under a heavy martial law. You, captain hook, as a former colony survey pilot for the governor of Aquilea, has been left out with the Esmerald IV ship. Your task is to find a proper planet for colonization, and aid it so it can grow into a new civilization\");\r\n\r\n            startActualGame();\r\n        } catch (ex) { alert(ex.message); }\r\n\r\n    });\r\n\r\n\r\n\r\n\r\n    $(\"#root\").on(\"mouseup touchend\", function () {\r\n        globalPointerUp();\r\n    });\r\n\r\n\r\n    yy.writeCSS(`\r\n        #gameMenuInitiatorContainer {\r\n            width: 100%;\r\n            height: 100%;\r\n            background: blue;\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n        }\r\n    `);\r\n    if (window.location.host !== \"yasmany1111.github.io\" && yy.device.info().os !== \"iOS\") {\r\n\r\n        startActualGame();\r\n        $(\"#gameMenuInitiatorContainer\").remove();\r\n    }\r\n}\r\n\r\nexport function getGameReference() {\r\n    return gameRef;\r\n}\r\n\r\n\r\n","import main from \"./src/main\";\r\n\r\n\r\n\r\n(function (global) {\r\n    if (global.infinimy !== undefined) {\r\n        throw Error(\"myBundle variable already defined\");\r\n    }\r\n    global.infinimy = main;\r\n}).call(this, typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : typeof window !== 'undefined' ? window : {})"]}